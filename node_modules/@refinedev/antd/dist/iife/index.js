(()=>{var Td=Object.create;var Ja=Object.defineProperty;var bd=Object.getOwnPropertyDescriptor;var Pd=Object.getOwnPropertyNames;var Cd=Object.getPrototypeOf,xd=Object.prototype.hasOwnProperty;var T=(e,t)=>Ja(e,"name",{value:t,configurable:!0}),p=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var ta=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ed=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Pd(t))!xd.call(e,a)&&a!==r&&Ja(e,a,{get:()=>t[a],enumerable:!(o=bd(t,a))||o.enumerable});return e};var N=(e,t,r)=>(r=e!=null?Td(Cd(e)):{},Ed(t||!e||!e.__esModule?Ja(r,"default",{value:e,enumerable:!0}):r,e));var oa=ta((Sg,Si)=>{var Ld=Object.create,ra=Object.defineProperty,Sd=Object.getOwnPropertyDescriptor,Fd=Object.getOwnPropertyNames,wd=Object.getPrototypeOf,kd=Object.prototype.hasOwnProperty,Dd=T((e,t)=>{for(var r in t)ra(e,r,{get:t[r],enumerable:!0})},"N"),Ti=T((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Fd(t))!kd.call(e,a)&&a!==r&&ra(e,a,{get:()=>t[a],enumerable:!(o=Sd(t,a))||o.enumerable});return e},"E"),Bd=T((e,t,r)=>(r=e!=null?Ld(wd(e)):{},Ti(t||!e||!e.__esModule?ra(r,"default",{value:e,enumerable:!0}):r,e)),"A"),Rd=T(e=>Ti(ra({},"__esModule",{value:!0}),e),"V"),bi={};Dd(bi,{DevToolsContext:()=>Li,DevToolsContextProvider:()=>Ad,DevtoolsEvent:()=>Pi,hooksByScope:()=>Md,receive:()=>Ei,scopes:()=>Ci,send:()=>xi});Si.exports=Rd(bi);var Pi=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(Pi||{}),Ci={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},Md=Object.entries(Ci).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),Wr=Bd(p("react"));async function xi(e,t,r){if(e.readyState!==e.OPEN){await new Promise(o=>{let a=T(()=>{e.send(JSON.stringify({event:t,payload:r})),o(),e.removeEventListener("open",a)},"a");e.addEventListener("open",a)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}T(xi,"d");function Ei(e,t,r){let o=T(a=>{let{event:i,payload:n}=JSON.parse(a.data);t===i&&r(n)},"s");return e.addEventListener("message",o),()=>{e.removeEventListener("message",o)}}T(Ei,"c");var Li=Wr.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),Ad=T(({__devtools:e,port:t,children:r})=>{let[o,a]=Wr.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[i,n]=Wr.default.useState(null);Wr.default.useEffect(()=>{let c=new WebSocket(`${o.secure?"wss":"ws"}://localhost:${o.port}`),m=Ei(c,"devtools:handshake",l=>{a(b=>({...b,devtoolsUrl:l.url})),m()});return c.addEventListener("open",()=>{o.__devtools||xi(c,"devtools:init",{url:window.location.origin})}),n(c),()=>{m(),c.close(1e3,window.location.origin)}},[]);let s=Wr.default.useMemo(()=>({...o,ws:i}),[o,i]);return Wr.default.createElement(Li.Provider,{value:s},r)},"S")});var ve=ta((Bg,Ri)=>{var Nd=Object.create,aa=Object.defineProperty,Od=Object.getOwnPropertyDescriptor,Id=Object.getOwnPropertyNames,qd=Object.getPrototypeOf,Ud=Object.prototype.hasOwnProperty,Vd=T((e,t)=>{for(var r in t)aa(e,r,{get:t[r],enumerable:!0})},"L"),Fi=T((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Id(t))!Ud.call(e,a)&&a!==r&&aa(e,a,{get:()=>t[a],enumerable:!(o=Od(t,a))||o.enumerable});return e},"d"),wi=T((e,t,r)=>(r=e!=null?Nd(qd(e)):{},Fi(t||!e||!e.__esModule?aa(r,"default",{value:e,enumerable:!0}):r,e)),"E"),Hd=T(e=>Fi(aa({},"__esModule",{value:!0}),e),"M"),ki={};Vd(ki,{getTrace:()=>Bi,getXRay:()=>Gd,useQuerySubscription:()=>_d});Ri.exports=Hd(ki);var $d=wi(p("error-stack-parser")),Qd="renderWithHooks",Kd=T(e=>{let t=e.findIndex(r=>r.functionName===Qd);return t!==-1?e.slice(0,t):e},"T"),Di=/node_modules\/refinedev\/(?<name>.*?)\//,zd=T(e=>e?!!e.match(Di):!1,"_"),Wd=T(e=>{var t;if(!e)return;let r=e.match(Di),o=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(o)return`@refinedev/${o}`},"R");function Bi(){return[];try{let e=new Error,t=$d.default.parse(e);return Kd(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:zd(r.fileName),packageName:Wd(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}T(Bi,"l");var en=oa(),jd=T((e,t)=>{if(en.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(en.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(en.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function Gd(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}T(Gd,"I");var wg=oa(),kg=wi(p("react")),Dg=oa(),_d=()=>({})});var X=ta((Mg,Il)=>{var Xd=Object.create,Ao=Object.defineProperty,Yd=Object.getOwnPropertyDescriptor,Zd=Object.getOwnPropertyNames,Jd=Object.getPrototypeOf,ec=Object.prototype.hasOwnProperty,d=T((e,t)=>Ao(e,"name",{value:t,configurable:!0}),"o"),tc=T((e,t)=>{for(var r in t)Ao(e,r,{get:t[r],enumerable:!0})},"Ei"),ks=T((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Zd(t))!ec.call(e,a)&&a!==r&&Ao(e,a,{get:()=>t[a],enumerable:!(o=Yd(t,a))||o.enumerable});return e},"$s"),G=T((e,t,r)=>(r=e!=null?Xd(Jd(e)):{},ks(t||!e||!e.__esModule?Ao(r,"default",{value:e,enumerable:!0}):r,e)),"V"),rc=T(e=>ks(Ao({},"__esModule",{value:!0}),e),"Ui"),Ds={};tc(Ds,{AccessControlContext:()=>Uo,AuthPage:()=>Bm,Authenticated:()=>Nl,AutoSaveIndicator:()=>rf,CanAccess:()=>Ym,ErrorComponent:()=>Sm,GitHubBanner:()=>ef,KeyBuilder:()=>Sn,LayoutWrapper:()=>Wm,LoginPage:()=>Rl,ReadyPage:()=>Ml,Refine:()=>zm,ResourceContext:()=>Oo,RouteChangeHandler:()=>Ol,TranslationContext:()=>Nr,UndoableQueue:()=>Al,WelcomePage:()=>Mm,createTreeView:()=>fc,file2Base64:()=>Ac,flattenObjectKeys:()=>Tn,generateDefaultDocumentTitle:()=>rl,getDefaultFilter:()=>Mc,getDefaultSortOrder:()=>Rc,getNextPageParam:()=>Xs,getPreviousPageParam:()=>Ys,handleUseParams:()=>ic,importCSVMapper:()=>Ms,keys:()=>cr,legacyResourceTransform:()=>Zs,matchResourceFromRoute:()=>mc,parseTableParams:()=>Dn,parseTableParamsFromQuery:()=>Bc,pickDataProvider:()=>oe,pickNotDeprecated:()=>j,propertyPathToArray:()=>Dc,queryKeys:()=>sc,routeGenerator:()=>Ws,setInitialFilters:()=>Cn,setInitialSorters:()=>xn,stringifyTableParams:()=>bn,unionFilters:()=>Mo,unionSorters:()=>Pn,useActiveAuthProvider:()=>Qe,useApiUrl:()=>lp,useAuthenticated:()=>Vc,useBack:()=>Sl,useBreadcrumb:()=>xm,useCan:()=>kl,useCanWithoutCache:()=>cm,useCancelNotification:()=>Zr,useCheckError:()=>Hc,useCreate:()=>qn,useCreateMany:()=>cl,useCustom:()=>cp,useCustomMutation:()=>fp,useDataProvider:()=>nt,useDelete:()=>tp,useDeleteMany:()=>sp,useExport:()=>Kp,useForgotPassword:()=>An,useForm:()=>jp,useGetIdentity:()=>Bn,useGetLocale:()=>Hp,useGetToPath:()=>Ta,useGo:()=>kt,useHandleNotification:()=>bt,useImport:()=>tm,useInfiniteList:()=>Tp,useInvalidate:()=>rr,useIsAuthenticated:()=>ha,useIsExistAuthentication:()=>ll,useLink:()=>ba,useList:()=>On,useLiveMode:()=>Cl,useLoadingOvertime:()=>_e,useLog:()=>Or,useLogList:()=>bm,useLogin:()=>va,useLogout:()=>ma,useMany:()=>ul,useMenu:()=>Lm,useMeta:()=>Oe,useModal:()=>rm,useMutationMode:()=>Yr,useNavigation:()=>Dt,useNotification:()=>gr,useOnError:()=>dt,useOne:()=>In,useParse:()=>bl,useParsed:()=>Vt,usePermissions:()=>sl,usePublish:()=>Ar,useRedirectionAfterSubmission:()=>Ll,useRefineContext:()=>ut,useRegister:()=>Mn,useResource:()=>se,useResourceSubscription:()=>qo,useResourceWithRoute:()=>Pl,useRouterContext:()=>Pt,useRouterType:()=>Ke,useSelect:()=>fm,useSetLocale:()=>Vp,useShow:()=>Zp,useSubscription:()=>Mp,useSyncWithLocation:()=>al,useTable:()=>Dl,useTitle:()=>Fc,useToPath:()=>om,useTranslate:()=>Pe,useUpdate:()=>En,useUpdateMany:()=>np,useUpdatePassword:()=>Nn,useUserFriendlyName:()=>kn,useWarnAboutChange:()=>wn,userFriendlyResourceName:()=>As});Il.exports=rc(Ds);var Dr=G(p("react")),Mi=p("@tanstack/react-query"),Ai=ve(),Ln=G(p("qs")),Bs=G(p("lodash/unionWith")),Rs=G(p("lodash/differenceWith")),oc=G(p("warn-once")),tn=d(e=>e/1e3,"userFriendlySecond"),ac=G(p("lodash/zip")),nc=G(p("lodash/fromPairs")),Ms=d((e,t=r=>r)=>{let[r,...o]=e;return o.map(a=>(0,nc.default)((0,ac.default)(r,a))).map((a,i,n)=>t.call(void 0,a,i,n))},"importCSVMapper"),Ni=G(p("pluralize")),As=d((e="",t)=>{let r=js(e);return t==="singular"?Ni.default.singular(r):Ni.default.plural(r)},"userFriendlyResourceName"),ic=d((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),j=d((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function jt(e,t){return e.findIndex((r,o)=>o<=e.length-t.length&&t.every((a,i)=>e[o+i]===a))}T(jt,"qe");d(jt,"arrayFindIndex");function Ns(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(jt(e,["auth","login"])!==-1)return["useLogin"];if(jt(e,["auth","logout"])!==-1)return["useLogout"];if(jt(e,["auth","identity"])!==-1)return["getUserIdentity"];if(jt(e,["auth","register"])!==-1)return["useRegister"];if(jt(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(jt(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(jt(e,["auth","onError"])!==-1)return["useCheckError"];if(jt(e,["auth","permissions"])!==-1)return["usePermissions"];if(jt(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}T(Ns,"Mi");d(Ns,"convertToLegacy");var Tt=T(class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return Ns(this.segments)}get(e){return e?this.legacy():this.segments}},"Ee");d(Tt,"BaseKeyBuilder");var tr=T(class extends Tt{constructor(e){super(e)}params(e){return new Tt([...this.segments,e])}},"Oe");d(tr,"ParamsKeyBuilder");var Os=T(class extends Tt{constructor(e){super(e)}id(e){return new tr([...this.segments,e?String(e):void 0])}},"Sr");d(Os,"DataIdRequiringKeyBuilder");var Is=T(class extends Tt{constructor(e){super(e)}ids(...e){return new tr([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}},"Ar");d(Is,"DataIdsRequiringKeyBuilder");var qs=T(class extends Tt{constructor(e){super(e)}action(e){if(e==="one")return new Os([...this.segments,e]);if(e==="many")return new Is([...this.segments,e]);if(["list","infinite"].includes(e))return new tr([...this.segments,e]);throw new Error("Invalid action type")}},"kr");d(qs,"DataResourceKeyBuilder");var Us=T(class extends Tt{constructor(e){super(e)}resource(e){return new qs([...this.segments,e])}mutation(e){return new tr([...e==="custom"?this.segments:[this.segments[0]],e])}},"Fr");d(Us,"DataKeyBuilder");var Vs=T(class extends Tt{constructor(e){super(e)}action(e){return new tr([...this.segments,e])}},"Qr");d(Vs,"AuthKeyBuilder");var Hs=T(class extends Tt{constructor(e){super(e)}action(e){return new tr([...this.segments,e])}},"Vr");d(Hs,"AccessResourceKeyBuilder");var $s=T(class extends Tt{constructor(e){super(e)}resource(e){return new Hs([...this.segments,e])}},"Br");d($s,"AccessKeyBuilder");var Qs=T(class extends Tt{constructor(e){super(e)}action(e){return new tr([...this.segments,e])}},"Nr");d(Qs,"AuditActionKeyBuilder");var Ks=T(class extends Tt{constructor(e){super(e)}resource(e){return new Qs([...this.segments,e])}action(e){return new tr([...this.segments,e])}},"Kr");d(Ks,"AuditKeyBuilder");var Sn=T(class extends Tt{constructor(e){super(e)}data(e){return new Us(["data",e||"default"])}auth(){return new Vs(["auth"])}access(){return new $s(["access"])}audit(){return new Ks(["audit"])}},"ht");d(Sn,"KeyBuilder");var cr=d(()=>new Sn([]),"keys"),sc=d((e,t,r,o)=>{let a=t||"default",i={all:[a],resourceAll:[a,e||""],list:n=>[...i.resourceAll,"list",{...n,...j(r,o)||{}}],many:n=>[...i.resourceAll,"getMany",n&&n.map(String),{...j(r,o)||{}}].filter(s=>s!==void 0),detail:n=>[...i.resourceAll,"detail",n==null?void 0:n.toString(),{...j(r,o)||{}}],logList:n=>["logList",e,n,o].filter(s=>s!==void 0)};return i},"queryKeys"),ga=d(e=>(t,r,o,a)=>{let i=r||"default";return{all:cr().data(i).get(e),resourceAll:cr().data(r).resource(t??"").get(e),list:n=>cr().data(r).resource(t??"").action("list").params({...n,...j(o,a)||{}}).get(e),many:n=>cr().data(r).resource(t??"").action("many").ids(...n??[]).params({...j(o,a)||{}}).get(e),detail:n=>cr().data(r).resource(t??"").action("one").id(n??"").params({...j(o,a)||{}}).get(e),logList:n=>[...cr().audit().resource(t).action("list").params(n).get(e),a].filter(s=>s!==void 0)}},"queryKeysReplacement"),lc=d((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),Fn=d(e=>e.startsWith(":"),"isParameter"),_r=d(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),uc=d((e,t)=>{let r=_r(e),o=_r(t);return r.length===o.length},"isSegmentCountsSame"),er=d(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),dc=d((e,t)=>{let r=er(e),o=er(t);if(!uc(r,o))return!1;let a=_r(r);return _r(o).every((i,n)=>Fn(i)||i===a[n])},"checkBySegments"),cc=d((e,t,r)=>{let o=er(r||""),a=`${o}${o?"/":""}${e}`;return t==="list"?a=`${a}`:t==="create"?a=`${a}/create`:t==="edit"?a=`${a}/edit/:id`:t==="show"?a=`${a}/show/:id`:t==="clone"&&(a=`${a}/clone/:id`),`/${a.replace(/^\//,"")}`},"getDefaultActionPath"),mr=d((e,t)=>{var r,o;let a=j((r=e.meta)==null?void 0:r.parent,(o=e.options)==null?void 0:o.parent,e.parentName);return a?t.find(i=>(i.identifier??i.name)===a)??{name:a}:void 0},"getParentResource"),zs=d((e,t,r)=>{let o=[],a=mr(e,t);for(;a;)o.push(a),a=mr(a,t);if(o.length!==0)return`/${o.reverse().map(i=>{var n;let s=r?((n=i.options)==null?void 0:n.route)??i.name:i.name;return er(s)}).join("/")}`},"getParentPrefixForResource"),ht=d((e,t,r)=>{let o=[],a=["list","show","edit","create","clone"],i=zs(e,t,r);return a.forEach(n=>{var s,c;let m=r&&n==="clone"?e.create:e[n],l;typeof m=="function"||r?l=cc(r?((s=e.meta)==null?void 0:s.route)??((c=e.options)==null?void 0:c.route)??e.name:e.name,n,r?i:void 0):typeof m=="string"?l=m:typeof m=="object"&&(l=m.path),l&&o.push({action:n,resource:e,route:`/${l.replace(/^\//,"")}`})}),o},"getActionRoutesFromResource"),pc=d(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(i=>({...i,splitted:_r(er(i.route))})),o=((t=r[0])==null?void 0:t.splitted.length)??0,a=[...r];for(let i=0;i<o;i++){let n=a.filter(s=>!Fn(s.splitted[i]));if(n.length!==0){if(n.length===1){a=n;break}a=n}}return a[0]},"pickMatchedRoute"),mc=d((e,t)=>{let r=t.flatMap(a=>ht(a,t)).filter(a=>dc(e,a.route)),o=pc(r);return{found:!!o,resource:o==null?void 0:o.resource,action:o==null?void 0:o.action,matchedRoute:o==null?void 0:o.route}},"matchResourceFromRoute"),Ws=d((e,t)=>{var r;let o,a=zs(e,t,!0);if(a){let i=j(e.meta,e.options);o=`${a}/${(i==null?void 0:i.route)??e.name}`}else o=((r=e.options)==null?void 0:r.route)??e.name;return`/${o.replace(/^\//,"")}`},"routeGenerator"),fc=d(e=>{var t;let r=[],o={},a={},i,n;for(let s=0;s<e.length;s++){i=e[s];let c=i.route??((t=j(i==null?void 0:i.meta,i.options))==null?void 0:t.route)??"";o[c]=i,o[c].children=[],a[i.name]=i,a[i.name].children=[]}for(let s in o)o.hasOwnProperty(s)&&(n=o[s],n.parentName&&a[n.parentName]?a[n.parentName].children.push(n):r.push(n));return r},"createTreeView"),js=d(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),Gs=G(p("react")),Oi=G(p("pluralize")),gc=G(p("react")),_s=d(({children:e})=>gc.default.createElement("div",null,e),"DefaultLayout"),lt={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:js,plural:Oi.default.plural,singular:Oi.default.singular},disableServerSideValidation:!1},fr=Gs.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:_s,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:lt}),yc=d(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,undoableTimeout:a,children:i,DashboardPage:n,Title:s,Layout:c=_s,Header:m,Sider:l,Footer:b,OffLayoutArea:x,LoginPage:u=Rl,catchAll:h,liveMode:g="off",onLiveEvent:y,options:P})=>Gs.default.createElement(fr.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,Title:s,undoableTimeout:a,Layout:c,Header:m,Sider:l,Footer:b,OffLayoutArea:x,DashboardPage:n,LoginPage:u,catchAll:h,liveMode:g,onLiveEvent:y,options:P}},i),"RefineContextProvider"),vc=d(({options:e,disableTelemetry:t,liveMode:r,mutationMode:o,reactQueryClientConfig:a,reactQueryDevtoolConfig:i,syncWithLocation:n,undoableTimeout:s,warnWhenUnsavedChanges:c}={})=>{var m,l,b,x,u,h,g,y;let P={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??o??lt.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??s??lt.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??n??lt.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??c??lt.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??lt.liveMode,redirect:{afterCreate:((m=e==null?void 0:e.redirect)==null?void 0:m.afterCreate)??lt.redirect.afterCreate,afterClone:((l=e==null?void 0:e.redirect)==null?void 0:l.afterClone)??lt.redirect.afterClone,afterEdit:((b=e==null?void 0:e.redirect)==null?void 0:b.afterEdit)??lt.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??lt.overtime,textTransformers:{humanize:((x=e==null?void 0:e.textTransformers)==null?void 0:x.humanize)??lt.textTransformers.humanize,plural:((u=e==null?void 0:e.textTransformers)==null?void 0:u.plural)??lt.textTransformers.plural,singular:((h=e==null?void 0:e.textTransformers)==null?void 0:h.singular)??lt.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??lt.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},f=(e==null?void 0:e.disableTelemetry)??t??!1,E={clientConfig:((g=e==null?void 0:e.reactQuery)==null?void 0:g.clientConfig)??a??{},devtoolConfig:((y=e==null?void 0:e.reactQuery)==null?void 0:y.devtoolConfig)??i??{}};return{optionsWithDefaults:P,disableTelemetryWithDefault:f,reactQueryWithDefaults:E}},"handleRefineOptions"),hc=d(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),Ii=d(async(e,t,r)=>{let o=[];for(let[a,i]of e.entries())try{let n=await i();o.push(t(n,a))}catch(n){o.push(r(n,a))}return o},"sequentialPromises"),Ze=d((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(i=>er(i.route??"")===er(e))||t.find(i=>i.name===e);let o=t.find(a=>a.identifier===e);return o||(o=t.find(a=>a.name===e)),o},"pickResource"),oe=d((e,t,r)=>{if(t)return t;let o=Ze(e,r),a=j(o==null?void 0:o.meta,o==null?void 0:o.options);return a!=null&&a.dataProviderName?a.dataProviderName:"default"},"pickDataProvider"),ya=d(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),Xs=d(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let o=(t==null?void 0:t.current)||1,a=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/a);return o<i?Number(o)+1:void 0},"getNextPageParam"),Ys=d(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let o=(t==null?void 0:t.current)||1;return o===1?void 0:o-1},"getPreviousPageParam"),Zs=d(e=>{let t=[];return e.forEach(r=>{var o,a;t.push({...r,label:((o=r.meta)==null?void 0:o.label)??((a=r.options)==null?void 0:a.label),route:Ws(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),Tc=d(e=>_r(er(e)).flatMap(t=>Fn(t)?[t.slice(1)]:[]),"pickRouteParams"),bc=d((e,t={})=>e.reduce((r,o)=>{let a=t[o];return typeof a<"u"&&(r[o]=a),r},{}),"prepareRouteParams"),St=d((e,t={},r={},o={})=>{let a=Tc(e),i=bc(a,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...o});return e.replace(/:([^\/]+)/g,(n,s)=>{let c=i[s];return typeof c<"u"?`${c}`:n})},"composeRoute"),Xr=G(p("react")),Js=Xr.default.createContext({}),Pc=d(({children:e,isProvided:t,...r})=>{let{replace:o}=Dt(),a=d(async c=>{var m;try{return await((m=r.login)==null?void 0:m.call(r,c))}catch(l){return Promise.reject(l)}},"loginFunc"),i=d(async c=>{var m;try{return await((m=r.register)==null?void 0:m.call(r,c))}catch(l){return Promise.reject(l)}},"registerFunc"),n=d(async c=>{var m;try{return await((m=r.logout)==null?void 0:m.call(r,c))}catch(l){return Promise.reject(l)}},"logoutFunc"),s=d(async c=>{var m;try{return await((m=r.checkAuth)==null?void 0:m.call(r,c)),Promise.resolve()}catch(l){return l!=null&&l.redirectPath&&o(l.redirectPath),Promise.reject(l)}},"checkAuthFunc");return Xr.default.createElement(Js.Provider,{value:{...r,login:a,logout:n,checkAuth:s,register:i,isProvided:t}},e)},"LegacyAuthContextProvider"),el=Xr.default.createContext({}),Cc=d(({children:e,isProvided:t,...r})=>{let o=d(async m=>{var l;try{return await((l=r.login)==null?void 0:l.call(r,m))}catch(b){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleLogin"),a=d(async m=>{var l;try{return await((l=r.register)==null?void 0:l.call(r,m))}catch(b){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleRegister"),i=d(async m=>{var l;try{return await((l=r.logout)==null?void 0:l.call(r,m))}catch(b){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleLogout"),n=d(async m=>{var l;try{let b=await((l=r.check)==null?void 0:l.call(r,m));return Promise.resolve(b)}catch(b){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleCheck"),s=d(async m=>{var l;try{let b=await((l=r.forgotPassword)==null?void 0:l.call(r,m));return Promise.resolve(b)}catch(b){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleForgotPassword"),c=d(async m=>{var l;try{let b=await((l=r.updatePassword)==null?void 0:l.call(r,m));return Promise.resolve(b)}catch(b){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleUpdatePassword");return Xr.default.createElement(el.Provider,{value:{...r,login:o,logout:i,check:n,register:a,forgotPassword:s,updatePassword:c,isProvided:t}},e)},"AuthBindingsContextProvider"),wt=d(()=>Xr.default.useContext(Js),"useLegacyAuthContext"),Ut=d(()=>Xr.default.useContext(el),"useAuthBindingsContext"),Qe=d(()=>{let e=wt(),t=Ut();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),tl=d(({hasPagination:e,pagination:t,configPagination:r}={})=>{let o=e===!1?"off":"server",a=(t==null?void 0:t.mode)??o,i=j(t==null?void 0:t.current,r==null?void 0:r.current)??1,n=j(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:i,pageSize:n,mode:a}},"handlePaginationParams"),qi=p("react"),Ui=d(e=>{let[t,r]=(0,qi.useState)(!1);return(0,qi.useEffect)(()=>{let o=window.matchMedia(e);o.matches!==t&&r(o.matches);let a=d(()=>r(o.matches),"listener");return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[t,e]),t},"useMediaQuery"),rn=d((e,t,r,o)=>{let a=o?e(t,o,r):e(t,r);return a===t||typeof a>"u"?r??t:a},"safeTranslate");function rl(e,t,r,o,a){var i;let n={create:"Create new ",clone:`#${o??""} Clone `,edit:`#${o??""} Edit `,show:`#${o??""} Show `,list:""},s=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),c=(t==null?void 0:t.label)??((i=t==null?void 0:t.meta)==null?void 0:i.label)??As(s,r==="list"?"plural":"singular"),m=a??c,l=rn(e,"documentTitle.default","refine"),b=rn(e,"documentTitle.suffix"," | refine"),x=l;return r&&s&&(x=rn(e,`documentTitle.${s}.${r}`,`${n[r]??""}${m}${b}`,{id:o})),x}T(rl,"Wo");d(rl,"generateDefaultDocumentTitle");var xc=p("react"),Yr=d(()=>{let{mutationMode:e,undoableTimeout:t}=(0,xc.useContext)(fr);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),Vi=p("react"),hn=G(p("react")),ol=hn.default.createContext({}),Ec=d(({children:e})=>{let[t,r]=(0,hn.useState)(!1);return hn.default.createElement(ol.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),wn=d(()=>{let{warnWhenUnsavedChanges:e}=(0,Vi.useContext)(fr),{warnWhen:t,setWarnWhen:r}=(0,Vi.useContext)(ol);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),Lc=p("react"),al=d(()=>{let{syncWithLocation:e}=(0,Lc.useContext)(fr);return{syncWithLocation:e}},"useSyncWithLocation"),Sc=p("react"),Fc=d(()=>{let{Title:e}=(0,Sc.useContext)(fr);return e},"useTitle"),wc=p("react"),ut=d(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:a,Title:i,hasDashboard:n,mutationMode:s,syncWithLocation:c,undoableTimeout:m,warnWhenUnsavedChanges:l,DashboardPage:b,LoginPage:x,catchAll:u,options:h}=(0,wc.useContext)(fr);return{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:a,Title:i,hasDashboard:n,mutationMode:s,syncWithLocation:c,undoableTimeout:m,warnWhenUnsavedChanges:l,DashboardPage:b,LoginPage:x,catchAll:u,options:h}},"useRefineContext"),kn=d(()=>{let{options:{textTransformers:e}}=ut();return d((t="",r)=>{let o=e.humanize(t);return r==="singular"?e.singular(o):e.plural(o)},"getFriendlyName")},"useUserFriendlyName"),Hi=d(e=>typeof e=="object"&&e!==null,"isNested"),kc=d(e=>Array.isArray(e),"isArray"),Tn=d((e,t="")=>Hi(e)?Object.keys(e).reduce((r,o)=>{let a=t.length?t+".":"";return Hi(e[o])&&Object.keys(e[o]).length&&(kc(e[o])&&e[o].length?e[o].forEach((i,n)=>{Object.assign(r,Tn(i,a+o+"."+n))}):Object.assign(r,Tn(e[o],a+o))),r[a+o]=e[o],r},{}):{[t]:e},"flattenObjectKeys"),Dc=d(e=>e.split(".").map(t=>isNaN(Number(t))?t:Number(t)),"propertyPathToArray"),Dn=d(e=>{let{current:t,pageSize:r,sorter:o,sorters:a,filters:i}=Ln.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:j(a,o)??[],parsedFilters:i??[]}},"parseTableParams"),Bc=d(e=>{let t=Ln.default.stringify(e);return Dn(`/${t}`)},"parseTableParamsFromQuery"),bn=d(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:o,sorters:a,filters:i,...n}=e;return Ln.default.stringify({...n,...r||{},sorters:j(a,o),filters:i},t)},"stringifyTableParams"),nl=d((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),il=d((e,t)=>e.field==t.field,"compareSorters"),Mo=d((e,t,r=[])=>(t.filter(o=>(o.operator==="or"||o.operator==="and")&&!o.key).length>1&&(0,oc.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Bs.default)(e,t,r,nl).filter(o=>o.value!==void 0&&o.value!==null&&(o.operator!=="or"||o.operator==="or"&&o.value.length!==0)&&(o.operator!=="and"||o.operator==="and"&&o.value.length!==0))),"unionFilters"),Pn=d((e,t)=>(0,Bs.default)(e,t,il).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Cn=d((e,t)=>[...(0,Rs.default)(t,e,nl),...e],"setInitialFilters"),xn=d((e,t)=>[...(0,Rs.default)(t,e,il),...e],"setInitialSorters"),Rc=d((e,t)=>{if(!t)return;let r=t.find(o=>o.field===e);if(r)return r.order},"getDefaultSortOrder"),Mc=d((e,t,r="eq")=>{let o=t==null?void 0:t.find(a=>{if(a.operator!=="or"&&a.operator!=="and"&&"field"in a){let{operator:i,field:n}=a;return n===e&&i===r}});if(o)return o.value||[]},"getDefaultFilter"),Ac=d(e=>new Promise((t,r)=>{let o=new FileReader,a=d(()=>{o.result&&(o.removeEventListener("load",a,!1),t(o.result))},"resultHandler");o.addEventListener("load",a,!1),o.readAsDataURL(e.originFileObj),o.onerror=i=>(o.removeEventListener("load",a,!1),r(i))}),"file2Base64"),he=d(()=>{let{options:{useNewQueryKeys:e}}=ut();return{keys:cr,preferLegacyKeys:!e}},"useKeys");function sl({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=wt(),{getPermissions:o}=Ut(),{keys:a,preferLegacyKeys:i}=he(),n=(0,Mi.useQuery)({queryKey:a().auth().action("permissions").get(i),queryFn:o??(()=>Promise.resolve(void 0)),enabled:!e&&!!o,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,Ai.getXRay)("usePermissions",i)}}),s=(0,Mi.useQuery)({queryKey:[...a().auth().action("permissions").get(i),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve(void 0)),enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ai.getXRay)("usePermissions",i)}});return e?s:n}T(sl,"Pn");d(sl,"usePermissions");var $i=p("@tanstack/react-query"),Qi=ve();function Bn({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=wt(),{getIdentity:o}=Ut(),{keys:a,preferLegacyKeys:i}=he(),n=(0,$i.useQuery)({queryKey:a().auth().action("identity").get(i),queryFn:o??(()=>Promise.resolve({})),enabled:!e&&!!o,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Qi.getXRay)("useGetIdentity",i)}}),s=(0,$i.useQuery)({queryKey:[...a().auth().action("identity").get(i),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve({})),enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Qi.getXRay)("useGetIdentity",i)}});return e?s:n}T(Bn,"jr");d(Bn,"useGetIdentity");var Ki=p("@tanstack/react-query"),zi=ve(),Nc=p("@tanstack/react-query"),Rn=d(()=>{let e=(0,Nc.useQueryClient)(),{keys:t,preferLegacyKeys:r}=he();return d(async()=>{await Promise.all(["check","identity","permissions"].map(o=>e.invalidateQueries(t().auth().action(o).get(r))))},"invalidate")},"useInvalidateAuthStore");function ma({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Rn(),o=Ke(),a=kt(),{push:i}=Dt(),{open:n,close:s}=gr(),{logout:c}=wt(),{logout:m}=Ut(),{keys:l,preferLegacyKeys:b}=he(),x=(0,Ki.useMutation)({mutationKey:l().auth().action("logout").get(b),mutationFn:m,onSuccess:async(h,g)=>{let{success:y,error:P,redirectTo:f}=h,{redirectPath:E}=g??{},v=E??f;y&&(s==null||s("useLogout-error")),(P||!y)&&(n==null||n(on(P))),v!==!1&&(o==="legacy"?i(v??"/login"):v&&a({to:v})),await r()},onError:h=>{n==null||n(on(h))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,zi.getXRay)("useLogout",b)}}),u=(0,Ki.useMutation)({mutationKey:[...l().auth().action("logout").get(b),"v3LegacyAuthProviderCompatible"],mutationFn:c,onSuccess:async(h,g)=>{let y=(g==null?void 0:g.redirectPath)??h;if(y!==!1){if(y){o==="legacy"?i(y):a({to:y});return}o==="legacy"?i("/login"):a({to:"/login"}),await r()}},onError:h=>{n==null||n(on(h))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,zi.getXRay)("useLogout",b)}});return e?u:x}T(ma,"fr");d(ma,"useLogout");var on=d(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),Oc=G(p("react")),Wi=p("@tanstack/react-query"),ji=ve(),Ic=G(p("qs"));function va({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Rn(),o=Ke(),a=kt(),{replace:i}=Dt(),n=Vt(),{useLocation:s}=Pt(),{search:c}=s(),{close:m,open:l}=gr(),{login:b}=wt(),{login:x}=Ut(),{keys:u,preferLegacyKeys:h}=he(),g=Oc.default.useMemo(()=>{var f;return o==="legacy"?Ic.default.parse(c,{ignoreQueryPrefix:!0}).to:(f=n.params)==null?void 0:f.to},[o,n.params,c]),y=(0,Wi.useMutation)({mutationKey:u().auth().action("login").get(h),mutationFn:x,onSuccess:async({success:f,redirectTo:E,error:v})=>{f&&(m==null||m("login-error")),(v||!f)&&(l==null||l(an(v))),g&&f?o==="legacy"?i(g):a({to:g,type:"replace"}):E?o==="legacy"?i(E):a({to:E,type:"replace"}):o==="legacy"&&i("/"),await r()},onError:f=>{l==null||l(an(f))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ji.getXRay)("useLogin",h)}}),P=(0,Wi.useMutation)({mutationKey:[...u().auth().action("login").get(h),"v3LegacyAuthProviderCompatible"],mutationFn:b,onSuccess:async f=>{g&&i(g),f!==!1&&!g&&(typeof f=="string"?o==="legacy"?i(f):a({to:f,type:"replace"}):o==="legacy"?i("/"):a({to:"/",type:"replace"})),await r(),m==null||m("login-error")},onError:f=>{l==null||l(an(f))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ji.getXRay)("useLogin",h)}});return e?P:y}T(va,"Ft");d(va,"useLogin");var an=d(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),Gi=p("@tanstack/react-query"),_i=ve();function Mn({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Rn(),o=Ke(),a=kt(),{replace:i}=Dt(),{register:n}=wt(),{register:s}=Ut(),{close:c,open:m}=gr(),{keys:l,preferLegacyKeys:b}=he(),x=(0,Gi.useMutation)({mutationKey:l().auth().action("register").get(b),mutationFn:s,onSuccess:async({success:h,redirectTo:g,error:y})=>{h&&(c==null||c("register-error")),(y||!h)&&(m==null||m(nn(y))),g?o==="legacy"?i(g):a({to:g,type:"replace"}):o==="legacy"&&i("/"),await r()},onError:h=>{m==null||m(nn(h))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,_i.getXRay)("useRegister",b)}}),u=(0,Gi.useMutation)({mutationKey:[...l().auth().action("register").get(b),"v3LegacyAuthProviderCompatible"],mutationFn:n,onSuccess:async h=>{h!==!1&&(h?o==="legacy"?i(h):a({to:h,type:"replace"}):o==="legacy"?i("/"):a({to:"/",type:"replace"}),await r(),c==null||c("register-error"))},onError:h=>{m==null||m(nn(h))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,_i.getXRay)("useRegister",b)}});return e?u:x}T(Mn,"Xr");d(Mn,"useRegister");var nn=d(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),Xi=p("@tanstack/react-query"),Yi=ve();function An({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Ke(),o=kt(),{replace:a}=Dt(),{forgotPassword:i}=wt(),{forgotPassword:n}=Ut(),{close:s,open:c}=gr(),{keys:m,preferLegacyKeys:l}=he(),b=(0,Xi.useMutation)({mutationKey:m().auth().action("forgotPassword").get(l),mutationFn:n,onSuccess:({success:u,redirectTo:h,error:g})=>{u&&(s==null||s("forgot-password-error")),(g||!u)&&(c==null||c(sn(g))),h&&(r==="legacy"?a(h):o({to:h,type:"replace"}))},onError:u=>{c==null||c(sn(u))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Yi.getXRay)("useForgotPassword",l)}}),x=(0,Xi.useMutation)({mutationKey:[...m().auth().action("forgotPassword").get(l),"v3LegacyAuthProviderCompatible"],mutationFn:i,onSuccess:u=>{u!==!1&&u&&(r==="legacy"?a(u):o({to:u,type:"replace"})),s==null||s("forgot-password-error")},onError:u=>{c==null||c(sn(u))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Yi.getXRay)("useForgotPassword",l)}});return e?x:b}T(An,"Yr");d(An,"useForgotPassword");var sn=d(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),qc=G(p("react")),Zi=p("@tanstack/react-query"),Ji=ve(),Uc=G(p("qs"));function Nn({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Ke(),o=kt(),{replace:a}=Dt(),{updatePassword:i}=wt(),{updatePassword:n}=Ut(),{close:s,open:c}=gr(),{keys:m,preferLegacyKeys:l}=he(),b=Vt(),{useLocation:x}=Pt(),{search:u}=x(),h=qc.default.useMemo(()=>r==="legacy"?Uc.default.parse(u,{ignoreQueryPrefix:!0})??{}:b.params??{},[u,b,r]),g=(0,Zi.useMutation)({mutationKey:m().auth().action("updatePassword").get(l),mutationFn:async P=>n==null?void 0:n({...h,...P}),onSuccess:({success:P,redirectTo:f,error:E})=>{P&&(s==null||s("update-password-error")),(E||!P)&&(c==null||c(ln(E))),f&&(r==="legacy"?a(f):o({to:f,type:"replace"}))},onError:P=>{c==null||c(ln(P))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ji.getXRay)("useUpdatePassword",l)}}),y=(0,Zi.useMutation)({mutationKey:[...m().auth().action("updatePassword").get(l),"v3LegacyAuthProviderCompatible"],mutationFn:async P=>i==null?void 0:i({...h,...P}),onSuccess:P=>{P!==!1&&P&&(r==="legacy"?a(P):o({to:P,type:"replace"})),s==null||s("update-password-error")},onError:P=>{c==null||c(ln(P))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ji.getXRay)("useUpdatePassword",l)}});return e?y:g}T(Nn,"Jr");d(Nn,"useUpdatePassword");var ln=d(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),es=p("@tanstack/react-query"),ts=ve();function ha({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=wt(),{check:o}=Ut(),{keys:a,preferLegacyKeys:i}=he(),n=(0,es.useQuery)({queryKey:a().auth().action("check").params(t).get(i),queryFn:async()=>await(o==null?void 0:o(t))??{},retry:!1,enabled:!e,meta:{...(0,ts.getXRay)("useIsAuthenticated",i)}}),s=(0,es.useQuery)({queryKey:[...a().auth().action("check").params(t).get(i),"v3LegacyAuthProviderCompatible"],queryFn:async()=>await(r==null?void 0:r(t))??{},retry:!1,enabled:e,meta:{...(0,ts.getXRay)("useIsAuthenticated",i)}});return e?s:n}T(ha,"yr");d(ha,"useIsAuthenticated");var Vc=ha,rs=p("@tanstack/react-query"),os=ve();function dt({v3LegacyAuthProviderCompatible:e=!1}={}){let t=Ke(),r=kt(),{replace:o}=Dt(),{checkError:a}=wt(),{onError:i}=Ut(),{keys:n,preferLegacyKeys:s}=he(),{mutate:c}=ma({v3LegacyAuthProviderCompatible:!!e}),{mutate:m}=ma({v3LegacyAuthProviderCompatible:!!e}),l=(0,rs.useMutation)({mutationKey:n().auth().action("onError").get(s),mutationFn:i,onSuccess:({logout:x,redirectTo:u})=>{if(x){m({redirectPath:u});return}if(u){t==="legacy"?o(u):r({to:u,type:"replace"});return}},meta:{...(0,os.getXRay)("useOnError",s)}}),b=(0,rs.useMutation)({mutationKey:[...n().auth().action("onError").get(s),"v3LegacyAuthProviderCompatible"],mutationFn:a,onError:x=>{c({redirectPath:x})},meta:{...(0,os.getXRay)("useOnError",s)}});return e?b:l}T(dt,"ie");d(dt,"useOnError");var Hc=dt,ll=d(()=>{let{isProvided:e}=wt(),{isProvided:t}=Ut();return!!(t||e)},"useIsExistAuthentication"),$c=ve(),Qc=p("@tanstack/react-query"),un=p("react"),_e=d(({isLoading:e,interval:t,onInterval:r})=>{let[o,a]=(0,un.useState)(void 0),{options:i}=ut(),{overtime:n}=i,s=t??n.interval,c=r??(n==null?void 0:n.onInterval);return(0,un.useEffect)(()=>{let m;return e&&(m=setInterval(()=>{a(l=>l===void 0?s:l+s)},s)),()=>{clearInterval(m),a(void 0)}},[e,s]),(0,un.useEffect)(()=>{c&&o&&c(o)},[o]),{elapsedTime:o}},"useLoadingOvertime"),On=d(({resource:e,config:t,filters:r,hasPagination:o,pagination:a,sorters:i,queryOptions:n,successNotification:s,errorNotification:c,meta:m,metaData:l,liveMode:b,onLiveEvent:x,liveParams:u,dataProviderName:h,overtimeOptions:g}={})=>{let{resources:y,resource:P,identifier:f}=se(e),E=nt(),v=Pe(),M=Qe(),{mutate:S}=dt({v3LegacyAuthProviderCompatible:!!(M!=null&&M.isLegacy)}),C=bt(),w=Oe(),{keys:L,preferLegacyKeys:k}=he(),A=oe(f,h,y),D=j(m,l),B=j(r,t==null?void 0:t.filters),F=j(i,t==null?void 0:t.sort),O=j(o,t==null?void 0:t.hasPagination),q=tl({pagination:a,configPagination:t==null?void 0:t.pagination,hasPagination:O}),R=q.mode==="server",H=w({resource:P,meta:D}),K={meta:H,metaData:H,filters:B,hasPagination:R,pagination:q,sorters:F,config:{...t,sort:F}},I=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,{getList:$}=E(A);qo({resource:f,types:["*"],params:{meta:H,metaData:H,pagination:q,hasPagination:R,sort:F,sorters:F,filters:B,subscriptionType:"useList",...u},channel:`resources/${P==null?void 0:P.name}`,enabled:I,liveMode:b,onLiveEvent:x,dataProviderName:A,meta:{...m,dataProviderName:h}});let V=(0,Qc.useQuery)({queryKey:L().data(A).resource(f??"").action("list").params({...D||{},filters:B,hasPagination:R,...R&&{pagination:q},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(k),queryFn:({queryKey:U,pageParam:W,signal:Q})=>$({resource:(P==null?void 0:P.name)??"",pagination:q,hasPagination:R,filters:B,sort:F,sorters:F,meta:{...H,queryContext:{queryKey:U,pageParam:W,signal:Q}},metaData:{...H,queryContext:{queryKey:U,pageParam:W,signal:Q}}}),...n,enabled:typeof(n==null?void 0:n.enabled)<"u"?n==null?void 0:n.enabled:!!(P!=null&&P.name),select:U=>{var W;let Q=U,{current:_,mode:Y,pageSize:Z}=q;return Y==="client"&&(Q={...Q,data:Q.data.slice((_-1)*Z,_*Z),total:Q.total}),n!=null&&n.select?(W=n==null?void 0:n.select)==null?void 0:W.call(n,Q):Q},onSuccess:U=>{var W;(W=n==null?void 0:n.onSuccess)==null||W.call(n,U);let Q=typeof s=="function"?s(U,K,f):s;C(Q)},onError:U=>{var W;S(U),(W=n==null?void 0:n.onError)==null||W.call(n,U);let Q=typeof c=="function"?c(U,K,f):c;C(Q,{key:`${f}-useList-notification`,message:v("notifications.error",{statusCode:U.statusCode},`Error (status code: ${U.statusCode})`),description:U.message,type:"error"})},meta:{...n==null?void 0:n.meta,...(0,$c.getXRay)("useList",k)}}),{elapsedTime:z}=_e({isLoading:V.isFetching,interval:g==null?void 0:g.interval,onInterval:g==null?void 0:g.onInterval});return{...V,overtime:{elapsedTime:z}}},"useList"),Kc=ve(),zc=p("@tanstack/react-query"),In=d(({resource:e,id:t,queryOptions:r,successNotification:o,errorNotification:a,meta:i,metaData:n,liveMode:s,onLiveEvent:c,liveParams:m,dataProviderName:l,overtimeOptions:b})=>{let{resources:x,resource:u,identifier:h}=se(e),g=nt(),y=Pe(),P=Qe(),{mutate:f}=dt({v3LegacyAuthProviderCompatible:!!(P!=null&&P.isLegacy)}),E=bt(),v=Oe(),{keys:M,preferLegacyKeys:S}=he(),C=j(i,n),w=oe(h,l,x),{getOne:L}=g(w),k=v({resource:u,meta:C});qo({resource:h,types:["*"],channel:`resources/${u==null?void 0:u.name}`,params:{ids:t?[t]:[],id:t,meta:k,metaData:k,subscriptionType:"useOne",...m},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(u==null?void 0:u.name)<"u"&&typeof t<"u",liveMode:s,onLiveEvent:c,dataProviderName:w,meta:{...i,dataProviderName:l}});let A=(0,zc.useQuery)({queryKey:M().data(w).resource(h??"").action("one").id(t??"").params({...C||{}}).get(S),queryFn:({queryKey:B,pageParam:F,signal:O})=>L({resource:(u==null?void 0:u.name)??"",id:t,meta:{...k,queryContext:{queryKey:B,pageParam:F,signal:O}},metaData:{...k,queryContext:{queryKey:B,pageParam:F,signal:O}}}),...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:B=>{var F;(F=r==null?void 0:r.onSuccess)==null||F.call(r,B);let O=typeof o=="function"?o(B,{id:t,...k},h):o;E(O)},onError:B=>{var F;f(B),(F=r==null?void 0:r.onError)==null||F.call(r,B);let O=typeof a=="function"?a(B,{id:t,...k},h):a;E(O,{key:`${t}-${h}-getOne-notification`,message:y("notifications.error",{statusCode:B.statusCode},`Error (status code: ${B.statusCode})`),description:B.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Kc.getXRay)("useOne",S)}}),{elapsedTime:D}=_e({isLoading:A.isFetching,interval:b==null?void 0:b.interval,onInterval:b==null?void 0:b.onInterval});return{...A,overtime:{elapsedTime:D}}},"useOne"),Wc=ve(),jc=p("@tanstack/react-query"),ul=d(({resource:e,ids:t,queryOptions:r,successNotification:o,errorNotification:a,meta:i,metaData:n,liveMode:s,onLiveEvent:c,liveParams:m,dataProviderName:l,overtimeOptions:b})=>{let{resources:x,resource:u,identifier:h}=se(e),g=nt(),y=Pe(),P=Qe(),{mutate:f}=dt({v3LegacyAuthProviderCompatible:!!(P!=null&&P.isLegacy)}),E=bt(),v=Oe(),{keys:M,preferLegacyKeys:S}=he(),C=j(i,n),w=oe(h,l,x),L=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:k,getOne:A}=g(w),D=v({resource:u,meta:C});qo({resource:h,types:["*"],params:{ids:t,meta:D,metaData:D,subscriptionType:"useMany",...m},channel:`resources/${u.name}`,enabled:L,liveMode:s,onLiveEvent:c,dataProviderName:w,meta:{...i,dataProviderName:l}});let B=(0,jc.useQuery)({queryKey:M().data(w).resource(h).action("many").ids(...t).params({...C||{}}).get(S),queryFn:({queryKey:O,pageParam:q,signal:R})=>k?k({resource:u==null?void 0:u.name,ids:t,meta:{...D,queryContext:{queryKey:O,pageParam:q,signal:R}},metaData:{...D,queryContext:{queryKey:O,pageParam:q,signal:R}}}):ya(t.map(H=>A({resource:u==null?void 0:u.name,id:H,meta:{...D,queryContext:{queryKey:O,pageParam:q,signal:R}},metaData:{...D,queryContext:{queryKey:O,pageParam:q,signal:R}}}))),...r,onSuccess:O=>{var q;(q=r==null?void 0:r.onSuccess)==null||q.call(r,O);let R=typeof o=="function"?o(O,t,h):o;E(R)},onError:O=>{var q;f(O),(q=r==null?void 0:r.onError)==null||q.call(r,O);let R=typeof a=="function"?a(O,t,h):a;E(R,{key:`${t[0]}-${h}-getMany-notification`,message:y("notifications.error",{statusCode:O.statusCode},`Error (status code: ${O.statusCode})`),description:O.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Wc.getXRay)("useMany",S)}}),{elapsedTime:F}=_e({isLoading:B.isFetching,interval:b==null?void 0:b.interval,onInterval:b==null?void 0:b.onInterval});return{...B,overtime:{elapsedTime:F}}},"useMany"),Gc=ve(),as=p("@tanstack/react-query"),ca=G(p("react")),dn=G(p("lodash/isEqual")),dl=ca.default.createContext({notifications:[],notificationDispatch:()=>!1}),_c=[],Xc=d((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,dn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,dn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,dn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),Yc=d(({children:e})=>{let[t,r]=(0,ca.useReducer)(Xc,_c),o={notifications:t,notificationDispatch:r};return ca.default.createElement(dl.Provider,{value:o},e,typeof window<"u"&&t.map(a=>ca.default.createElement(Al,{key:`${a.id}-${a.resource}-queue`,notification:a})))},"UndoableQueueContextProvider"),En=d(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:o}=se(),a=(0,as.useQueryClient)(),i=nt(),{mutationMode:n,undoableTimeout:s}=Yr(),c=Pe(),m=Qe(),{mutate:l}=dt({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),b=Ar(),{log:x}=Or(),{notificationDispatch:u}=Zr(),h=bt(),g=rr(),y=Oe(),{options:{textTransformers:P}}=ut(),{keys:f,preferLegacyKeys:E}=he(),v=(0,as.useMutation)({mutationFn:({id:S,values:C,resource:w,mutationMode:L,undoableTimeout:k,onCancel:A,meta:D,metaData:B,dataProviderName:F})=>{let{resource:O,identifier:q}=o(w),R=y({resource:O,meta:j(D,B)}),H=L??n,K=k??s;return H!=="undoable"?i(oe(q,F,r)).update({resource:O.name,id:S,variables:C,meta:R,metaData:R}):new Promise((I,$)=>{let V=d(()=>{i(oe(q,F,r)).update({resource:O.name,id:S,variables:C,meta:R,metaData:R}).then(U=>I(U)).catch(U=>$(U))},"doMutation"),z=d(()=>{$({message:"mutationCancelled"})},"cancelMutation");A&&A(z),u({type:"ADD",payload:{id:S,resource:q,cancelMutation:z,doMutation:V,seconds:K,isSilent:!!A}})})},onMutate:async({resource:S,id:C,mutationMode:w,values:L,dataProviderName:k,meta:A,metaData:D,optimisticUpdateMap:B={list:!0,many:!0,detail:!0}})=>{let{identifier:F}=o(S),{gqlMutation:O,gqlQuery:q,...R}=j(A,D)??{},H=ga(E)(F,oe(F,k,r),R),K=f().data(oe(F,k,r)).resource(F),I=a.getQueriesData(K.get(E)),$=w??n;return await a.cancelQueries(K.get(E),void 0,{silent:!0}),$!=="pessimistic"&&(B.list&&a.setQueriesData(K.action("list").params(R??{}).get(E),V=>{if(typeof B.list=="function")return B.list(V,L,C);if(!V)return null;let z=V.data.map(U=>{var W;return((W=U.id)==null?void 0:W.toString())===(C==null?void 0:C.toString())?{id:C,...U,...L}:U});return{...V,data:z}}),B.many&&a.setQueriesData(K.action("many").get(E),V=>{if(typeof B.many=="function")return B.many(V,L,C);if(!V)return null;let z=V.data.map(U=>{var W;return((W=U.id)==null?void 0:W.toString())===(C==null?void 0:C.toString())&&(U={id:C,...U,...L}),U});return{...V,data:z}}),B.detail&&a.setQueriesData(K.action("one").id(C).params(R??{}).get(E),V=>typeof B.detail=="function"?B.detail(V,L,C):V?{...V,data:{...V.data,...L}}:null)),{previousQueries:I,queryKey:H}},onSettled:(S,C,{id:w,resource:L,dataProviderName:k,invalidates:A=["list","many","detail"]})=>{let{identifier:D}=o(L);g({resource:D,dataProviderName:oe(D,k,r),invalidates:A,id:w}),u({type:"REMOVE",payload:{id:w,resource:D}})},onSuccess:(S,{id:C,resource:w,successNotification:L,dataProviderName:k,values:A,meta:D,metaData:B},F)=>{var O;let{resource:q,identifier:R}=o(w),H=P.singular(R),K=oe(R,k,r),I=y({resource:q,meta:j(D,B)}),$=typeof L=="function"?L(S,{id:C,values:A},R):L;h($,{key:`${C}-${R}-notification`,description:c("notifications.success","Successful"),message:c("notifications.editSuccess",{resource:c(`${R}.${R}`,H)},`Successfully updated ${H}`),type:"success"}),b==null||b({channel:`resources/${q.name}`,type:"updated",payload:{ids:(O=S.data)!=null&&O.id?[S.data.id]:void 0},date:new Date,meta:{...I,dataProviderName:K}});let V;if(F){let _=a.getQueryData(F.queryKey.detail(C));V=Object.keys(A||{}).reduce((Y,Z)=>{var ne;return Y[Z]=(ne=_==null?void 0:_.data)==null?void 0:ne[Z],Y},{})}let{fields:z,operation:U,variables:W,...Q}=I||{};x==null||x.mutate({action:"update",resource:q.name,data:A,previousData:V,meta:{id:C,dataProviderName:K,...Q}})},onError:(S,{id:C,resource:w,errorNotification:L,values:k},A)=>{let{identifier:D}=o(w);if(A)for(let B of A.previousQueries)a.setQueryData(B[0],B[1]);if(S.message!=="mutationCancelled"){l==null||l(S);let B=P.singular(D),F=typeof L=="function"?L(S,{id:C,values:k},D):L;h(F,{key:`${C}-${D}-notification`,message:c("notifications.editError",{resource:c(`${D}.${D}`,B),statusCode:S.statusCode},`Error when updating ${B} (status code: ${S.statusCode})`),description:S.message,type:"error"})}},mutationKey:f().data().mutation("update").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,Gc.getXRay)("useUpdate",E)}}),{elapsedTime:M}=_e({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:M}}},"useUpdate"),Zc=ve(),Jc=p("@tanstack/react-query"),qn=d(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Qe(),{mutate:o}=dt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),a=nt(),i=rr(),{resources:n,select:s}=se(),c=Pe(),m=Ar(),{log:l}=Or(),b=bt(),x=Oe(),{options:{textTransformers:u}}=ut(),{keys:h,preferLegacyKeys:g}=he(),y=(0,Jc.useMutation)({mutationFn:({resource:f,values:E,meta:v,metaData:M,dataProviderName:S})=>{let{resource:C,identifier:w}=s(f),L=x({resource:C,meta:j(v,M)});return a(oe(w,S,n)).create({resource:C.name,variables:E,meta:L,metaData:L})},onSuccess:(f,{resource:E,successNotification:v,dataProviderName:M,invalidates:S=["list","many"],values:C,meta:w,metaData:L})=>{var k,A;let{resource:D,identifier:B}=s(E),F=u.singular(B),O=oe(B,M,n),q=x({resource:D,meta:j(w,L)}),R=typeof v=="function"?v(f,C,B):v;b(R,{key:`create-${B}-notification`,message:c("notifications.createSuccess",{resource:c(`${B}.${B}`,F)},`Successfully created ${F}`),description:c("notifications.success","Success"),type:"success"}),i({resource:B,dataProviderName:O,invalidates:S}),m==null||m({channel:`resources/${D.name}`,type:"created",payload:{ids:(k=f==null?void 0:f.data)!=null&&k.id?[f.data.id]:void 0},date:new Date,meta:{...q,dataProviderName:O}});let{fields:H,operation:K,variables:I,...$}=q||{};l==null||l.mutate({action:"create",resource:D.name,data:C,meta:{dataProviderName:O,id:((A=f==null?void 0:f.data)==null?void 0:A.id)??void 0,...$}})},onError:(f,{resource:E,errorNotification:v,values:M})=>{o(f);let{identifier:S}=s(E),C=u.singular(S),w=typeof v=="function"?v(f,M,S):v;b(w,{key:`create-${S}-notification`,description:f.message,message:c("notifications.createError",{resource:c(`${S}.${S}`,C),statusCode:f.statusCode},`There was an error creating ${C} (status code: ${f.statusCode})`),type:"error"})},mutationKey:h().data().mutation("create").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,Zc.getXRay)("useCreate",g)}}),{elapsedTime:P}=_e({isLoading:y.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...y,overtime:{elapsedTime:P}}},"useCreate"),ep=ve(),ns=p("@tanstack/react-query"),tp=d(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Qe(),{mutate:o}=dt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),a=nt(),{resources:i,select:n}=se(),s=(0,ns.useQueryClient)(),{mutationMode:c,undoableTimeout:m}=Yr(),{notificationDispatch:l}=Zr(),b=Pe(),x=Ar(),{log:u}=Or(),h=bt(),g=rr(),y=Oe(),{options:{textTransformers:P}}=ut(),{keys:f,preferLegacyKeys:E}=he(),v=(0,ns.useMutation)({mutationFn:({id:S,mutationMode:C,undoableTimeout:w,resource:L,onCancel:k,meta:A,metaData:D,dataProviderName:B,values:F})=>{let{resource:O,identifier:q}=n(L),R=y({resource:O,meta:j(A,D)}),H=C??c,K=w??m;return H!=="undoable"?a(oe(q,B,i)).deleteOne({resource:O.name,id:S,meta:R,metaData:R,variables:F}):new Promise((I,$)=>{let V=d(()=>{a(oe(q,B,i)).deleteOne({resource:O.name,id:S,meta:R,metaData:R,variables:F}).then(U=>I(U)).catch(U=>$(U))},"doMutation"),z=d(()=>{$({message:"mutationCancelled"})},"cancelMutation");k&&k(z),l({type:"ADD",payload:{id:S,resource:q,cancelMutation:z,doMutation:V,seconds:K,isSilent:!!k}})})},onMutate:async({id:S,resource:C,mutationMode:w,dataProviderName:L,meta:k,metaData:A})=>{let{identifier:D}=n(C),{gqlMutation:B,gqlQuery:F,...O}=j(k,A)??{},q=ga(E)(D,oe(D,L,i),O),R=f().data(oe(D,L,i)).resource(D),H=w??c;await s.cancelQueries(R.get(E),void 0,{silent:!0});let K=s.getQueriesData(R.get(E));return H!=="pessimistic"&&(s.setQueriesData(R.action("list").params(O??{}).get(E),I=>I?{data:I.data.filter($=>{var V;return((V=$.id)==null?void 0:V.toString())!==S.toString()}),total:I.total-1}:null),s.setQueriesData(R.action("many").get(E),I=>{if(!I)return null;let $=I.data.filter(V=>{var z;return((z=V.id)==null?void 0:z.toString())!==(S==null?void 0:S.toString())});return{...I,data:$}})),{previousQueries:K,queryKey:q}},onSettled:(S,C,{id:w,resource:L,dataProviderName:k,invalidates:A=["list","many"]})=>{let{identifier:D}=n(L);g({resource:D,dataProviderName:oe(D,k,i),invalidates:A}),l({type:"REMOVE",payload:{id:w,resource:D}})},onSuccess:(S,{id:C,resource:w,successNotification:L,dataProviderName:k,meta:A,metaData:D},B)=>{let{resource:F,identifier:O}=n(w),q=P.singular(O),R=oe(O,k,i),H=y({resource:F,meta:j(A,D)});s.removeQueries(B==null?void 0:B.queryKey.detail(C));let K=typeof L=="function"?L(S,C,O):L;h(K,{key:`${C}-${O}-notification`,description:b("notifications.success","Success"),message:b("notifications.deleteSuccess",{resource:b(`${O}.${O}`,q)},`Successfully deleted a ${q}`),type:"success"}),x==null||x({channel:`resources/${F.name}`,type:"deleted",payload:{ids:[C]},date:new Date,meta:{...H,dataProviderName:R}});let{fields:I,operation:$,variables:V,...z}=H||{};u==null||u.mutate({action:"delete",resource:F.name,meta:{id:C,dataProviderName:R,...z}}),s.removeQueries(B==null?void 0:B.queryKey.detail(C))},onError:(S,{id:C,resource:w,errorNotification:L},k)=>{let{identifier:A}=n(w);if(k)for(let D of k.previousQueries)s.setQueryData(D[0],D[1]);if(S.message!=="mutationCancelled"){o(S);let D=P.singular(A),B=typeof L=="function"?L(S,C,A):L;h(B,{key:`${C}-${A}-notification`,message:b("notifications.deleteError",{resource:D,statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})}},mutationKey:f().data().mutation("delete").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,ep.getXRay)("useDelete",E)}}),{elapsedTime:M}=_e({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:M}}},"useDelete"),rp=ve(),op=p("@tanstack/react-query"),cl=d(({mutationOptions:e,overtimeOptions:t}={})=>{let r=nt(),{resources:o,select:a}=se(),i=Pe(),n=Ar(),s=bt(),c=rr(),{log:m}=Or(),l=Oe(),{options:{textTransformers:b}}=ut(),{keys:x,preferLegacyKeys:u}=he(),h=(0,op.useMutation)({mutationFn:({resource:y,values:P,meta:f,metaData:E,dataProviderName:v})=>{let{resource:M,identifier:S}=a(y),C=l({resource:M,meta:j(f,E)}),w=r(oe(S,v,o));return w.createMany?w.createMany({resource:M.name,variables:P,meta:C,metaData:C}):ya(P.map(L=>w.create({resource:M.name,variables:L,meta:C,metaData:C})))},onSuccess:(y,{resource:P,successNotification:f,dataProviderName:E,invalidates:v=["list","many"],values:M,meta:S,metaData:C})=>{let{resource:w,identifier:L}=a(P),k=b.plural(L),A=oe(L,E,o),D=l({resource:w,meta:j(S,C)}),B=typeof f=="function"?f(y,M,L):f;s(B,{key:`createMany-${L}-notification`,message:i("notifications.createSuccess",{resource:i(`${L}.${L}`,L)},`Successfully created ${k}`),description:i("notifications.success","Success"),type:"success"}),c({resource:L,dataProviderName:A,invalidates:v});let F=y==null?void 0:y.data.filter(K=>(K==null?void 0:K.id)!==void 0).map(K=>K.id);n==null||n({channel:`resources/${w.name}`,type:"created",payload:{ids:F},date:new Date,meta:{...D,dataProviderName:A}});let{fields:O,operation:q,variables:R,...H}=D||{};m==null||m.mutate({action:"createMany",resource:w.name,data:M,meta:{dataProviderName:A,ids:F,...H}})},onError:(y,{resource:P,errorNotification:f,values:E})=>{let{identifier:v}=a(P),M=typeof f=="function"?f(y,E,v):f;s(M,{key:`createMany-${v}-notification`,description:y.message,message:i("notifications.createError",{resource:i(`${v}.${v}`,v),statusCode:y.statusCode},`There was an error creating ${v} (status code: ${y.statusCode}`),type:"error"})},mutationKey:x().data().mutation("createMany").get(u),...e,meta:{...e==null?void 0:e.meta,...(0,rp.getXRay)("useCreateMany",u)}}),{elapsedTime:g}=_e({isLoading:h.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...h,overtime:{elapsedTime:g}}},"useCreateMany"),ap=ve(),is=p("@tanstack/react-query"),np=d(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:o}=se(),a=(0,is.useQueryClient)(),i=nt(),n=Pe(),{mutationMode:s,undoableTimeout:c}=Yr(),m=Qe(),{mutate:l}=dt({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),{notificationDispatch:b}=Zr(),x=Ar(),u=bt(),h=rr(),{log:g}=Or(),y=Oe(),{options:{textTransformers:P}}=ut(),{keys:f,preferLegacyKeys:E}=he(),v=(0,is.useMutation)({mutationFn:({ids:S,values:C,resource:w,onCancel:L,mutationMode:k,undoableTimeout:A,meta:D,metaData:B,dataProviderName:F})=>{let{resource:O,identifier:q}=o(w),R=y({resource:O,meta:j(D,B)}),H=k??s,K=A??c,I=i(oe(q,F,r)),$=d(()=>I.updateMany?I.updateMany({resource:O.name,ids:S,variables:C,meta:R,metaData:R}):ya(S.map(V=>I.update({resource:O.name,id:V,variables:C,meta:R,metaData:R}))),"mutationFn");return H!=="undoable"?$():new Promise((V,z)=>{let U=d(()=>{$().then(Q=>V(Q)).catch(Q=>z(Q))},"doMutation"),W=d(()=>{z({message:"mutationCancelled"})},"cancelMutation");L&&L(W),b({type:"ADD",payload:{id:S,resource:q,cancelMutation:W,doMutation:U,seconds:K,isSilent:!!L}})})},onMutate:async({resource:S,ids:C,values:w,mutationMode:L,dataProviderName:k,meta:A,metaData:D,optimisticUpdateMap:B={list:!0,many:!0,detail:!0}})=>{let{identifier:F}=o(S),{gqlMutation:O,gqlQuery:q,...R}=j(A,D)??{},H=ga(E)(F,oe(F,k,r),R),K=f().data(oe(F,k,r)).resource(F),I=L??s;await a.cancelQueries(K.get(E),void 0,{silent:!0});let $=a.getQueriesData(K.get(E));if(I!=="pessimistic"&&(B.list&&a.setQueriesData(K.action("list").params(R??{}).get(E),V=>{if(typeof B.list=="function")return B.list(V,w,C);if(!V)return null;let z=V.data.map(U=>U.id!==void 0&&C.filter(W=>W!==void 0).map(String).includes(U.id.toString())?{...U,...w}:U);return{...V,data:z}}),B.many&&a.setQueriesData(K.action("many").get(E),V=>{if(typeof B.many=="function")return B.many(V,w,C);if(!V)return null;let z=V.data.map(U=>U.id!==void 0&&C.filter(W=>W!==void 0).map(String).includes(U.id.toString())?{...U,...w}:U);return{...V,data:z}}),B.detail))for(let V of C)a.setQueriesData(K.action("one").id(V).params(R??{}).get(E),z=>{if(typeof B.detail=="function")return B.detail(z,w,V);if(!z)return null;let U={...z.data,...w};return{...z,data:U}});return{previousQueries:$,queryKey:H}},onSettled:(S,C,{ids:w,resource:L,dataProviderName:k})=>{let{identifier:A}=o(L);h({resource:A,invalidates:["list","many"],dataProviderName:oe(A,k,r)}),w.forEach(D=>h({resource:A,invalidates:["detail"],dataProviderName:oe(A,k,r),id:D})),b({type:"REMOVE",payload:{id:w,resource:A}})},onSuccess:(S,{ids:C,resource:w,meta:L,metaData:k,dataProviderName:A,successNotification:D,values:B},F)=>{let{resource:O,identifier:q}=o(w),R=P.singular(q),H=oe(q,A,r),K=y({resource:O,meta:j(L,k)}),I=typeof D=="function"?D(S,{ids:C,values:B},q):D;u(I,{key:`${C}-${q}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${q}.${q}`,q)},`Successfully updated ${R}`),type:"success"}),x==null||x({channel:`resources/${O.name}`,type:"updated",payload:{ids:C.map(String)},date:new Date,meta:{...K,dataProviderName:H}});let $=[];F&&C.forEach(Q=>{let _=a.getQueryData(F.queryKey.detail(Q));$.push(Object.keys(B||{}).reduce((Y,Z)=>{var ne;return Y[Z]=(ne=_==null?void 0:_.data)==null?void 0:ne[Z],Y},{}))});let{fields:V,operation:z,variables:U,...W}=K||{};g==null||g.mutate({action:"updateMany",resource:O.name,data:B,previousData:$,meta:{ids:C,dataProviderName:H,...W}})},onError:(S,{ids:C,resource:w,errorNotification:L,values:k},A)=>{let{identifier:D}=o(w);if(A)for(let B of A.previousQueries)a.setQueryData(B[0],B[1]);if(S.message!=="mutationCancelled"){l==null||l(S);let B=P.singular(D),F=typeof L=="function"?L(S,{ids:C,values:k},D):L;u(F,{key:`${C}-${D}-updateMany-error-notification`,message:n("notifications.editError",{resource:B,statusCode:S.statusCode},`Error when updating ${B} (status code: ${S.statusCode})`),description:S.message,type:"error"})}},mutationKey:f().data().mutation("updateMany").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,ap.getXRay)("useUpdateMany",E)}}),{elapsedTime:M}=_e({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:M}}},"useUpdateMany"),ip=ve(),ss=p("@tanstack/react-query"),sp=d(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Qe(),{mutate:o}=dt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:a,undoableTimeout:i}=Yr(),n=nt(),{notificationDispatch:s}=Zr(),c=Pe(),m=Ar(),l=bt(),b=rr(),{log:x}=Or(),{resources:u,select:h}=se(),g=(0,ss.useQueryClient)(),y=Oe(),{options:{textTransformers:P}}=ut(),{keys:f,preferLegacyKeys:E}=he(),v=(0,ss.useMutation)({mutationFn:({resource:S,ids:C,mutationMode:w,undoableTimeout:L,onCancel:k,meta:A,metaData:D,dataProviderName:B,values:F})=>{let{resource:O,identifier:q}=h(S),R=y({resource:O,meta:j(A,D)}),H=w??a,K=L??i,I=n(oe(q,B,u)),$=d(()=>I.deleteMany?I.deleteMany({resource:O.name,ids:C,meta:R,metaData:R,variables:F}):ya(C.map(V=>I.deleteOne({resource:O.name,id:V,meta:R,metaData:R,variables:F}))),"mutationFn");return H!=="undoable"?$():new Promise((V,z)=>{let U=d(()=>{$().then(Q=>V(Q)).catch(Q=>z(Q))},"doMutation"),W=d(()=>{z({message:"mutationCancelled"})},"cancelMutation");k&&k(W),s({type:"ADD",payload:{id:C,resource:q,cancelMutation:W,doMutation:U,seconds:K,isSilent:!!k}})})},onMutate:async({ids:S,resource:C,mutationMode:w,dataProviderName:L,meta:k,metaData:A})=>{let{identifier:D}=h(C),{gqlMutation:B,gqlQuery:F,...O}=j(k,A)??{},q=ga(E)(D,oe(D,L,u),O),R=f().data(oe(D,L,u)).resource(D),H=w??a;await g.cancelQueries(R.get(E),void 0,{silent:!0});let K=g.getQueriesData(R.get(E));if(H!=="pessimistic"){g.setQueriesData(R.action("list").params(O??{}).get(E),I=>I?{data:I.data.filter($=>$.id&&!S.map(String).includes($.id.toString())),total:I.total-1}:null),g.setQueriesData(R.action("many").get(E),I=>{if(!I)return null;let $=I.data.filter(V=>V.id?!S.map(String).includes(V.id.toString()):!1);return{...I,data:$}});for(let I of S)g.setQueriesData(R.action("one").id(I).params(O).get(E),$=>!$||$.data.id==I?null:{...$})}return{previousQueries:K,queryKey:q}},onSettled:(S,C,{resource:w,ids:L,dataProviderName:k,invalidates:A=["list","many"]})=>{let{identifier:D}=h(w);b({resource:D,dataProviderName:oe(D,k,u),invalidates:A}),s({type:"REMOVE",payload:{id:L,resource:D}})},onSuccess:(S,{ids:C,resource:w,meta:L,metaData:k,dataProviderName:A,successNotification:D},B)=>{let{resource:F,identifier:O}=h(w),q=oe(O,A,u),R=y({resource:F,meta:j(L,k)});C.forEach(z=>g.removeQueries(B==null?void 0:B.queryKey.detail(z)));let H=typeof D=="function"?D(S,C,O):D;l(H,{key:`${C}-${O}-notification`,description:c("notifications.success","Success"),message:c("notifications.deleteSuccess",{resource:c(`${O}.${O}`,O)},`Successfully deleted ${O}`),type:"success"}),m==null||m({channel:`resources/${F.name}`,type:"deleted",payload:{ids:C},date:new Date,meta:{...R,dataProviderName:q}});let{fields:K,operation:I,variables:$,...V}=R||{};x==null||x.mutate({action:"deleteMany",resource:F.name,meta:{ids:C,dataProviderName:q,...V}}),C.forEach(z=>g.removeQueries(B==null?void 0:B.queryKey.detail(z)))},onError:(S,{ids:C,resource:w,errorNotification:L},k)=>{let{identifier:A}=h(w);if(k)for(let D of k.previousQueries)g.setQueryData(D[0],D[1]);if(S.message!=="mutationCancelled"){o(S);let D=P.singular(A),B=typeof L=="function"?L(S,C,A):L;l(B,{key:`${C}-${A}-notification`,message:c("notifications.deleteError",{resource:D,statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})}},mutationKey:f().data().mutation("deleteMany").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,ip.getXRay)("useDeleteMany",E)}}),{elapsedTime:M}=_e({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:M}}},"useDeleteMany"),lp=d(e=>{var t;let r=nt(),{resource:o}=se(),{getApiUrl:a}=r(e??((t=j(o==null?void 0:o.meta,o==null?void 0:o.options))==null?void 0:t.dataProviderName));return a()},"useApiUrl"),up=p("@tanstack/react-query"),dp=ve(),cp=d(({url:e,method:t,config:r,queryOptions:o,successNotification:a,errorNotification:i,meta:n,metaData:s,dataProviderName:c,overtimeOptions:m})=>{let l=nt(),b=Qe(),{mutate:x}=dt({v3LegacyAuthProviderCompatible:!!(b!=null&&b.isLegacy)}),u=Pe(),h=bt(),g=Oe(),{keys:y,preferLegacyKeys:P}=he(),f=j(n,s),{custom:E}=l(c),v=g({meta:f});if(E){let M=(0,up.useQuery)({queryKey:y().data(c).mutation("custom").params({method:t,url:e,...r,...f||{}}).get(P),queryFn:({queryKey:C,pageParam:w,signal:L})=>E({url:e,method:t,...r,meta:{...v,queryContext:{queryKey:C,pageParam:w,signal:L}},metaData:{...v,queryContext:{queryKey:C,pageParam:w,signal:L}}}),...o,onSuccess:C=>{var w;(w=o==null?void 0:o.onSuccess)==null||w.call(o,C);let L=typeof a=="function"?a(C,{...r,...v}):a;h(L)},onError:C=>{var w;x(C),(w=o==null?void 0:o.onError)==null||w.call(o,C);let L=typeof i=="function"?i(C,{...r,...v}):i;h(L,{key:`${t}-notification`,message:u("notifications.error",{statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})},meta:{...o==null?void 0:o.meta,...(0,dp.getXRay)("useCustom",P)}}),{elapsedTime:S}=_e({isLoading:M.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{...M,overtime:{elapsedTime:S}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),pp=p("@tanstack/react-query"),mp=ve(),fp=d(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Qe(),{mutate:o}=dt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),a=bt(),i=nt(),n=Pe(),s=Oe(),{keys:c,preferLegacyKeys:m}=he(),l=(0,pp.useMutation)(({url:x,method:u,values:h,meta:g,metaData:y,dataProviderName:P,config:f})=>{let E=s({meta:j(g,y)}),{custom:v}=i(P);if(v)return v({url:x,method:u,payload:h,meta:E,metaData:E,headers:{...f==null?void 0:f.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(x,{successNotification:u,config:h,meta:g,metaData:y})=>{let P=typeof u=="function"?u(x,{...h,...j(g,y)||{}}):u;a(P)},onError:(x,{errorNotification:u,method:h,config:g,meta:y,metaData:P})=>{o(x);let f=typeof u=="function"?u(x,{...g,...j(y,P)||{}}):u;a(f,{key:`${h}-notification`,message:n("notifications.error",{statusCode:x.statusCode},`Error (status code: ${x.statusCode})`),description:x.message,type:"error"})},mutationKey:c().data().mutation("customMutation").get(m),...e,meta:{...e==null?void 0:e.meta,...(0,mp.getXRay)("useCustomMutation",m)}}),{elapsedTime:b}=_e({isLoading:l.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...l,overtime:{elapsedTime:b}}},"useCustomMutation"),ls=p("react"),pl=G(p("react")),gp=d(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),Un=pl.default.createContext(gp()),yp=d(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},pl.default.createElement(Un.Provider,{value:r},e)},"DataContextProvider"),nt=d(()=>{let e=(0,ls.useContext)(Un);return(0,ls.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),vp=ve(),hp=p("@tanstack/react-query"),Tp=d(({resource:e,config:t,filters:r,hasPagination:o,pagination:a,sorters:i,queryOptions:n,successNotification:s,errorNotification:c,meta:m,metaData:l,liveMode:b,onLiveEvent:x,liveParams:u,dataProviderName:h,overtimeOptions:g})=>{let{resources:y,resource:P,identifier:f}=se(e),E=nt(),v=Pe(),M=Qe(),{mutate:S}=dt({v3LegacyAuthProviderCompatible:!!(M!=null&&M.isLegacy)}),C=bt(),w=Oe(),{keys:L,preferLegacyKeys:k}=he(),A=oe(f,h,y),D=j(m,l),B=j(r,t==null?void 0:t.filters),F=j(i,t==null?void 0:t.sort),O=j(o,t==null?void 0:t.hasPagination),q=tl({pagination:a,configPagination:t==null?void 0:t.pagination,hasPagination:O}),R=q.mode==="server",H={meta:D,metaData:D,filters:B,hasPagination:R,pagination:q,sorters:F,config:{...t,sort:F}},K=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,I=w({resource:P,meta:D}),{getList:$}=E(A);qo({resource:f,types:["*"],params:{meta:I,metaData:I,pagination:q,hasPagination:R,sort:F,sorters:F,filters:B,subscriptionType:"useList",...u},channel:`resources/${P.name}`,enabled:K,liveMode:b,onLiveEvent:x,dataProviderName:A,meta:{...I,dataProviderName:h}});let V=(0,hp.useInfiniteQuery)({queryKey:L().data(A).resource(f).action("infinite").params({...D||{},filters:B,hasPagination:R,...R&&{pagination:q},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(k),queryFn:({queryKey:U,pageParam:W,signal:Q})=>{let _={...q,current:W};return $({resource:P.name,pagination:_,hasPagination:R,filters:B,sort:F,sorters:F,meta:{...I,queryContext:{queryKey:U,pageParam:W,signal:Q}},metaData:{...I,queryContext:{queryKey:U,pageParam:W,signal:Q}}}).then(({data:Y,total:Z,...ne})=>({data:Y,total:Z,pagination:_,...ne}))},getNextPageParam:U=>Xs(U),getPreviousPageParam:U=>Ys(U),...n,onSuccess:U=>{var W;(W=n==null?void 0:n.onSuccess)==null||W.call(n,U);let Q=typeof s=="function"?s(U,H,f):s;C(Q)},onError:U=>{var W;S(U),(W=n==null?void 0:n.onError)==null||W.call(n,U);let Q=typeof c=="function"?c(U,H,f):c;C(Q,{key:`${f}-useInfiniteList-notification`,message:v("notifications.error",{statusCode:U.statusCode},`Error (status code: ${U.statusCode})`),description:U.message,type:"error"})},meta:{...n==null?void 0:n.meta,...(0,vp.getXRay)("useInfiniteList",k)}}),{elapsedTime:z}=_e({isLoading:V.isFetching,interval:g==null?void 0:g.interval,onInterval:g==null?void 0:g.onInterval});return{...V,overtime:{elapsedTime:z}}},"useInfiniteList"),ml=G(p("react")),No=ml.default.createContext(void 0),bp=d(({liveProvider:e,children:t})=>ml.default.createElement(No.Provider,{value:e},t),"LiveContextProvider"),Pp=p("react"),Cp=p("@tanstack/react-query"),xp=p("react"),fl=G(p("react")),Ep=p("react"),Lp=p("react"),Sp=G(p("lodash/isEqual")),Fp=d(e=>{let t=(0,Lp.useRef)(e);return(0,Sp.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),gl=d((e,t)=>{let r=Fp(t);return(0,Ep.useMemo)(e,r)},"useDeepMemo"),Oo=fl.default.createContext({resources:[]}),wp=d(({resources:e,children:t})=>{let r=gl(()=>Zs(e??[]),[e]);return fl.default.createElement(Oo.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),yl=G(p("react")),vl=yl.default.createContext("new"),kp=vl.Provider,Ke=d(()=>yl.default.useContext(vl),"useRouterType"),Dp=G(p("react")),hl=G(p("react")),Tl={},Io=(0,hl.createContext)(Tl),Bp=d(({children:e,router:t})=>hl.default.createElement(Io.Provider,{value:t??Tl},e),"RouterBindingsProvider"),us=G(p("react")),bl=d(()=>{let e=(0,us.useContext)(Io);return us.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),Vt=d(()=>{let e=bl();return Dp.default.useMemo(()=>e(),[e])},"useParsed");function se(e){let{resources:t}=(0,xp.useContext)(Oo),r=Ke(),o=Vt(),a={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},i=d((b,x=!0)=>{let u=Ze(b,t,r==="legacy");if(u)return{resource:u,identifier:u.identifier??u.name};if(x){let h={name:b,identifier:b},g=h.identifier??h.name;return{resource:h,identifier:g}}},"select"),n=Pl(),{useParams:s}=Pt(),c=s();if(r==="legacy"){let b=a.resourceNameOrRouteName?a.resourceNameOrRouteName:c.resource,x=b?n(b):void 0,u=(a==null?void 0:a.recordItemId)??c.id,h=c.action,g=(a==null?void 0:a.resourceName)??(x==null?void 0:x.name),y=(x==null?void 0:x.identifier)??(x==null?void 0:x.name);return{resources:t,resource:x,resourceName:g,id:u,action:h,select:i,identifier:y}}let m,l=typeof e=="string"?e:a==null?void 0:a.resourceNameOrRouteName;if(l){let b=Ze(l,t);b?m=b:m={name:l}}else o!=null&&o.resource&&(m=o.resource);return{resources:t,resource:m,resourceName:m==null?void 0:m.name,id:o.id,action:o.action,select:i,identifier:(m==null?void 0:m.identifier)??(m==null?void 0:m.name)}}T(se,"$");d(se,"useResource");var ds=p("react"),Pl=d(()=>{let{resources:e}=(0,ds.useContext)(Oo);return(0,ds.useCallback)(t=>Ze(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),rr=d(()=>{let{resources:e}=se(),t=(0,Cp.useQueryClient)(),{keys:r,preferLegacyKeys:o}=he();return(0,Pp.useCallback)(async({resource:a,dataProviderName:i,invalidates:n,id:s,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:m={cancelRefetch:!1}})=>{if(n===!1)return;let l=oe(a,i,e),b=r().data(l).resource(a??"");await Promise.all(n.map(x=>{switch(x){case"all":return t.invalidateQueries(r().data(l).get(o),c,m);case"list":return t.invalidateQueries(b.action("list").get(o),c,m);case"many":return t.invalidateQueries(b.action("many").get(o),c,m);case"resourceAll":return t.invalidateQueries(b.get(o),c,m);case"detail":return t.invalidateQueries(b.action("one").id(s||"").get(o),c,m);default:return}}))},[])},"useInvalidate"),cn=p("react"),qo=d(({resource:e,params:t,channel:r,types:o,enabled:a=!0,liveMode:i,onLiveEvent:n,dataProviderName:s,meta:c})=>{var m;let{resource:l,identifier:b}=se(e),x=(0,cn.useContext)(No),{liveMode:u,onLiveEvent:h}=(0,cn.useContext)(fr),g=i??u,y=rr(),P=s??(c==null?void 0:c.dataProviderName)??((m=l==null?void 0:l.meta)==null?void 0:m.dataProviderName);(0,cn.useEffect)(()=>{let f,E=d(v=>{g==="auto"&&y({resource:b,dataProviderName:P,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),n==null||n(v),h==null||h(v)},"callback");return g&&g!=="off"&&a&&(f=x==null?void 0:x.subscribe({channel:r,params:{resource:l==null?void 0:l.name,...t},types:o,callback:E,dataProviderName:P,meta:{...c,dataProviderName:P}})),()=>{f&&(x==null||x.unsubscribe(f))}},[a])},"useResourceSubscription"),Rp=p("react"),Cl=d(e=>{let{liveMode:t}=(0,Rp.useContext)(fr);return e??t},"useLiveMode"),cs=p("react"),Mp=d(({params:e,channel:t,types:r=["*"],enabled:o=!0,onLiveEvent:a,dataProviderName:i="default",meta:n})=>{let s=(0,cs.useContext)(No);(0,cs.useEffect)(()=>{let c;return o&&(c=s==null?void 0:s.subscribe({channel:t,params:e,types:r,callback:a,dataProviderName:i,meta:{...n,dataProviderName:i}})),()=>{c&&(s==null||s.unsubscribe(c))}},[o])},"useSubscription"),Ap=p("react"),Ar=d(()=>{let e=(0,Ap.useContext)(No);return e==null?void 0:e.publish},"usePublish"),Np=p("react"),Zr=d(()=>{let{notifications:e,notificationDispatch:t}=(0,Np.useContext)(dl);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),Op=p("react"),xl=G(p("react")),Vn=(0,xl.createContext)({}),Ip=d(({open:e,close:t,children:r})=>xl.default.createElement(Vn.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),gr=d(()=>{let{open:e,close:t}=(0,Op.useContext)(Vn);return{open:e,close:t}},"useNotification"),qp=p("react"),bt=d(()=>{let{open:e}=gr();return(0,qp.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),ps=p("react"),El=G(p("react")),Nr=El.default.createContext({}),Up=d(({children:e,i18nProvider:t})=>El.default.createElement(Nr.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),Vp=d(()=>{let{i18nProvider:e}=(0,ps.useContext)(Nr);return(0,ps.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),ms=p("react"),Pe=d(()=>{let{i18nProvider:e}=(0,ms.useContext)(Nr);return(0,ms.useMemo)(()=>{function t(r,o,a){return(e==null?void 0:e.translate(r,o,a))??a??(typeof o=="string"&&typeof a>"u"?o:r)}return T(t,"r"),d(t,"translate"),t},[e])},"useTranslate"),fs=p("react"),Hp=d(()=>{let{i18nProvider:e}=(0,fs.useContext)(Nr);return(0,fs.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),$p=p("react"),Qp=p("export-to-csv-fix-source-map"),Kp=d(({resourceName:e,resource:t,sorter:r,sorters:o,filters:a,maxItemCount:i,pageSize:n=20,mapData:s=d(u=>u,"mapData"),exportOptions:c,meta:m,metaData:l,dataProviderName:b,onError:x}={})=>{let[u,h]=(0,$p.useState)(!1),g=nt(),y=Oe(),{resource:P,resources:f,identifier:E}=se(j(t,e)),v=`${kn()(E,"plural")}-${new Date().toLocaleString()}`,{getList:M}=g(oe(E,b,f)),S=y({resource:P,meta:j(m,l)});return{isLoading:u,triggerExport:d(async()=>{h(!0);let C=[],w=1,L=!0;for(;L;)try{let{data:k,total:A}=await M({resource:(P==null?void 0:P.name)??"",filters:a,sort:j(o,r),sorters:j(o,r),pagination:{current:w,pageSize:n,mode:"server"},meta:S,metaData:S});w++,C.push(...k),i&&C.length>=i&&(C=C.slice(0,i),L=!1),A===C.length&&(L=!1)}catch(k){h(!1),L=!1,x==null||x(k);return}new Qp.ExportToCsv({filename:v,useKeysAsHeaders:!0,...c}).generateCsv(C.map(s)),h(!1)},"triggerExport")}},"useExport"),pn=G(p("react")),zp=G(p("warn-once")),Wp=G(p("lodash/debounce")),jp=d(({resource:e,action:t,id:r,onMutationSuccess:o,onMutationError:a,redirect:i,successNotification:n,errorNotification:s,meta:c,metaData:m,queryMeta:l,mutationMeta:b,mutationMode:x,liveMode:u,onLiveEvent:h,liveParams:g,undoableTimeout:y,dataProviderName:P,invalidates:f,queryOptions:E,createMutationOptions:v,updateMutationOptions:M,overtimeOptions:S,autoSave:C,optimisticUpdateMap:w}={})=>{let L=rr(),{options:k}=ut(),A=Oe(),{resource:D,id:B,action:F,identifier:O}=se(e),{identifier:q}=se(),R=d(()=>e&&e!==q?r:r??B,"getDefaultId")(),[H,K]=pn.default.useState(R);pn.default.useEffect(()=>{K(R)},[R]);let I=d(()=>t||(F==="edit"||F==="clone"?F:"create"),"getAction")(),$=A({resource:D,meta:j(c,m)}),{mutationMode:V}=Yr(),z=x??V,U=I==="create",W=I==="edit",Q=I==="clone";(0,zp.default)((Q||W)&&!!e&&!r&&(E==null?void 0:E.enabled)!==!1,`[useForm]: action: "${I}", resource: "${O}", id: ${H} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let _=hc({redirectFromProps:i,action:I,redirectOptions:k.redirect}),Y=In({resource:O,id:H??"",queryOptions:{enabled:H!==void 0&&(W||Q),...E},liveMode:u,onLiveEvent:h,liveParams:g,meta:{...$,...l},metaData:{...$,...l},dataProviderName:P}),{isFetching:Z}=Y,ne=qn({mutationOptions:v}),{mutate:pe,isLoading:te}=ne,ie=En({mutationOptions:M}),{mutate:be,isLoading:re}=ie,Ce=En({}),{setWarnWhen:Be}=wn(),it=Ll(),at=d(async ke=>{Be(!1);let Ot=d(Ae=>{it({redirect:_,resource:D,id:Ae,meta:j(c,m)})},"onSuccess");return z!=="pessimistic"&&setTimeout(()=>{Ot()}),new Promise((Ae,Yt)=>{if(z!=="pessimistic"&&Ae(),!!D)return pe({values:ke,resource:O??D.name,successNotification:n,errorNotification:s,meta:{...$,...b},metaData:{...$,...b},dataProviderName:P,invalidates:f},{onSuccess:(He,It,qt)=>{var Zt;o&&o(He,ke,qt);let Jt=(Zt=He==null?void 0:He.data)==null?void 0:Zt.id;Ot(Jt),Ae(He)},onError:(He,It,qt)=>{if(a)return a(He,ke,qt);Yt()}})})},"onFinishCreate");pn.default.useEffect(()=>()=>{C!=null&&C.invalidateOnUnmount&&Ce.status==="success"&&L({id:H,invalidates:f||["list","many","detail"],dataProviderName:P,resource:O})},[C==null?void 0:C.invalidateOnUnmount,Ce.status]);let Ge=d(ke=>{if(!D||!W)return;let Ot={id:H??"",values:ke,resource:O??D.name,successNotification:!1,errorNotification:!1,meta:{...$,...b},metaData:{...$,...b},dataProviderName:P,invalidates:[],mutationMode:"pessimistic"};return Ce.mutate(Ot,{onSuccess:(Ae,Yt,He)=>{o&&o(Ae,ke,He,!0)},onError:(Ae,Yt,He)=>{if(a)return a(Ae,ke,He,!0)}})},"onFinishAutoSaveMutation"),Wt=(0,Wp.default)(ke=>Ge(ke),(C==null?void 0:C.debounce)||1e3),zr=U||Q?{formLoading:Z||te,mutationResult:ne,onFinish:at}:{formLoading:Z||re,mutationResult:ie,onFinish:d(async ke=>{if(Be(!1),!D)return;let Ot={id:H??"",values:ke,resource:O??D.name,mutationMode:z,undoableTimeout:y,successNotification:n,errorNotification:s,meta:{...$,...b},metaData:{...$,...b},dataProviderName:P,invalidates:f,optimisticUpdateMap:w},Ae=d(()=>{it({redirect:_,resource:D,id:H,meta:j(c,m)})},"onSuccess");return z!=="pessimistic"&&setTimeout(()=>{Ae()}),new Promise((Yt,He)=>(z!=="pessimistic"&&Yt(),setTimeout(()=>{be(Ot,{onSuccess:(It,qt,Zt)=>{o&&o(It,ke,Zt),z==="pessimistic"&&Ae(),Yt(It)},onError:(It,qt,Zt)=>{if(a)return a(It,ke,Zt);He()}})})))},"onFinishUpdate")},{elapsedTime:Ya}=_e({isLoading:zr.mutationResult.isLoading||Y.isFetching,interval:S==null?void 0:S.interval,onInterval:S==null?void 0:S.onInterval});return{...zr,queryResult:Y,onFinishAutoSave:Wt,autoSaveProps:{status:Ce.status,data:Ce.data,error:Ce.error},id:H,setId:K,redirect:(ke,Ot)=>{it({redirect:ke!==void 0?ke:W?"list":"edit",resource:D,id:Ot??H,meta:j(c,m)})},overtime:{elapsedTime:Ya}}},"useForm"),Gp=p("react"),Ll=d(()=>{let{show:e,edit:t,list:r,create:o}=Dt();return(0,Gp.useCallback)(({redirect:a,resource:i,id:n,meta:s={}})=>{if(a&&i)return i.show&&a==="show"&&n?e(i,n,void 0,s):i.edit&&a==="edit"&&n?t(i,n,void 0,s):i.create&&a==="create"?o(i,void 0,s):r(i,"push",s)},[])},"useRedirectionAfterSubmission"),mn=G(p("react")),_p=G(p("react")),Ta=d(()=>{let e=Ke(),{resource:t,resources:r}=se(),o=Vt();return _p.default.useCallback(({resource:a,action:i,meta:n})=>{var s;let c=a||t;if(!c)return;let m=(s=ht(c,r,e==="legacy").find(l=>l.action===i))==null?void 0:s.route;return m?St(m,c==null?void 0:c.meta,o,n):void 0},[r,t,o])},"useGetToPath"),kt=d(()=>{let e=(0,mn.useContext)(Io),{select:t}=se(),r=Ta(),o=mn.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,mn.useCallback)(a=>{if(typeof a.to!="object")return o({...a,to:a.to});let{resource:i}=t(a.to.resource);Xp(a.to,i);let n=r({resource:i,action:a.to.action,meta:{id:a.to.id,...a.to.meta}});return o({...a,to:n})},[t,o])},"useGo"),Xp=d((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors"),gs=G(p("react")),Sl=d(()=>{let e=(0,gs.useContext)(Io);return gs.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),Dt=d(()=>{let{resources:e}=se(),t=Ke(),{useHistory:r}=Pt(),o=r(),a=Vt(),i=kt(),n=Sl(),s=d((u,h="push")=>{t==="legacy"?o[h](u):i({to:u,type:h})},"handleUrl"),c=d((u,h={})=>{var g;if(t==="legacy"){let y=typeof u=="string"?Ze(u,e,!0)??{name:u,route:u}:u,P=ht(y,e,!0).find(f=>f.action==="create");return P?St(P.route,y==null?void 0:y.meta,a,h):""}else{let y=typeof u=="string"?Ze(u,e)??{name:u}:u,P=(g=ht(y,e).find(f=>f.action==="create"))==null?void 0:g.route;return P?i({to:St(P,y==null?void 0:y.meta,a,h),type:"path"}):""}},"createUrl"),m=d((u,h,g={})=>{var y;let P=encodeURIComponent(h);if(t==="legacy"){let f=typeof u=="string"?Ze(u,e,!0)??{name:u,route:u}:u,E=ht(f,e,!0).find(v=>v.action==="edit");return E?St(E.route,f==null?void 0:f.meta,a,{...g,id:P}):""}else{let f=typeof u=="string"?Ze(u,e)??{name:u}:u,E=(y=ht(f,e).find(v=>v.action==="edit"))==null?void 0:y.route;return E?i({to:St(E,f==null?void 0:f.meta,a,{...g,id:P}),type:"path"}):""}},"editUrl"),l=d((u,h,g={})=>{var y;let P=encodeURIComponent(h);if(t==="legacy"){let f=typeof u=="string"?Ze(u,e,!0)??{name:u,route:u}:u,E=ht(f,e,!0).find(v=>v.action==="clone");return E?St(E.route,f==null?void 0:f.meta,a,{...g,id:P}):""}else{let f=typeof u=="string"?Ze(u,e)??{name:u}:u,E=(y=ht(f,e).find(v=>v.action==="clone"))==null?void 0:y.route;return E?i({to:St(E,f==null?void 0:f.meta,a,{...g,id:P}),type:"path"}):""}},"cloneUrl"),b=d((u,h,g={})=>{var y;let P=encodeURIComponent(h);if(t==="legacy"){let f=typeof u=="string"?Ze(u,e,!0)??{name:u,route:u}:u,E=ht(f,e,!0).find(v=>v.action==="show");return E?St(E.route,f==null?void 0:f.meta,a,{...g,id:P}):""}else{let f=typeof u=="string"?Ze(u,e)??{name:u}:u,E=(y=ht(f,e).find(v=>v.action==="show"))==null?void 0:y.route;return E?i({to:St(E,f==null?void 0:f.meta,a,{...g,id:P}),type:"path"}):""}},"showUrl"),x=d((u,h={})=>{var g;if(t==="legacy"){let y=typeof u=="string"?Ze(u,e,!0)??{name:u,route:u}:u,P=ht(y,e,!0).find(f=>f.action==="list");return P?St(P.route,y==null?void 0:y.meta,a,h):""}else{let y=typeof u=="string"?Ze(u,e)??{name:u}:u,P=(g=ht(y,e).find(f=>f.action==="list"))==null?void 0:g.route;return P?i({to:St(P,y==null?void 0:y.meta,a,h),type:"path"}):""}},"listUrl");return{create:d((u,h="push",g={})=>{s(c(u,g),h)},"create"),createUrl:c,edit:d((u,h,g="push",y={})=>{s(m(u,h,y),g)},"edit"),editUrl:m,clone:d((u,h,g="push",y={})=>{s(l(u,h,y),g)},"clone"),cloneUrl:l,show:d((u,h,g="push",y={})=>{s(b(u,h,y),g)},"show"),showUrl:b,list:d((u,h="push",g={})=>{s(x(u,g),h)},"list"),listUrl:x,push:d((u,...h)=>{t==="legacy"?o.push(u,...h):i({to:u,type:"push"})},"push"),replace:d((u,...h)=>{t==="legacy"?o.replace(u,...h):i({to:u,type:"replace"})},"replace"),goBack:d(()=>{t==="legacy"?o.goBack():n()},"goBack")}},"useNavigation"),ys=G(p("react")),Yp=G(p("warn-once")),Zp=d(({resource:e,id:t,successNotification:r,errorNotification:o,meta:a,metaData:i,liveMode:n,onLiveEvent:s,dataProviderName:c,queryOptions:m,overtimeOptions:l}={})=>{let{resource:b,id:x,identifier:u}=se(e),{identifier:h}=se(),g=Oe(),y=d(()=>e&&e!==h?t:t??x,"getDefaultId")(),[P,f]=(0,ys.useState)(y);ys.default.useEffect(()=>{f(y)},[y]);let E=g({resource:b,meta:j(a,i)});(0,Yp.default)(!!e&&!t,`[useShow]: resource: "${u}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let v=In({resource:u,id:P??"",queryOptions:{enabled:P!==void 0,...m},successNotification:r,errorNotification:o,meta:E,metaData:E,liveMode:n,onLiveEvent:s,dataProviderName:c}),{elapsedTime:M}=_e({isLoading:v.isFetching,interval:l==null?void 0:l.interval,onInterval:l==null?void 0:l.onInterval});return{queryResult:v,showId:P,setShowId:f,overtime:{elapsedTime:M}}},"useShow"),na=p("react"),Jp=p("papaparse"),em=G(p("lodash/chunk")),tm=d(({resourceName:e,resource:t,mapData:r=d(l=>l,"mapData"),paparseOptions:o,batchSize:a=Number.MAX_SAFE_INTEGER,onFinish:i,meta:n,metaData:s,onProgress:c,dataProviderName:m}={})=>{let[l,b]=(0,na.useState)(0),[x,u]=(0,na.useState)(0),[h,g]=(0,na.useState)(!1),{resource:y,identifier:P}=se(t??e),f=Oe(),E=cl(),v=qn(),M=f({resource:y,meta:j(n,s)}),S;a===1?S=v:S=E;let C=d(()=>{u(0),b(0),g(!1)},"handleCleanup"),w=d(k=>{let A={succeeded:k.filter(D=>D.type==="success"),errored:k.filter(D=>D.type==="error")};i==null||i(A),g(!1)},"handleFinish");(0,na.useEffect)(()=>{c==null||c({totalAmount:x,processedAmount:l})},[x,l]);let L=d(({file:k})=>(C(),new Promise(A=>{g(!0),(0,Jp.parse)(k,{complete:async({data:D})=>{let B=Ms(D,r);if(u(B.length),a===1){let F=B.map(q=>d(async()=>({response:await v.mutateAsync({resource:P??"",values:q,successNotification:!1,errorNotification:!1,dataProviderName:m,meta:M,metaData:M}),value:q}),"fn")),O=await Ii(F,({response:q,value:R})=>(b(H=>H+1),{response:[q.data],type:"success",request:[R]}),(q,R)=>({response:[q],type:"error",request:[B[R]]}));A(O)}else{let F=(0,em.default)(B,a),O=F.map(R=>d(async()=>({response:await E.mutateAsync({resource:P??"",values:R,successNotification:!1,errorNotification:!1,dataProviderName:m,meta:M,metaData:M}),value:R,currentBatchLength:R.length}),"fn")),q=await Ii(O,({response:R,currentBatchLength:H,value:K})=>(b(I=>I+H),{response:R.data,type:"success",request:K}),(R,H)=>({response:[R],type:"error",request:F[H]}));A(q)}},...o})}).then(A=>(w(A),A))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:k=>{k.target.files&&k.target.files.length>0&&L({file:k.target.files[0]})}},mutationResult:S,isLoading:h,handleChange:L}},"useImport"),fn=p("react"),rm=d(({defaultVisible:e=!1}={})=>{let[t,r]=(0,fn.useState)(e),o=(0,fn.useCallback)(()=>r(!0),[t]),a=(0,fn.useCallback)(()=>r(!1),[t]);return{visible:t,show:o,close:a}},"useModal"),om=d(({resource:e,action:t,meta:r,legacy:o})=>Ta()({resource:e,action:t,meta:r,legacy:o}),"useToPath"),vs=G(p("react")),ba=d(()=>{let e=(0,vs.useContext)(Io);return e!=null&&e.Link?e.Link:d(({to:t,...r})=>vs.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),am=p("react"),Fl=G(p("react")),pr={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},nm=Fl.default.createContext(pr),Hn=nm,im=d(({children:e,useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:i,routes:n})=>Fl.default.createElement(Hn.Provider,{value:{useHistory:t??pr.useHistory,useLocation:r??pr.useLocation,useParams:o??pr.useParams,Prompt:a??pr.Prompt,Link:i??pr.Link,routes:n??pr.routes}},e),"LegacyRouterContextProvider"),Pt=d(()=>{let e=(0,am.useContext)(Hn),{useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:i,routes:n}=e??pr;return{useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:i,routes:n}},"useRouterContext"),sm=p("@tanstack/react-query"),lm=p("react"),wl=G(p("react")),Uo=wl.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),um=d(({can:e,children:t,options:r})=>wl.default.createElement(Uo.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),$n=d(e=>{if(!e)return;let{icon:t,list:r,edit:o,create:a,show:i,clone:n,children:s,meta:c,options:m,...l}=e,{icon:b,...x}=c??{},{icon:u,...h}=m??{};return{...l,...c?{meta:x}:{},...m?{options:h}:{}}},"sanitizeResource"),dm=ve(),kl=d(({action:e,resource:t,params:r,queryOptions:o})=>{let{can:a}=(0,lm.useContext)(Uo),{keys:i,preferLegacyKeys:n}=he(),{resource:s,...c}=r??{},m=$n(s),l=(0,sm.useQuery)({queryKey:i().access().resource(t).action(e).params({params:{...c,resource:m},enabled:o==null?void 0:o.enabled}).get(n),queryFn:()=>(a==null?void 0:a({action:e,resource:t,params:{...c,resource:m}}))??Promise.resolve({can:!0}),enabled:typeof a<"u",...o,meta:{...o==null?void 0:o.meta,...(0,dm.getXRay)("useCan",n)},retry:!1});return typeof a>"u"?{data:{can:!0}}:l},"useCan"),hs=G(p("react")),cm=d(()=>{let{can:e}=hs.default.useContext(Uo);return{can:hs.default.useMemo(()=>e?d(async({params:t,...r})=>{let o=t!=null&&t.resource?$n(t.resource):void 0;return e({...r,...t?{params:{...t,resource:o}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),jr=p("react"),pm=G(p("lodash/uniqBy")),mm=G(p("lodash/debounce")),ia=G(p("lodash/get")),fm=d(e=>{let[t,r]=(0,jr.useState)([]),[o,a]=(0,jr.useState)([]),[i,n]=(0,jr.useState)([]),{resource:s,sort:c,sorters:m,filters:l=[],optionLabel:b="title",optionValue:x="id",debounce:u=300,successNotification:h,errorNotification:g,defaultValueQueryOptions:y,queryOptions:P,fetchSize:f,pagination:E,hasPagination:v=!1,liveMode:M,defaultValue:S=[],onLiveEvent:C,onSearch:w,liveParams:L,meta:k,metaData:A,dataProviderName:D,overtimeOptions:B}=e,{resource:F,identifier:O}=se(s),q=Oe()({resource:F,meta:j(k,A)}),R=Array.isArray(S)?S:[S],H=(0,jr.useCallback)(Q=>{n(Q.data.map(_=>({label:(0,ia.default)(_,b),value:(0,ia.default)(_,x)})))},[b,x]),K=y??P,I=ul({resource:O,ids:R,queryOptions:{...K,enabled:R.length>0&&((K==null?void 0:K.enabled)??!0),onSuccess:Q=>{var _;H(Q),(_=K==null?void 0:K.onSuccess)==null||_.call(K,Q)}},meta:q,metaData:q,liveMode:"off",dataProviderName:D}),$=(0,jr.useCallback)(Q=>{a(Q.data.map(_=>({label:(0,ia.default)(_,b),value:(0,ia.default)(_,x)})))},[b,x]),V=On({resource:O,sorters:j(m,c),filters:l.concat(t),pagination:{current:E==null?void 0:E.current,pageSize:(E==null?void 0:E.pageSize)??f,mode:E==null?void 0:E.mode},hasPagination:v,queryOptions:{...P,onSuccess:Q=>{var _;$(Q),(_=P==null?void 0:P.onSuccess)==null||_.call(P,Q)}},successNotification:h,errorNotification:g,meta:q,metaData:q,liveMode:M,liveParams:L,onLiveEvent:C,dataProviderName:D}),z=d(Q=>{if(w){r(w(Q));return}if(Q)r([{field:b,operator:"contains",value:Q}]);else{r([]);return}},"onSearch"),{elapsedTime:U}=_e({isLoading:V.isFetching||I.isFetching,interval:B==null?void 0:B.interval,onInterval:B==null?void 0:B.onInterval}),W=(0,jr.useMemo)(()=>(0,pm.default)([...o,...i],"value"),[o,i]);return{queryResult:V,defaultValueQueryResult:I,options:W,onSearch:(0,mm.default)(z,u),overtime:{elapsedTime:U}}},"useSelect"),Br=G(p("react")),Ts=G(p("qs")),sa=G(p("lodash/differenceWith")),la=G(p("lodash/isEqual")),gm=G(p("warn-once")),bs=[],Ps=[];function Dl({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:o,initialSorter:a,permanentSorter:i=Ps,defaultSetFilterBehavior:n,initialFilter:s,permanentFilter:c=bs,filters:m,sorters:l,syncWithLocation:b,resource:x,successNotification:u,errorNotification:h,queryOptions:g,liveMode:y,onLiveEvent:P,liveParams:f,meta:E,metaData:v,dataProviderName:M,overtimeOptions:S}={}){var C,w,L,k,A;let{syncWithLocation:D}=al(),B=b??D,F=Cl(y),O=Ke(),{useLocation:q}=Pt(),{search:R,pathname:H}=q(),K=Oe(),I=Vt(),$=((m==null?void 0:m.mode)||"server")==="server",V=((l==null?void 0:l.mode)||"server")==="server",z=r===!1?"off":"server",U=((o==null?void 0:o.mode)??z)!=="off",W=j(o==null?void 0:o.current,e),Q=j(o==null?void 0:o.pageSize,t),_=j(E,v),{parsedCurrent:Y,parsedPageSize:Z,parsedSorter:ne,parsedFilters:pe}=Dn(R??"?"),te=j(m==null?void 0:m.initial,s),ie=j(m==null?void 0:m.permanent,c)??bs,be=j(l==null?void 0:l.initial,a),re=j(l==null?void 0:l.permanent,i)??Ps,Ce=j(m==null?void 0:m.defaultBehavior,n)??"merge",Be,it,at,Ge;B?(Be=((C=I==null?void 0:I.params)==null?void 0:C.current)||Y||W||1,it=((w=I==null?void 0:I.params)==null?void 0:w.pageSize)||Z||Q||10,at=((L=I==null?void 0:I.params)==null?void 0:L.sorters)||(ne.length?ne:be),Ge=((k=I==null?void 0:I.params)==null?void 0:k.filters)||(pe.length?pe:te)):(Be=W||1,it=Q||10,at=be,Ge=te);let{replace:Wt}=Dt(),zr=kt(),{resource:Ya,identifier:ke}=se(x),Ot=K({resource:Ya,meta:_});Br.default.useEffect(()=>{(0,gm.default)(typeof ke>"u","useTable: `resource` is not defined.")},[ke]);let[Ae,Yt]=(0,Br.useState)(xn(re,at??[])),[He,It]=(0,Br.useState)(Cn(ie,Ge??[])),[qt,Zt]=(0,Br.useState)(Be),[Jt,yi]=(0,Br.useState)(it),pd=d(({pagination:{current:Ne,pageSize:Lt},sorter:Jo,filters:ea})=>{if(O==="new")return zr({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...U?{current:Ne,pageSize:Lt}:{},sorters:Jo,filters:ea,...vi()}})??"";{let Ro=Ts.default.parse(R==null?void 0:R.substring(1)),hd=bn({pagination:{pageSize:Lt,current:Ne},sorters:Ae??Jo,filters:ea,...Ro});return`${H??""}?${hd??""}`}},"createLinkForSyncWithLocation");(0,Br.useEffect)(()=>{R===""&&(Zt(Be),yi(it),Yt(xn(re,at??[])),It(Cn(ie,Ge??[])))},[R]);let vi=d(()=>{if(O==="new"){let{sorters:Ne,filters:Lt,pageSize:Jo,current:ea,...Ro}=(I==null?void 0:I.params)??{};return Ro}else{let{sorter:Ne,filters:Lt,pageSize:Jo,current:ea,...Ro}=Ts.default.parse(R,{ignoreQueryPrefix:!0});return Ro}},"currentQueryParams");(0,Br.useEffect)(()=>{if(B){let Ne=vi();if(O==="new")zr({type:"replace",options:{keepQuery:!0},query:{...U?{pageSize:Jt,current:qt}:{},sorters:(0,sa.default)(Ae,re,la.default),filters:(0,sa.default)(He,ie,la.default)}});else{let Lt=bn({...U?{pagination:{pageSize:Jt,current:qt}}:{},sorters:(0,sa.default)(Ae,re,la.default),filters:(0,sa.default)(He,ie,la.default),...Ne});return Wt==null?void 0:Wt(`${H}?${Lt}`,void 0,{shallow:!0})}}},[B,qt,Jt,Ae,He]);let Za=On({resource:ke,hasPagination:r,pagination:{current:qt,pageSize:Jt,mode:o==null?void 0:o.mode},filters:$?Mo(ie,He):void 0,sorters:V?Pn(re,Ae):void 0,queryOptions:g,successNotification:u,errorNotification:h,meta:Ot,metaData:Ot,liveMode:F,liveParams:f,onLiveEvent:P,dataProviderName:M}),md=d(Ne=>{It(Lt=>Mo(ie,Ne,Lt))},"setFiltersAsMerge"),fd=d(Ne=>{It(Mo(ie,Ne))},"setFiltersAsReplace"),gd=d(Ne=>{It(Lt=>Mo(ie,Ne(Lt)))},"setFiltersWithSetter"),yd=d((Ne,Lt=Ce)=>{typeof Ne=="function"?gd(Ne):Lt==="replace"?fd(Ne):md(Ne)},"setFiltersFn"),hi=d(Ne=>{Yt(()=>Pn(re,Ne))},"setSortWithUnion"),{elapsedTime:vd}=_e({isLoading:Za.isFetching,interval:S==null?void 0:S.interval,onInterval:S==null?void 0:S.onInterval});return{tableQueryResult:Za,sorters:Ae,setSorters:hi,sorter:Ae,setSorter:hi,filters:He,setFilters:yd,current:qt,setCurrent:Zt,pageSize:Jt,setPageSize:yi,pageCount:Jt?Math.ceil((((A=Za.data)==null?void 0:A.total)??0)/Jt):1,createLinkForSyncWithLocation:pd,overtime:{elapsedTime:vd}}}T(Dl,"Wi");d(Dl,"useTable");var Cs=p("react"),gn=p("@tanstack/react-query"),Bl=G(p("react")),Pa=Bl.default.createContext({}),ym=d(({create:e,get:t,update:r,children:o})=>Bl.default.createElement(Pa.Provider,{value:{create:e,get:t,update:r}},o),"AuditLogContextProvider"),xs=ve(),Or=d(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,gn.useQueryClient)(),o=(0,Cs.useContext)(Pa),{keys:a,preferLegacyKeys:i}=he(),n=Qe(),{resources:s}=(0,Cs.useContext)(Oo),{data:c,refetch:m,isLoading:l}=Bn({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy),queryOptions:{enabled:!!(o!=null&&o.create)}}),b=(0,gn.useMutation)(async u=>{var h,g,y,P,f;let E=Ze(u.resource,s),v=j((h=E==null?void 0:E.meta)==null?void 0:h.audit,(g=E==null?void 0:E.options)==null?void 0:g.audit,(P=(y=E==null?void 0:E.options)==null?void 0:y.auditLog)==null?void 0:P.permissions);if(v&&!lc(v,u.action))return;let M;return l&&o!=null&&o.create&&(M=await m()),await((f=o.create)==null?void 0:f.call(o,{...u,author:c??(M==null?void 0:M.data)}))},{mutationKey:a().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,xs.getXRay)("useLog",i)}}),x=(0,gn.useMutation)(async u=>{var h;return await((h=o.update)==null?void 0:h.call(o,u))},{onSuccess:u=>{u!=null&&u.resource&&r.invalidateQueries(a().audit().resource((u==null?void 0:u.resource)??"").action("list").get(i))},mutationKey:a().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,xs.getXRay)("useLog",i)}});return{log:b,rename:x}},"useLog"),vm=p("react"),hm=p("@tanstack/react-query"),Tm=ve(),bm=d(({resource:e,action:t,meta:r,author:o,metaData:a,queryOptions:i})=>{let{get:n}=(0,vm.useContext)(Pa),{keys:s,preferLegacyKeys:c}=he();return(0,hm.useQuery)({queryKey:s().audit().resource(e).action("list").params(r).get(c),queryFn:()=>(n==null?void 0:n({resource:e,action:t,author:o,meta:r,metaData:a}))??Promise.resolve([]),enabled:typeof n<"u",...i,retry:!1,meta:{...i==null?void 0:i.meta,...(0,Tm.getXRay)("useLogList",c)}})},"useLogList"),Pm=p("react"),Cm=G(p("warn-once")),xm=d(({meta:e={}}={})=>{let t=Ke(),{i18nProvider:r}=(0,Pm.useContext)(Nr),o=Vt(),a=Pe(),{resources:i,resource:n,action:s}=se(),{options:{textTransformers:c}}=ut(),m=[];if(!(n!=null&&n.name))return{breadcrumbs:m};let l=d(b=>{var x,u,h,g,y,P;let f=typeof b=="string"?Ze(b,i,t==="legacy")??{name:b}:b;if(f){let E=j((x=f==null?void 0:f.meta)==null?void 0:x.parent,f==null?void 0:f.parentName);E&&l(E);let v=ht(f,i,t==="legacy").find(C=>C.action==="list"),M=(u=v==null?void 0:v.resource)!=null&&u.list?v==null?void 0:v.route:void 0,S=M?t==="legacy"?M:St(M,f==null?void 0:f.meta,o,e):void 0;m.push({label:j((h=f.meta)==null?void 0:h.label,(g=f.options)==null?void 0:g.label)??a(`${f.name}.${f.name}`,c.humanize(f.name)),href:S,icon:j((y=f.meta)==null?void 0:y.icon,(P=f.options)==null?void 0:P.icon,f.icon)})}},"addBreadcrumb");if(l(n),s&&s!=="list"){let b=`actions.${s}`,x=a(b);typeof r<"u"&&x===b?((0,Cm.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${s}" action. Please add "actions.${s}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),m.push({label:a(`buttons.${s}`,c.humanize(s))})):m.push({label:a(b,c.humanize(s))})}return{breadcrumbs:m}},"useBreadcrumb"),yn=G(p("react")),pa=d((e,t,r=!1)=>{let o=[],a=mr(e,t);for(;a;)o.push(a),a=mr(a,t);return o.reverse(),`/${[...o,e].map(i=>er((r?i.route:void 0)??i.identifier??i.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),Em=d((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(a=>{let i=[],n=mr(a,e);for(;n;)i.push(n),n=mr(n,e);i.reverse();let s=r;i.forEach(m=>{let l=(t?m.route:void 0)??m.identifier??m.name;s.children[l]||(s.children[l]={item:m,children:{}}),s=s.children[l]});let c=(t?a.route:void 0)??a.identifier??a.name;s.children[c]||(s.children[c]={item:a,children:{}})});let o=d(a=>{let i=[];return Object.keys(a.children).forEach(n=>{let s=pa(a.children[n].item,e,t),c={...a.children[n].item,key:s,children:o(a.children[n])};i.push(c)}),i},"flatten");return o(r)},"createTree"),Es=d(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Lm=d(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=Pe(),o=Ta(),a=Ke(),{resource:i,resources:n}=se(),{pathname:s}=Vt(),{useLocation:c}=Pt(),{pathname:m}=c(),l=kn(),b=`/${((a==="legacy"?Es(m):s?Es(s):void 0)??"").replace(/^\//,"")}`,x=i?pa(i,n,a==="legacy"):b??"",u=yn.default.useMemo(()=>{if(!i)return[];let y=mr(i,n),P=[pa(i,n)];for(;y;)P.push(pa(y,n)),y=mr(y,n);return P},[]),h=yn.default.useCallback(y=>{var P,f,E,v,M,S;if((((P=y==null?void 0:y.meta)==null?void 0:P.hide)??((f=y==null?void 0:y.options)==null?void 0:f.hide))||!(y!=null&&y.list)&&y.children.length===0)return;let C=y.list?o({resource:y,action:"list",legacy:a==="legacy",meta:e}):void 0;if(!(t&&C&&C.match(/(\/|^):(.+?)(\/|$){1}/)))return{...y,route:C,icon:j((E=y.meta)==null?void 0:E.icon,(v=y.options)==null?void 0:v.icon,y.icon),label:j((M=y==null?void 0:y.meta)==null?void 0:M.label,(S=y==null?void 0:y.options)==null?void 0:S.label)??r(`${y.name}.${y.name}`,l(y.name,"plural"))}},[a,e,o,r,t]),g=yn.default.useMemo(()=>{let y=Em(n,a==="legacy"),P=d(f=>f.flatMap(E=>{let v=P(E.children),M=h({...E,children:v});return M?[M]:[]}),"prepare");return P(y)},[n,a,h]);return{defaultOpenKeys:u,selectedKey:x,menuItems:g}},"useMenu"),Oe=d(()=>{let{params:e}=Vt();return d(({resource:t,meta:r}={})=>{let{meta:o}=$n(t)??{meta:{}},{filters:a,sorters:i,current:n,pageSize:s,...c}=e??{};return{...o,...c,...r}},"getMetaFn")},"useMeta"),Sm=d(()=>{let[e,t]=(0,Dr.useState)(),r=Pe(),{push:o}=Dt(),a=kt(),i=Ke(),{resource:n,action:s}=se();return(0,Dr.useEffect)(()=>{n&&s&&t(r("pages.error.info",{action:s,resource:n.name},`You may have forgotten to add the "${s}" component to "${n.name}" resource.`))},[n,s]),Dr.default.createElement(Dr.default.Fragment,null,Dr.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Dr.default.createElement("p",null,e),Dr.default.createElement("button",{onClick:()=>{i==="legacy"?o("/"):a({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),$e=G(p("react")),Rl=d(()=>{let[e,t]=(0,$e.useState)(""),[r,o]=(0,$e.useState)(""),a=Pe(),i=Qe(),{mutate:n}=va({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)});return $e.default.createElement($e.default.Fragment,null,$e.default.createElement("h1",null,a("pages.login.title","Sign in your account")),$e.default.createElement("form",{onSubmit:s=>{s.preventDefault(),n({username:e,password:r})}},$e.default.createElement("table",null,$e.default.createElement("tbody",null,$e.default.createElement("tr",null,$e.default.createElement("td",null,a("pages.login.username",void 0,"username"),":"),$e.default.createElement("td",null,$e.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:s=>t(s.target.value)}))),$e.default.createElement("tr",null,$e.default.createElement("td",null,a("pages.login.password",void 0,"password"),":"),$e.default.createElement("td",null,$e.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:s=>o(s.target.value)}))))),$e.default.createElement("br",null),$e.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),Gr=G(p("react")),me=G(p("react")),Fm=d(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:a,wrapperProps:i,renderContent:n,formProps:s,title:c=void 0,hideForm:m})=>{let l=Ke(),b=ba(),{Link:x}=Pt(),u=l==="legacy"?x:b,[h,g]=(0,me.useState)(""),[y,P]=(0,me.useState)(""),[f,E]=(0,me.useState)(!1),v=Pe(),M=Qe(),{mutate:S}=va({v3LegacyAuthProviderCompatible:!!(M!=null&&M.isLegacy)}),C=d((k,A)=>me.default.createElement(u,{to:k},A),"renderLink"),w=d(()=>e?e.map(k=>me.default.createElement("div",{key:k.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},me.default.createElement("button",{onClick:()=>S({providerName:k.name}),style:{display:"flex",alignItems:"center"}},k==null?void 0:k.icon,k.label??me.default.createElement("label",null,k.label)))):null,"renderProviders"),L=me.default.createElement("div",{...a},me.default.createElement("h1",{style:{textAlign:"center"}},v("pages.login.title","Sign in to your account")),w(),!m&&me.default.createElement(me.default.Fragment,null,me.default.createElement("hr",null),me.default.createElement("form",{onSubmit:k=>{k.preventDefault(),S({email:h,password:y,remember:f})},...s},me.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},me.default.createElement("label",{htmlFor:"email-input"},v("pages.login.fields.email","Email")),me.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:h,onChange:k=>g(k.target.value)}),me.default.createElement("label",{htmlFor:"password-input"},v("pages.login.fields.password","Password")),me.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:y,onChange:k=>P(k.target.value)}),o??me.default.createElement(me.default.Fragment,null,me.default.createElement("label",{htmlFor:"remember-me-input"},v("pages.login.buttons.rememberMe","Remember me"),me.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:f,value:f.toString(),onChange:()=>{E(!f)}}))),me.default.createElement("br",null),r??C("/forgot-password",v("pages.login.buttons.forgotPassword","Forgot password?")),me.default.createElement("input",{type:"submit",value:v("pages.login.signin","Sign in")}),t??me.default.createElement("span",null,v("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",C("/register",v("pages.login.register","Sign up")))))),t!==!1&&m&&me.default.createElement("div",{style:{textAlign:"center"}},v("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",C("/register",v("pages.login.register","Sign up"))));return me.default.createElement("div",{...i},n?n(L,c):L)},"LoginPage"),xe=G(p("react")),wm=d(({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:a,formProps:i,title:n=void 0,hideForm:s})=>{let c=Ke(),m=ba(),{Link:l}=Pt(),b=c==="legacy"?l:m,[x,u]=(0,xe.useState)(""),[h,g]=(0,xe.useState)(""),y=Pe(),P=Qe(),{mutate:f,isLoading:E}=Mn({v3LegacyAuthProviderCompatible:!!(P!=null&&P.isLegacy)}),v=d((C,w)=>xe.default.createElement(b,{to:C},w),"renderLink"),M=d(()=>e?e.map(C=>xe.default.createElement("div",{key:C.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},xe.default.createElement("button",{onClick:()=>f({providerName:C.name}),style:{display:"flex",alignItems:"center"}},C==null?void 0:C.icon,C.label??xe.default.createElement("label",null,C.label)))):null,"renderProviders"),S=xe.default.createElement("div",{...o},xe.default.createElement("h1",{style:{textAlign:"center"}},y("pages.register.title","Sign up for your account")),M(),!s&&xe.default.createElement(xe.default.Fragment,null,xe.default.createElement("hr",null),xe.default.createElement("form",{onSubmit:C=>{C.preventDefault(),f({email:x,password:h})},...i},xe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},xe.default.createElement("label",{htmlFor:"email-input"},y("pages.register.fields.email","Email")),xe.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:x,onChange:C=>u(C.target.value)}),xe.default.createElement("label",{htmlFor:"password-input"},y("pages.register.fields.password","Password")),xe.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:h,onChange:C=>g(C.target.value)}),xe.default.createElement("input",{type:"submit",value:y("pages.register.buttons.submit","Sign up"),disabled:E}),t??xe.default.createElement(xe.default.Fragment,null,xe.default.createElement("span",null,y("pages.login.buttons.haveAccount","Have an account?")," ",v("/login",y("pages.login.signin","Sign in"))))))),t!==!1&&s&&xe.default.createElement("div",{style:{textAlign:"center"}},y("pages.login.buttons.haveAccount","Have an account?")," ",v("/login",y("pages.login.signin","Sign in"))));return xe.default.createElement("div",{...r},a?a(S,n):S)},"RegisterPage"),gt=G(p("react")),km=d(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:a,title:i=void 0})=>{let n=Pe(),s=Ke(),c=ba(),{Link:m}=Pt(),l=s==="legacy"?m:c,[b,x]=(0,gt.useState)(""),{mutate:u,isLoading:h}=An(),g=d((P,f)=>gt.default.createElement(l,{to:P},f),"renderLink"),y=gt.default.createElement("div",{...r},gt.default.createElement("h1",{style:{textAlign:"center"}},n("pages.forgotPassword.title","Forgot your password?")),gt.default.createElement("hr",null),gt.default.createElement("form",{onSubmit:P=>{P.preventDefault(),u({email:b})},...a},gt.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},gt.default.createElement("label",{htmlFor:"email-input"},n("pages.forgotPassword.fields.email","Email")),gt.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:b,onChange:P=>x(P.target.value)}),gt.default.createElement("input",{type:"submit",disabled:h,value:n("pages.forgotPassword.buttons.submit","Send reset instructions")}),gt.default.createElement("br",null),e??gt.default.createElement("span",null,n("pages.register.buttons.haveAccount","Have an account? ")," ",g("/login",n("pages.login.signin","Sign in"))))));return gt.default.createElement("div",{...t},o?o(y,i):y)},"ForgotPasswordPage"),yt=G(p("react")),Dm=d(({wrapperProps:e,contentProps:t,renderContent:r,formProps:o,title:a=void 0})=>{let i=Pe(),n=Qe(),{mutate:s,isLoading:c}=Nn({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy)}),[m,l]=(0,yt.useState)(""),[b,x]=(0,yt.useState)(""),u=yt.default.createElement("div",{...t},yt.default.createElement("h1",{style:{textAlign:"center"}},i("pages.updatePassword.title","Update Password")),yt.default.createElement("hr",null),yt.default.createElement("form",{onSubmit:h=>{h.preventDefault(),s({password:m,confirmPassword:b})},...o},yt.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},yt.default.createElement("label",{htmlFor:"password-input"},i("pages.updatePassword.fields.password","New Password")),yt.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:m,onChange:h=>l(h.target.value)}),yt.default.createElement("label",{htmlFor:"confirm-password-input"},i("pages.updatePassword.fields.confirmPassword","Confirm New Password")),yt.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:b,onChange:h=>x(h.target.value)}),yt.default.createElement("input",{type:"submit",disabled:c,value:i("pages.updatePassword.buttons.submit","Update")}))));return yt.default.createElement("div",{...e},r?r(u,a):u)},"UpdatePasswordPage"),Bm=d(e=>{let{type:t}=e;return Gr.default.createElement(Gr.default.Fragment,null,d(()=>{switch(t){case"register":return Gr.default.createElement(wm,{...e});case"forgotPassword":return Gr.default.createElement(km,{...e});case"updatePassword":return Gr.default.createElement(Dm,{...e});default:return Gr.default.createElement(Fm,{...e})}},"renderView")())},"AuthPage"),st=G(p("react")),Ml=d(()=>st.default.createElement(st.default.Fragment,null,st.default.createElement("h1",null,"Welcome on board"),st.default.createElement("p",null,"Your configuration is completed."),st.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",st.default.createElement("code",null,"`resources`")," property of ",st.default.createElement("code",null,"`<Refine>`")),st.default.createElement("div",{style:{display:"flex",gap:8}},st.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},st.default.createElement("button",null,"Documentation")),st.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},st.default.createElement("button",null,"Examples")),st.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},st.default.createElement("button",null,"Community")))),"ReadyPage"),Fe=G(p("react")),Rm=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],Mm=d(()=>{let e=Ui("(max-width: 1010px)"),t=Ui("(max-width: 650px)"),r=d(()=>t?"1, 280px":e?"2, 280px":"4, 1fr","getGridTemplateColumns"),o=d(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),a=d(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return Fe.default.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},Fe.default.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},Fe.default.createElement("div",{style:{zIndex:2,position:"absolute",width:t?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),Fe.default.createElement("div",{style:{height:t?"40px":"80px"}}),Fe.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},Fe.default.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:t?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:t?112:224,height:t?58:116}})),Fe.default.createElement("div",{style:{height:t?"120px":e?"270px":"40vh",minHeight:t?"120px":"270px"}}),Fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},Fe.default.createElement("h1",{style:{fontSize:o(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),Fe.default.createElement("h4",{style:{fontSize:a(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),Fe.default.createElement("div",{style:{height:"64px"}}),Fe.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},Rm.map(i=>Fe.default.createElement(Am,{key:`welcome-page-${i.title}`,card:i})))))},"WelcomePage"),Am=d(({card:e})=>{let{title:t,description:r,iconUrl:o,link:a}=e,[i,n]=(0,Fe.useState)(!1);return Fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},Fe.default.createElement("div",{style:{display:"flex",alignItems:"center"}},Fe.default.createElement("a",{onPointerEnter:()=>n(!0),onPointerLeave:()=>n(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:a},Fe.default.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${o})`}}),Fe.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),Fe.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...i&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},Fe.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),Fe.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),Ee=G(p("react")),vn=p("@tanstack/react-query"),Nm=ve(),Ls=G(p("react")),Rr=p("react"),Om="4.46.2",Im=d(()=>{var e;let t=ll(),r=(0,Rr.useContext)(Pa),o=(0,Rr.useContext)(No),a=(0,Rr.useContext)(Hn),i=(0,Rr.useContext)(Un),{i18nProvider:n}=(0,Rr.useContext)(Nr),s=(0,Rr.useContext)(Vn),c=(0,Rr.useContext)(Uo),{resources:m}=se(),l=ut(),b=!!r.create||!!r.get||!!r.update,x=!!(o!=null&&o.publish)||!!(o!=null&&o.subscribe)||!!(o!=null&&o.unsubscribe),u=!!a.useHistory||!!a.Link||!!a.Prompt||!!a.useLocation||!!a.useParams,h=!!i,g=!!(n!=null&&n.changeLocale)||!!(n!=null&&n.getLocale)||!!(n!=null&&n.translate),y=!!s.close||!!s.open,P=!!c.can,f=(e=l==null?void 0:l.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:b,live:x,router:u,data:h,i18n:g,notification:y,accessControl:P},version:Om,resourceCount:m.length,projectId:f}},"useTelemetryData"),qm=d(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),Um=d(e=>{let t=new Image;t.src=e},"throughImage"),Vm=d(e=>{fetch(e)},"throughFetch"),Hm=d(e=>{typeof Image<"u"?Um(e):typeof fetch<"u"&&Vm(e)},"transport"),$m=d(()=>{let e=Im(),t=Ls.default.useRef(!1);return Ls.default.useEffect(()=>{if(t.current)return;let r=qm(e);r&&(Hm(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),Qm=d(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(o=>!t.includes(o));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),Ss=G(p("react")),Km=d(e=>{let t=Ss.default.useRef(!1);Ss.default.useEffect(()=>{t.current===!1&&e&&Qm(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),zm=d(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:o,routerProvider:a,notificationProvider:i,accessControlProvider:n,auditLogProvider:s,resources:c,DashboardPage:m,ReadyPage:l,LoginPage:b,catchAll:x,children:u,liveProvider:h,i18nProvider:g,Title:y,Layout:P,Sider:f,Header:E,Footer:v,OffLayoutArea:M,onLiveEvent:S,options:C})=>{let{optionsWithDefaults:w,disableTelemetryWithDefault:L,reactQueryWithDefaults:k}=vc({options:C}),A=gl(()=>{var F;return k.clientConfig instanceof vn.QueryClient?k.clientConfig:new vn.QueryClient({...k.clientConfig,defaultOptions:{...k.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(F=k.clientConfig.defaultOptions)==null?void 0:F.queries}}})},[k.clientConfig]);(0,Nm.useQuerySubscription)(A);let D=Ee.default.useMemo(()=>typeof i=="function"?i:()=>i??{},[i])();if(Km(a),o&&!a&&(c??[]).length===0)return l?Ee.default.createElement(l,null):Ee.default.createElement(Ml,null);let{RouterComponent:B=Ee.default.Fragment}=a?{}:o??{};return Ee.default.createElement(vn.QueryClientProvider,{client:A},Ee.default.createElement(Ip,{...D},Ee.default.createElement(Pc,{...e??{},isProvided:!!e},Ee.default.createElement(Cc,{...t??{},isProvided:!!t},Ee.default.createElement(yp,{...r},Ee.default.createElement(bp,{liveProvider:h},Ee.default.createElement(kp,{value:o&&!a?"legacy":"new"},Ee.default.createElement(Bp,{router:a},Ee.default.createElement(im,{...o},Ee.default.createElement(wp,{resources:c??[]},Ee.default.createElement(Up,{i18nProvider:g},Ee.default.createElement(um,{...n??{}},Ee.default.createElement(ym,{...s??{}},Ee.default.createElement(Yc,null,Ee.default.createElement(yc,{mutationMode:w.mutationMode,warnWhenUnsavedChanges:w.warnWhenUnsavedChanges,syncWithLocation:w.syncWithLocation,Title:y,undoableTimeout:w.undoableTimeout,catchAll:x,DashboardPage:m,LoginPage:b,Layout:P,Sider:f,Footer:v,Header:E,OffLayoutArea:M,hasDashboard:!!m,liveMode:w.liveMode,onLiveEvent:S,options:w},Ee.default.createElement(Ec,null,Ee.default.createElement(B,null,u,!L&&Ee.default.createElement($m,null),Ee.default.createElement(Ol,null))))))))))))))))))},"Refine"),Fs=p("react"),Al=d(({notification:e})=>{let t=Pe(),{notificationDispatch:r}=Zr(),{open:o}=gr(),[a,i]=(0,Fs.useState)(),n=d(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||o==null||o({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:tn(e.seconds)},`You have ${tn(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:tn(e.seconds)}),e.seconds>0)){a&&clearTimeout(a);let s=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(s)}},"cancelNotification");return(0,Fs.useEffect)(()=>{n()},[e]),null},"UndoableQueue"),fa=G(p("react")),Wm=d(({children:e,Layout:t,Sider:r,Header:o,Title:a,Footer:i,OffLayoutArea:n})=>{let{Layout:s,Footer:c,Header:m,Sider:l,Title:b,OffLayoutArea:x}=ut();return fa.default.createElement(t??s,{Sider:r??l,Header:o??m,Footer:i??c,Title:a??b,OffLayoutArea:n??x},e,fa.default.createElement(jm,null))},"LayoutWrapper"),jm=d(()=>{let{Prompt:e}=Pt(),t=Pe(),{warnWhen:r,setWarnWhen:o}=wn(),a=d(i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue),"warnWhenListener");return(0,fa.useEffect)(()=>(r&&window.addEventListener("beforeunload",a),window.removeEventListener("beforeunload",a)),[r]),fa.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:o})},"UnsavedPrompt"),Ft=G(p("react"));function Nl({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:o,loading:a}){var i;let n=Qe(),s=Ke(),c=!!(n!=null&&n.isProvided),m=!!(n!=null&&n.isLegacy),l=s==="legacy",b=Vt(),x=kt(),{useLocation:u}=Pt(),h=u(),{isFetching:g,isSuccess:y,data:{authenticated:P,redirectTo:f}={}}=ha({v3LegacyAuthProviderCompatible:m}),E=c?m?y:P:!0;if(!c)return Ft.default.createElement(Ft.default.Fragment,null,r??null);if(g)return Ft.default.createElement(Ft.default.Fragment,null,a??null);if(E)return Ft.default.createElement(Ft.default.Fragment,null,r??null);{if(typeof o<"u")return Ft.default.createElement(Ft.default.Fragment,null,o??null);let v=m?typeof e=="string"?e:"/login":typeof e=="string"?e:f,M=`${l?h==null?void 0:h.pathname:b.pathname}`.replace(/(\?.*|#.*)$/,"");if(v)if(l){let S=t?`?to=${encodeURIComponent(M)}`:"";return Ft.default.createElement(_m,{to:`${v}${S}`})}else return Ft.default.createElement(Gm,{config:{to:v,query:t?{to:(i=b.params)!=null&&i.to?b.params.to:x({to:M,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"}});return null}}T(Nl,"fi");d(Nl,"Authenticated");var Gm=d(({config:e})=>{let t=kt();return Ft.default.useEffect(()=>{t(e)},[t,e]),null},"Redirect"),_m=d(({to:e})=>{let{replace:t}=Dt();return Ft.default.useEffect(()=>{t(e)},[t,e]),null},"RedirectLegacy"),Xm=p("react"),Ol=d(()=>{let{useLocation:e}=Pt(),{checkAuth:t}=wt(),r=e();return(0,Xm.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),Mr=G(p("react")),Ym=d(({resource:e,action:t,params:r,fallback:o,onUnauthorized:a,children:i,...n})=>{let{resource:s,id:c,action:m}=se(e),{identifier:l}=se(),b=d(()=>{let y=(r==null?void 0:r.id)??c;return e&&e!==l?r==null?void 0:r.id:y},"getDefaultId")(),x=e??(s==null?void 0:s.name),u=t??m??"",h=r??{id:b,resource:s},{data:g}=kl({resource:x,action:u,params:h});return(0,Mr.useEffect)(()=>{a&&(g==null?void 0:g.can)===!1&&a({resource:x,action:u,reason:g==null?void 0:g.reason,params:h})},[g==null?void 0:g.can]),g!=null&&g.can?Mr.default.isValidElement(i)?Mr.default.cloneElement(i,n):Mr.default.createElement(Mr.default.Fragment,null,i):(g==null?void 0:g.can)===!1?Mr.default.createElement(Mr.default.Fragment,null,o??null):null},"CanAccess"),le=G(p("react")),Zm=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `],Jm="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub",ef=d(()=>((0,le.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Zm.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),le.default.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},le.default.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26"}},le.default.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},le.default.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},le.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},le.default.createElement(ua,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),le.default.createElement(ua,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),le.default.createElement(ws,{style:{position:"absolute",right:"10px"},id:"3"})),le.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},le.default.createElement(ua,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),le.default.createElement(ua,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),le.default.createElement(ws,{style:{position:"absolute",right:"-70px"},id:"6"})))),le.default.createElement(tf,{text:Jm})))),"GitHubBanner"),tf=d(({text:e})=>le.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},le.default.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},le.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"),le.default.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},e),le.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"))),"Text"),ua=d(({style:e,...t})=>le.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},le.default.createElement("circle",{cx:40,r:40,fill:`url(#${t.id}-a)`,fillOpacity:.5}),le.default.createElement("defs",null,le.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},le.default.createElement("stop",{stopColor:"#47EBEB"}),le.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),ws=d(({style:e,...t})=>le.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...t,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},le.default.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${t.id}-a)`,fillOpacity:.5}),le.default.createElement("defs",null,le.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},le.default.createElement("stop",{stopColor:"#47EBEB"}),le.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig"),vt=G(p("react")),rf=d(({status:e,elements:{success:t=vt.default.createElement(da,{key:"autoSave.success",defaultMessage:"saved"}),error:r=vt.default.createElement(da,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:o=vt.default.createElement(da,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:a=vt.default.createElement(da,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return vt.default.createElement(vt.default.Fragment,null,t);case"error":return vt.default.createElement(vt.default.Fragment,null,r);case"loading":return vt.default.createElement(vt.default.Fragment,null,o);default:return vt.default.createElement(vt.default.Fragment,null,a)}},"AutoSaveIndicator"),da=d(({key:e,defaultMessage:t})=>{let r=Pe();return vt.default.createElement("span",null,r(e,t))},"Message")});var Bt=ta((J0,nu)=>{var ri=Object.defineProperty,wf=Object.getOwnPropertyDescriptor,kf=Object.getOwnPropertyNames,Df=Object.prototype.hasOwnProperty,Bf=T((e,t)=>{for(var r in t)ri(e,r,{get:t[r],enumerable:!0})},"R"),Rf=T((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of kf(t))!Df.call(e,a)&&a!==r&&ri(e,a,{get:()=>t[a],enumerable:!(o=wf(t,a))||o.enumerable});return e},"a"),Mf=T(e=>Rf(ri({},"__esModule",{value:!0}),e),"P"),au={};Bf(au,{RefineButtonClassNames:()=>Of,RefineButtonTestIds:()=>Af,RefinePageHeaderClassNames:()=>Nf});nu.exports=Mf(au);var Af={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"},Nf={Title:"refine-pageHeader-title",SubTitle:"refine-pageHeader-subTitle"},Of={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var ql=N(p("react")),Ul=p("antd"),Vl=p("sunflower-antd"),Vo=N(X()),Ht=N(X());var or=T(({action:e,resource:t,onMutationSuccess:r,onMutationError:o,autoSave:a,submitOnEnter:i=!1,warnWhenUnsavedChanges:n,redirect:s,successNotification:c,errorNotification:m,meta:l,metaData:b,queryMeta:x,mutationMeta:u,liveMode:h,liveParams:g,mutationMode:y,dataProviderName:P,onLiveEvent:f,invalidates:E,undoableTimeout:v,queryOptions:M,createMutationOptions:S,updateMutationOptions:C,id:w,overtimeOptions:L,optimisticUpdateMap:k,disableServerSideValidation:A=!1}={})=>{var ne,pe;let{options:D}=(0,Ht.useRefineContext)(),B=(D==null?void 0:D.disableServerSideValidation)||A,F=(0,Ht.useTranslate)(),[O]=Ul.Form.useForm(),q=(0,Vl.useForm)({form:O}),{form:R}=q,H=(0,Ht.useForm)({onMutationSuccess:r||void 0,onMutationError:async(te,ie,be)=>{if(B){o==null||o(te,ie,be);return}let re=[],Ce=R.getFieldsValue();re=Object.keys((0,Vo.flattenObjectKeys)(Ce)).map(at=>({name:(0,Vo.propertyPathToArray)(at),errors:void 0})),R.setFields(re);let it=te==null?void 0:te.errors;for(let at in it){let Ge=it[at],Wt=[];Array.isArray(Ge)&&(Wt=Ge),typeof Ge=="string"&&(Wt=[Ge]),typeof Ge=="boolean"&&Ge&&(Wt=["Field is not valid."]),typeof Ge=="object"&&"key"in Ge&&(Wt=[F(Ge.key,Ge.message)]),re.push({name:(0,Vo.propertyPathToArray)(at),errors:Wt})}R.setFields([...re]),o==null||o(te,ie,be)},redirect:s,action:e,resource:t,successNotification:c,errorNotification:m,meta:(0,Ht.pickNotDeprecated)(l,b),metaData:(0,Ht.pickNotDeprecated)(l,b),queryMeta:x,mutationMeta:u,liveMode:h,liveParams:g,mutationMode:y,dataProviderName:P,onLiveEvent:f,invalidates:E,undoableTimeout:v,queryOptions:M,createMutationOptions:S,updateMutationOptions:C,id:w,overtimeOptions:L,optimisticUpdateMap:k,autoSave:a}),{formLoading:K,onFinish:I,queryResult:$,id:V,onFinishAutoSave:z}=H,{warnWhenUnsavedChanges:U,setWarnWhen:W}=(0,Ht.useWarnAboutChange)(),Q=n??U;ql.default.useEffect(()=>{R.resetFields()},[(ne=$==null?void 0:$.data)==null?void 0:ne.data,V]);let _=T(te=>{i&&te.key==="Enter"&&R.submit()},"onKeyUp"),Y=T((te,ie)=>{if(te&&Q&&W(!0),a!=null&&a.enabled){W(!1);let be=(a==null?void 0:a.onFinish)??(re=>re);return z(be(ie))}return te},"onValuesChange"),Z={disabled:K,onClick:()=>{R.submit()}};return{form:q.form,formProps:{...q.formProps,onFinish:te=>I(te).catch(ie=>ie),onKeyUp:_,onValuesChange:Y,initialValues:(pe=$==null?void 0:$.data)==null?void 0:pe.data},saveButtonProps:Z,...H,onFinish:async te=>await I(te??q.form.getFieldsValue(!0))}},"useForm");var Ir=N(p("react")),ct=N(X());var Hl=N(X());var $l=T(({modalProps:e={}}={})=>{let{show:t,close:r,visible:o}=(0,Hl.useModal)({defaultVisible:e.open});return{modalProps:{...e,onCancel:a=>{var i;(i=e.onCancel)==null||i.call(e,a),r()},open:o,visible:o},show:t,close:r}},"useModal");var Ql=T(({syncWithLocation:e,defaultVisible:t=!1,autoSubmitClose:r=!0,autoResetForm:o=!0,autoSave:a,invalidates:i,...n})=>{var W,Q;let[s,c]=Ir.default.useState(!1),m=(0,ct.useInvalidate)(),{resource:l,action:b,identifier:x}=(0,ct.useResource)(n.resource),u=(0,ct.useParsed)(),h=(0,ct.useGo)(),g=(0,ct.useUserFriendlyName)(),y=n.action??b??"",P=!(typeof e=="object"&&(e==null?void 0:e.syncId)===!1),f=typeof e=="object"&&"key"in e?e.key:l&&y&&e?`modal-${x}-${y}`:void 0,E=or({meta:{...f?{[f]:void 0}:{},...n.meta},autoSave:a,invalidates:i,...n}),{form:v,formProps:M,id:S,setId:C,formLoading:w,onFinish:L,autoSaveProps:k}=E,A=(0,ct.useTranslate)(),{warnWhen:D,setWarnWhen:B}=(0,ct.useWarnAboutChange)(),{show:F,close:O,modalProps:q}=$l({modalProps:{open:t}}),R=q.open||!1,H={modalProps:q,form:v,formLoading:w,formProps:M,formResult:void 0,formValues:v.getFieldsValue,defaultFormValuesLoading:!1,initialValues:{},submit:L,close:O,open:q.open||!1,show:F,visible:R};Ir.default.useEffect(()=>{var _,Y,Z,ne;if(s===!1&&f){let pe=(Y=(_=u==null?void 0:u.params)==null?void 0:_[f])==null?void 0:Y.open;if(typeof pe=="boolean"?pe&&F():typeof pe=="string"&&pe==="true"&&F(),P){let te=(ne=(Z=u==null?void 0:u.params)==null?void 0:Z[f])==null?void 0:ne.id;te&&(C==null||C(te))}c(!0)}},[f,u,P,C]),Ir.default.useEffect(()=>{var _;s===!0&&(R&&f?h({query:{[f]:{...(_=u==null?void 0:u.params)==null?void 0:_[f],open:!0,...P&&S&&{id:S}}},options:{keepQuery:!0},type:"replace"}):f&&!R&&h({query:{[f]:void 0},options:{keepQuery:!0},type:"replace"}))},[S,R,F,f,P]);let K={disabled:w,loading:w,onClick:()=>{v.submit()}},I=(0,Ir.useCallback)(()=>{if(k.status==="success"&&(a!=null&&a.invalidateOnClose)&&m({id:S,invalidates:i||["list","many","detail"],dataProviderName:n.dataProviderName,resource:x}),D)if(window.confirm(A("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))B(!1);else return;C==null||C(void 0),H.close()},[D,k.status]),$=(0,Ir.useCallback)(_=>{typeof _<"u"&&(C==null||C(_)),(!(y==="edit"||y==="clone")||(typeof _<"u"||typeof S<"u"))&&H.show()},[S]),{visible:V,...z}=q,U={open:V,...z};return{...E,...H,show:$,close:I,open:R,formProps:{...M,...E.formProps,onValuesChange:M==null?void 0:M.onValuesChange,onKeyUp:M==null?void 0:M.onKeyUp,onFinish:async _=>{await L(_),r&&O(),o&&v.resetFields()}},modalProps:{...U,width:"1000px",okButtonProps:K,title:A(`${x}.titles.${n.action}`,`${g(`${n.action} ${((W=l==null?void 0:l.meta)==null?void 0:W.label)??((Q=l==null?void 0:l.options)==null?void 0:Q.label)??(l==null?void 0:l.label)??x}`,"singular")}`),okText:A("buttons.save","Save"),cancelText:A("buttons.cancel","Cancel"),onCancel:I,forceRender:!0},formLoading:w}},"useModalForm");var qr=N(p("react")),pt=N(X());var Kl=T(({syncWithLocation:e,defaultVisible:t=!1,autoSubmitClose:r=!0,autoResetForm:o=!0,autoSave:a,invalidates:i,...n})=>{let s=(0,pt.useInvalidate)(),[c,m]=qr.default.useState(!1),{visible:l,show:b,close:x}=(0,pt.useModal)({defaultVisible:t}),{resource:u,action:h,identifier:g}=(0,pt.useResource)(n.resource),y=(0,pt.useParsed)(),P=(0,pt.useGo)(),f=n.action??h??"",E=!(typeof e=="object"&&(e==null?void 0:e.syncId)===!1),v=typeof e=="object"&&"key"in e?e.key:u&&f&&e?`drawer-${(u==null?void 0:u.identifier)??(u==null?void 0:u.name)}-${f}`:void 0,M=or({meta:{...v?{[v]:void 0}:{},...n.meta},autoSave:a,invalidates:i,...n}),{form:S,formProps:C,formLoading:w,id:L,setId:k,onFinish:A,autoSaveProps:D}=M;qr.default.useEffect(()=>{var I,$,V,z;if(c===!1&&v){let U=($=(I=y==null?void 0:y.params)==null?void 0:I[v])==null?void 0:$.open;if(typeof U=="boolean"?U?b():x():typeof U=="string"&&U==="true"&&b(),E){let W=(z=(V=y==null?void 0:y.params)==null?void 0:V[v])==null?void 0:z.id;W&&(k==null||k(W))}m(!0)}},[v,y,E,k,c]),qr.default.useEffect(()=>{var I;c===!0&&(l&&v?P({query:{[v]:{...(I=y==null?void 0:y.params)==null?void 0:I[v],open:!0,...E&&L&&{id:L}}},options:{keepQuery:!0},type:"replace"}):v&&!l&&P({query:{[v]:void 0},options:{keepQuery:!0},type:"replace"}))},[L,l,b,x,v,E,c]);let B=(0,pt.useTranslate)(),{warnWhen:F,setWarnWhen:O}=(0,pt.useWarnAboutChange)(),q={disabled:w,onClick:()=>{S.submit()},loading:w},R={recordItemId:L,onSuccess:()=>{k==null||k(void 0),x()}},H=(0,qr.useCallback)(()=>{if(D.status==="success"&&(a!=null&&a.invalidateOnClose)&&s({id:L,invalidates:i||["list","many","detail"],dataProviderName:n.dataProviderName,resource:g}),F)if(window.confirm(B("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))O(!1);else return;x(),k==null||k(void 0)},[F]),K=(0,qr.useCallback)(I=>{typeof I<"u"&&(k==null||k(I)),(!(f==="edit"||f==="clone")||(typeof I<"u"||typeof L<"u"))&&b()},[L]);return{...M,show:K,close:H,formProps:{form:S,...M.formProps,onValuesChange:C==null?void 0:C.onValuesChange,onKeyUp:C==null?void 0:C.onKeyUp,onFinish:async I=>{await A(I),r&&x(),o&&S.resetFields()}},drawerProps:{width:"500px",onClose:H,open:l,forceRender:!0},saveButtonProps:q,deleteButtonProps:R,formLoading:w}},"useDrawerForm");var zl=p("sunflower-antd");var Wl=T((e={})=>{let t=or({...e}),{form:r,formProps:o}=t,a=(0,zl.useStepsForm)({isBackValidate:!1,form:r,submit:i=>{var n;(n=o==null?void 0:o.onFinish)==null||n.call(o,i)},...e});return{...t,...a,formLoading:t.formLoading,formProps:{...a.formProps,...t.formProps,onValuesChange:o==null?void 0:o.onValuesChange,onKeyUp:o==null?void 0:o.onKeyUp},saveButtonProps:{...t.saveButtonProps,onClick:()=>a.submit()}}},"useStepsForm");var ar=p("react"),xa=p("antd"),Gl=p("sunflower-antd"),vr=N(X());var Ca=N(X());var of=T((e,t)=>{let r=(0,Ca.getDefaultSortOrder)(e,t);if(r)return`${r}end`},"getDefaultSortOrder"),af=T((e,t,r="eq")=>(0,Ca.getDefaultFilter)(e,t,r),"getDefaultFilter"),Qn=T(e=>{let t=[];if(Array.isArray(e))e.sort((r,o)=>{var a,i;return(((a=r.column)==null?void 0:a.sorter).multiple??0)<(((i=o.column)==null?void 0:i.sorter).multiple??0)?-1:0}).map(r=>{if(r.field&&r.order){let o=Array.isArray(r.field)?r.field.join("."):`${r.field}`;t.push({field:`${r.columnKey??o}`,order:r.order.replace("end","")})}});else if(e.field&&e.order){let r=Array.isArray(e.field)?e.field.join("."):`${e.field}`;t.push({field:`${e.columnKey??r}`,order:e.order.replace("end","")})}return t},"mapAntdSorterToCrudSorting"),Kn=T((e,t,r)=>{let o=[],a=(r??[]).reduce((i,n)=>{let s=n.key||n.field;return{...i,[s]:n}},{});return Object.keys(e).map(i=>{var c,m;let n=e[i],s=((c=t.filter(l=>l.operator!=="or").find(l=>l.field===i))==null?void 0:c.operator)||((m=a[i])==null?void 0:m.operator);s!=="or"&&s!=="and"&&o.push({field:i,operator:s??(Array.isArray(n)?"in":"eq"),value:n})}),o},"mapAntdFilterToCrudFilter");var Jr=N(X()),jl=N(p("react"));var yr=T(({to:e,element:t})=>{let{Link:r}=(0,Jr.useRouterContext)(),o=(0,Jr.useRouterType)(),a=(0,Jr.useLink)();return jl.default.createElement(o==="legacy"?r:a,{to:e,replace:!1,onClick:n=>{n.preventDefault()}},t)},"PaginationLink");var zn=T(({onSearch:e,initialCurrent:t,initialPageSize:r,hasPagination:o=!0,pagination:a,initialSorter:i,permanentSorter:n,initialFilter:s,permanentFilter:c,defaultSetFilterBehavior:m,filters:l,sorters:b,syncWithLocation:x,resource:u,successNotification:h,errorNotification:g,queryOptions:y,liveMode:P,onLiveEvent:f,liveParams:E,meta:v,metaData:M,dataProviderName:S}={})=>{let{tableQueryResult:C,current:w,setCurrent:L,pageSize:k,setPageSize:A,filters:D,setFilters:B,sorters:F,setSorters:O,sorter:q,setSorter:R,createLinkForSyncWithLocation:H,pageCount:K,overtime:I}=(0,vr.useTable)({permanentSorter:n,permanentFilter:c,initialCurrent:t,initialPageSize:r,pagination:a,hasPagination:o,filters:l,sorters:b,initialSorter:i,initialFilter:s,syncWithLocation:x,resource:u,defaultSetFilterBehavior:m,successNotification:h,errorNotification:g,queryOptions:y,liveMode:P,onLiveEvent:f,liveParams:E,meta:(0,vr.pickNotDeprecated)(v,M),metaData:(0,vr.pickNotDeprecated)(v,M),dataProviderName:S}),$=xa.Grid.useBreakpoint(),[V]=xa.Form.useForm(),z=(0,Gl.useForm)({form:V}),U=(0,vr.useLiveMode)(P),W=o===!1?"off":"server",Q=((a==null?void 0:a.mode)??W)!=="off",_=(0,vr.pickNotDeprecated)(l==null?void 0:l.initial,s),{data:Y,isFetched:Z,isLoading:ne}=C,pe=T((be,re,Ce)=>{if(re&&Object.keys(re).length>0){let Be=Kn(re,D,_);B(Be)}if(Ce&&Object.keys(Ce).length>0){let Be=Qn(Ce);O(Be)}Q&&(L==null||L(be.current||1),A==null||A(be.pageSize||10))},"onChange"),te=T(async be=>{if(e){let re=await e(be);B(re),Q&&(L==null||L(1))}},"onFinish"),ie=T(()=>Q?{itemRender:(be,re,Ce)=>{var it;let Be=H({pagination:{pageSize:k,current:be},sorters:F,filters:D});if(re==="page")return(0,ar.createElement)(yr,{to:Be,element:`${be}`});if(re==="next"||re==="prev")return(0,ar.createElement)(yr,{to:Be,element:Ce});if(re==="jump-next"||re==="jump-prev"){let at=(it=Ce==null?void 0:Ce.props)==null?void 0:it.children;return(0,ar.createElement)(yr,{to:Be,element:ar.Children.count(at)>1?(0,ar.createElement)(ar.Fragment,{},at):at})}return Ce},pageSize:k,current:w,simple:!$.sm,position:$.sm?["bottomRight"]:["bottomCenter"],total:Y==null?void 0:Y.total}:!1,"antdPagination");return{searchFormProps:{...z.formProps,onFinish:te},tableProps:{dataSource:Y==null?void 0:Y.data,loading:U==="auto"?ne:!Z,onChange:pe,pagination:ie(),scroll:{x:!0}},tableQueryResult:C,sorters:F,sorter:q,filters:D,setSorters:O,setSorter:R,setFilters:B,current:w,setCurrent:L,pageSize:k,setPageSize:A,pageCount:K,createLinkForSyncWithLocation:H,overtime:I}},"useTable");var nf=T(({autoSubmitClose:e=!0,...t}={})=>{let r=zn({...t,successNotification:void 0,errorNotification:void 0}),o=or({...t,action:"edit",redirect:!1}),{id:a,setId:i,saveButtonProps:n}=o,s={onClick:()=>{i(void 0)}},c=T(l=>({onClick:()=>i(l)}),"editButtonProps"),m=T(l=>l===a,"isEditing");return{...r,...o,formProps:{...o.formProps,onFinish:async l=>{let b=await o.onFinish(l);return e&&i(void 0),b}},saveButtonProps:n,cancelButtonProps:s,editButtonProps:c,isEditing:m}},"useEditableTable");var _l=N(X());var Yv=T(e=>{let{queryResult:t,defaultValueQueryResult:r,onSearch:o,options:a}=(0,_l.useSelect)(e);return{selectProps:{options:a,onSearch:o,loading:r.isFetching,showSearch:!0,filterOption:!1},queryResult:t,defaultValueQueryResult:r}},"useSelect");var Ho=N(X());var ih=T(({resource:e,sort:t,sorters:r,filters:o,optionLabel:a,optionValue:i,queryOptions:n,fetchSize:s,pagination:c,liveMode:m,defaultValue:l,onLiveEvent:b,liveParams:x,meta:u,metaData:h,dataProviderName:g})=>{let{queryResult:y,options:P}=(0,Ho.useSelect)({resource:e,sort:t,sorters:r,filters:o,optionLabel:a,optionValue:i,queryOptions:n,fetchSize:s,pagination:c,liveMode:m,defaultValue:l,onLiveEvent:b,liveParams:x,meta:(0,Ho.pickNotDeprecated)(u,h),metaData:(0,Ho.pickNotDeprecated)(u,h),dataProviderName:g});return{checkboxGroupProps:{options:P,defaultValue:l},queryResult:y}},"useCheckboxGroup");var $o=N(X());var gh=T(({resource:e,sort:t,sorters:r,filters:o,optionLabel:a,optionValue:i,queryOptions:n,fetchSize:s,pagination:c,liveMode:m,defaultValue:l,onLiveEvent:b,liveParams:x,meta:u,metaData:h,dataProviderName:g})=>{let{queryResult:y,options:P}=(0,$o.useSelect)({resource:e,sort:t,sorters:r,filters:o,optionLabel:a,optionValue:i,queryOptions:n,fetchSize:s,pagination:c,liveMode:m,defaultValue:l,onLiveEvent:b,liveParams:x,meta:(0,$o.pickNotDeprecated)(u,h),metaData:(0,$o.pickNotDeprecated)(u,h),dataProviderName:g});return{radioGroupProps:{options:P,defaultValue:l},queryResult:y}},"useRadioGroup");var Ea=N(p("react")),Qo=p("antd"),nr=N(X());var Eh=T(({resource:e,resourceName:t,mapData:r=T(l=>l,"mapData"),paparseOptions:o,batchSize:a=Number.MAX_SAFE_INTEGER,onFinish:i,meta:n,metaData:s,dataProviderName:c,onProgress:m}={})=>{let l=(0,nr.useTranslate)(),{resource:b}=(0,nr.useResource)(e??t),{mutationResult:x,isLoading:u,handleChange:h}=(0,nr.useImport)({resource:(b==null?void 0:b.identifier)??(b==null?void 0:b.name),mapData:r,paparseOptions:o,batchSize:a,meta:(0,nr.pickNotDeprecated)(n,s),metaData:(0,nr.pickNotDeprecated)(n,s),dataProviderName:c,onFinish:i,onProgress:m??(({totalAmount:g,processedAmount:y})=>{if(g>0&&y>0){let P=Ea.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},Ea.default.createElement(Qo.Progress,{type:"circle",percent:Math.floor(y/g*100),size:50,strokeColor:"#1890ff",status:"normal"}),Ea.default.createElement("span",{style:{marginLeft:8,width:"100%"}},l("notifications.importProgress",{processed:y,total:g},`Importing: ${y}/${g}`)));Qo.notification.open({description:P,message:null,key:`${b}-import`,duration:0}),y>=g,y===g&&setTimeout(()=>{Qo.notification.destroy(`${b}-import`)},4500)}})});return{uploadProps:{onChange:h,beforeUpload:()=>!1,showUploadList:!1,accept:".csv"},buttonProps:{type:"default",loading:u},mutationResult:x,isLoading:u}},"useImport");var ir=p("react"),La=p("antd"),Ko=N(X()),Xl=N(X());var sf=T(({resource:e,initialCurrent:t,initialPageSize:r,pagination:o,hasPagination:a=!0,initialSorter:i,permanentSorter:n,initialFilter:s,permanentFilter:c,defaultSetFilterBehavior:m,filters:l,sorters:b,onSearch:x,queryOptions:u,syncWithLocation:h,successNotification:g,errorNotification:y,liveMode:P,onLiveEvent:f,liveParams:E,meta:v,metaData:M,dataProviderName:S}={})=>{let{sorters:C,sorter:w,filters:L,current:k,pageSize:A,pageCount:D,setFilters:B,setCurrent:F,setPageSize:O,setSorter:q,setSorters:R,createLinkForSyncWithLocation:H,tableQueryResult:K,overtime:I}=(0,Ko.useTable)({resource:e,initialSorter:i,permanentSorter:n,initialFilter:s,permanentFilter:c,filters:l,sorters:b,defaultSetFilterBehavior:m,initialCurrent:t,initialPageSize:r,queryOptions:u,successNotification:g,errorNotification:y,liveMode:P,onLiveEvent:f,liveParams:E,meta:(0,Ko.pickNotDeprecated)(v,M),metaData:(0,Ko.pickNotDeprecated)(v,M),syncWithLocation:h,dataProviderName:S,pagination:o,hasPagination:a}),$=a===!1?"off":"server",V=((o==null?void 0:o.mode)??$)!=="off",z=La.Grid.useBreakpoint(),U=(0,Xl.useLiveMode)(P),[W]=La.Form.useForm(),{data:Q,isFetched:_,isLoading:Y}=K,Z=T((te,ie)=>{V&&(F(te),O(ie||10))},"onChange"),ne=T(async te=>{if(x){let ie=await x(te);return V&&(F==null||F(1)),B(ie)}},"onFinish"),pe=T(()=>V?{itemRender:(te,ie,be)=>{var Ce;let re=H({pagination:{pageSize:A,current:te},sorters:C,filters:L});if(ie==="page")return(0,ir.createElement)(yr,{to:re,element:`${te}`});if(ie==="next"||ie==="prev")return(0,ir.createElement)(yr,{to:re,element:be});if(ie==="jump-next"||ie==="jump-prev"){let Be=(Ce=be==null?void 0:be.props)==null?void 0:Ce.children;return(0,ir.createElement)(yr,{to:re,element:ir.Children.count(Be)>1?(0,ir.createElement)(ir.Fragment,{},Be):Be})}return be},pageSize:A,current:k,simple:!z.sm,total:Q==null?void 0:Q.total,onChange:Z}:!1,"antdPagination");return{searchFormProps:{form:W,onFinish:ne},listProps:{dataSource:Q==null?void 0:Q.data,loading:U==="auto"?Y:!_,pagination:pe()},queryResult:K,filters:L,setFilters:B,sorter:w,setSorter:q,sorters:C,setSorters:R,current:k,setCurrent:F,pageSize:A,setPageSize:O,pageCount:D,createLinkForSyncWithLocation:H,overtime:I}},"useSimpleList");var eo=p("react");var Uh=T(()=>{let[e,t]=(0,eo.useState)(!1),r=(0,eo.useCallback)(o=>{lf(o.fileList).includes(!0)?t(!0):t(!1)},[]);return(0,eo.useMemo)(()=>({isLoading:e,onChange:r}),[e])},"useFileUploadState"),lf=T(e=>e.map(t=>{switch(t.status){case"uploading":return!0;default:return!1}}),"mapStatusToLoading");var Yl=p("react");var to=N(p("react"));var ro=to.default.createContext({siderCollapsed:!1,mobileSiderOpen:!1,setSiderCollapsed:()=>{},setMobileSiderOpen:()=>{}}),Wn=T(({children:e,initialSiderCollapsed:t})=>{let[r,o]=(0,to.useState)(t??!1),[a,i]=(0,to.useState)(!1);return to.default.createElement(ro.Provider,{value:{siderCollapsed:r,mobileSiderOpen:a,setSiderCollapsed:o,setMobileSiderOpen:i}},e)},"ThemedLayoutContextProvider");var Gh=T(()=>{let{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:o}=(0,Yl.useContext)(ro);return{siderVisible:e,setSiderVisible:r,drawerSiderVisible:t,setDrawerSiderVisible:o}},"useSiderVisible");var Zl=p("react");var Jl=T(()=>{let{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:o}=(0,Zl.useContext)(ro);return{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:o}},"useThemedLayoutContext");var hr=p("antd"),Ur=N(p("react"));var oo=N(p("react")),Sa=p("antd"),eu=p("@ant-design/icons");var jn=T(({message:e,cancelMutation:t,undoableTimeout:r})=>oo.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},oo.default.createElement(Sa.Progress,{type:"circle",percent:(r??0)*20,format:o=>o&&o/20,size:50,strokeColor:"#1890ff",status:"normal"}),oo.default.createElement("span",{style:{marginLeft:8,width:"100%"}},e),oo.default.createElement(Sa.Button,{style:{flexShrink:0},onClick:t,disabled:r===0,icon:oo.default.createElement(eu.UndoOutlined,null)})),"UndoableNotification");var o0={open:({key:e,message:t,description:r,type:o,cancelMutation:a,undoableTimeout:i})=>{o==="progress"?hr.notification.open({key:e,description:Ur.default.createElement(jn,{notificationKey:e,message:t,cancelMutation:()=>{a==null||a(),hr.notification.destroy(e??"")},undoableTimeout:i}),message:null,duration:0,closeIcon:Ur.default.createElement(Ur.default.Fragment,null)}):hr.notification.open({key:e,description:t,message:r??null,type:o})},close:e=>hr.notification.destroy(e)},a0=T(()=>{let{notification:e}=hr.App.useApp(),t="open"in e?e:hr.notification;return{open:({key:o,message:a,description:i,type:n,cancelMutation:s,undoableTimeout:c})=>{n==="progress"?t.open({key:o,description:Ur.default.createElement(jn,{notificationKey:o,message:a,cancelMutation:()=>{s==null||s(),t.destroy(o??"")},undoableTimeout:c}),message:null,duration:0,closeIcon:Ur.default.createElement(Ur.default.Fragment,null)}):t.open({key:o,description:a,message:i??null,type:n})},close:o=>t.destroy(o)}},"useNotificationProvider");var lr=N(p("react")),ao=p("antd");var ae=N(p("react")),ze=p("antd"),sr=p("@ant-design/icons"),fe=N(X());var tu={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999};var{SubMenu:uf}=ze.Menu,Gn=T(({Title:e,render:t,meta:r})=>{let[o,a]=(0,ae.useState)(!1),[i,n]=(0,ae.useState)(!1),s=(0,fe.useIsExistAuthentication)(),c=(0,fe.useRouterType)(),m=(0,fe.useLink)(),{warnWhen:l,setWarnWhen:b}=(0,fe.useWarnAboutChange)(),{Link:x}=(0,fe.useRouterContext)(),u=c==="legacy"?x:m,h=(0,fe.useTitle)(),g=(0,fe.useTranslate)(),{menuItems:y,selectedKey:P,defaultOpenKeys:f}=(0,fe.useMenu)({meta:r}),E=ze.Grid.useBreakpoint(),{hasDashboard:v}=(0,fe.useRefineContext)(),M=(0,fe.useActiveAuthProvider)(),{mutate:S}=(0,fe.useLogout)({v3LegacyAuthProviderCompatible:!!(M!=null&&M.isLegacy)}),C=typeof E.lg>"u"?!1:!E.lg,w=e??h??_n,L=T((H,K)=>H.map(I=>{let{icon:$,label:V,route:z,key:U,name:W,children:Q,parentName:_,meta:Y,options:Z}=I;if(Q.length>0)return ae.default.createElement(fe.CanAccess,{key:I.key,resource:W.toLowerCase(),action:"list",params:{resource:I}},ae.default.createElement(uf,{key:I.key,icon:$??ae.default.createElement(sr.UnorderedListOutlined,null),title:V},L(Q,K)));let ne=U===K,pe=!((0,fe.pickNotDeprecated)(Y==null?void 0:Y.parent,Z==null?void 0:Z.parent,_)!==void 0&&Q.length===0);return ae.default.createElement(fe.CanAccess,{key:I.key,resource:W.toLowerCase(),action:"list",params:{resource:I}},ae.default.createElement(ze.Menu.Item,{key:I.key,style:{fontWeight:ne?"bold":"normal"},icon:$??(pe&&ae.default.createElement(sr.UnorderedListOutlined,null))},ae.default.createElement(u,{to:z??""},V),!o&&ne&&ae.default.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),k=T(()=>{l?window.confirm(g("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(b(!1),S()):S()},"handleLogout"),A=s&&ae.default.createElement(ze.Menu.Item,{key:"logout",onClick:k,icon:ae.default.createElement(sr.LogoutOutlined,null)},g("buttons.logout","Logout")),D=v?ae.default.createElement(ze.Menu.Item,{key:"dashboard",style:{fontWeight:P==="/"?"bold":"normal"},icon:ae.default.createElement(sr.DashboardOutlined,null)},ae.default.createElement(u,{to:"/"},g("dashboard.title","Dashboard")),!o&&P==="/"&&ae.default.createElement("div",{className:"ant-menu-tree-arrow"})):null,B=L(y,P),F=T(()=>t?t({dashboard:D,items:B,logout:A,collapsed:o}):ae.default.createElement(ae.default.Fragment,null,D,B,A),"renderSider"),O=T(()=>ae.default.createElement(ae.default.Fragment,null,ae.default.createElement(ze.Menu,{theme:"dark",selectedKeys:P?[P]:[],defaultOpenKeys:f,mode:"inline",onClick:()=>{n(!1),E.lg||a(!0)}},F())),"renderMenu"),q=T(()=>ae.default.createElement(ae.default.Fragment,null,ae.default.createElement(ze.Drawer,{open:i,onClose:()=>n(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},ae.default.createElement(ze.Layout,null,ae.default.createElement(ze.Layout.Sider,{style:{height:"100vh",overflow:"hidden"}},ae.default.createElement(w,{collapsed:!1}),O()))),ae.default.createElement(ze.Button,{style:tu,size:"large",onClick:()=>n(!0),icon:ae.default.createElement(sr.BarsOutlined,null)})),"renderDrawerSider");return ae.default.createElement(ze.ConfigProvider,{theme:{components:{Menu:{colorItemBg:"transparent",colorItemText:"#fff",colorItemTextSelected:"#fff",colorItemBgSelected:"transparent",colorItemTextHover:"#fff"}}}},T(()=>C?q():ae.default.createElement(ze.Layout.Sider,{collapsible:!0,collapsed:o,onCollapse:H=>a(H),collapsedWidth:80,breakpoint:"lg"},ae.default.createElement(w,{collapsed:o}),O()),"renderContent")())},"Sider");var Fa=N(X()),Tr=p("antd"),zo=N(p("react"));var{Text:df}=Tr.Typography,Xn=T(()=>{let e=(0,Fa.useActiveAuthProvider)(),{data:t}=(0,Fa.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(e!=null&&e.isLegacy)});return t&&(t.name||t.avatar)?zo.default.createElement(Tr.Layout.Header,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"}},zo.default.createElement(Tr.Space,{style:{marginLeft:"8px"}},(t==null?void 0:t.name)&&zo.default.createElement(df,{style:{color:"white"},strong:!0},t.name),(t==null?void 0:t.avatar)&&zo.default.createElement(Tr.Avatar,{src:t==null?void 0:t.avatar,alt:t==null?void 0:t.name}))):null},"Header");var cf=T(({children:e,Header:t,Sider:r,Title:o,Footer:a,OffLayoutArea:i})=>{let n=ao.Grid.useBreakpoint(),s=r??Gn,c=t??Xn,m=typeof n.sm>"u"?!0:n.sm;return lr.default.createElement(ao.Layout,{style:{minHeight:"100vh"}},lr.default.createElement(s,{Title:o}),lr.default.createElement(ao.Layout,null,lr.default.createElement(c,null),lr.default.createElement(ao.Layout.Content,null,lr.default.createElement("div",{style:{minHeight:360,padding:m?24:12}},e),i&&lr.default.createElement(i,null)),a&&lr.default.createElement(a,null)))},"Layout");var Wo=N(p("react")),no=N(X());var _n=T(({collapsed:e})=>{let t=(0,no.useRouterType)(),r=(0,no.useLink)(),{Link:o}=(0,no.useRouterContext)();return Wo.default.createElement(t==="legacy"?o:r,{to:"/"},e?Wo.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},Wo.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{margin:"0 auto",padding:"12px 0",maxHeight:"65.5px"}})):Wo.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",style:{width:"200px",padding:"12px 24px"}}))},"Title");var ur=N(p("react")),so=p("antd");var J=N(p("react")),Ie=p("antd"),Ct=p("@ant-design/icons"),ge=N(X());var ru={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999};var{SubMenu:pf}=Ie.Menu,{useToken:mf}=Ie.theme,Yn=T(({Title:e,render:t,meta:r})=>{let{token:o}=mf(),[a,i]=(0,J.useState)(!1),[n,s]=(0,J.useState)(!1),c=(0,ge.useIsExistAuthentication)(),m=(0,ge.useRouterType)(),l=(0,ge.useLink)(),{warnWhen:b,setWarnWhen:x}=(0,ge.useWarnAboutChange)(),{Link:u}=(0,ge.useRouterContext)(),h=m==="legacy"?u:l,g=(0,ge.useTitle)(),y=(0,ge.useTranslate)(),{menuItems:P,selectedKey:f,defaultOpenKeys:E}=(0,ge.useMenu)({meta:r}),v=Ie.Grid.useBreakpoint(),{hasDashboard:M}=(0,ge.useRefineContext)(),S=(0,ge.useActiveAuthProvider)(),{mutate:C}=(0,ge.useLogout)({v3LegacyAuthProviderCompatible:!!(S!=null&&S.isLegacy)}),w=typeof v.lg>"u"?!1:!v.lg,L=e??g??Zn,k=T((H,K)=>H.map(I=>{let{icon:$,label:V,route:z,key:U,name:W,children:Q,parentName:_,meta:Y,options:Z}=I;if(Q.length>0)return J.default.createElement(ge.CanAccess,{key:I.key,resource:W.toLowerCase(),action:"list",params:{resource:I}},J.default.createElement(pf,{key:I.key,icon:$??J.default.createElement(Ct.UnorderedListOutlined,null),title:V},k(Q,K)));let ne=U===K,pe=!((0,ge.pickNotDeprecated)(Y==null?void 0:Y.parent,Z==null?void 0:Z.parent,_)!==void 0&&Q.length===0);return J.default.createElement(ge.CanAccess,{key:I.key,resource:W.toLowerCase(),action:"list",params:{resource:I}},J.default.createElement(Ie.Menu.Item,{key:I.key,icon:$??(pe&&J.default.createElement(Ct.UnorderedListOutlined,null))},J.default.createElement(h,{to:z??""},V),!a&&ne&&J.default.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),A=T(()=>{b?window.confirm(y("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(x(!1),C()):C()},"handleLogout"),D=c&&J.default.createElement(Ie.Menu.Item,{key:"logout",onClick:()=>A(),icon:J.default.createElement(Ct.LogoutOutlined,null)},y("buttons.logout","Logout")),B=M?J.default.createElement(Ie.Menu.Item,{key:"dashboard",icon:J.default.createElement(Ct.DashboardOutlined,null)},J.default.createElement(h,{to:"/"},y("dashboard.title","Dashboard")),!a&&f==="/"&&J.default.createElement("div",{className:"ant-menu-tree-arrow"})):null,F=k(P,f),O=T(()=>t?t({dashboard:B,items:F,logout:D,collapsed:a}):J.default.createElement(J.default.Fragment,null,B,F,D),"renderSider"),q=T(()=>J.default.createElement(J.default.Fragment,null,J.default.createElement(Ie.Menu,{selectedKeys:f?[f]:[],defaultOpenKeys:E,mode:"inline",style:{marginTop:"8px",border:"none"},onClick:()=>{s(!1),v.lg||i(!0)}},O())),"renderMenu"),R=T(()=>J.default.createElement(J.default.Fragment,null,J.default.createElement(Ie.Drawer,{open:n,onClose:()=>s(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},J.default.createElement(Ie.Layout,null,J.default.createElement(Ie.Layout.Sider,{style:{height:"100vh",overflow:"hidden",backgroundColor:o.colorBgContainer,borderRight:`1px solid ${o.colorBgElevated}`}},J.default.createElement("div",{style:{width:"200px",padding:"0 16px",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"64px",backgroundColor:o.colorBgElevated}},J.default.createElement(L,{collapsed:!1})),q()))),J.default.createElement(Ie.Button,{style:ru,size:"large",onClick:()=>s(!0),icon:J.default.createElement(Ct.BarsOutlined,null)})),"renderDrawerSider");return w?R():J.default.createElement(Ie.Layout.Sider,{style:{backgroundColor:o.colorBgContainer,borderRight:`1px solid ${o.colorBgElevated}`},collapsible:!0,collapsed:a,onCollapse:H=>i(H),collapsedWidth:80,breakpoint:"lg",trigger:J.default.createElement(Ie.Button,{type:"text",style:{borderRadius:0,height:"100%",width:"100%",backgroundColor:o.colorBgElevated}},a?J.default.createElement(Ct.RightOutlined,{style:{color:o.colorPrimary}}):J.default.createElement(Ct.LeftOutlined,{style:{color:o.colorPrimary}}))},J.default.createElement("div",{style:{width:a?"80px":"200px",padding:a?"0":"0 16px",display:"flex",justifyContent:a?"center":"flex-start",alignItems:"center",height:"64px",backgroundColor:o.colorBgElevated,fontSize:"14px"}},J.default.createElement(L,{collapsed:a})),q())},"ThemedSider");var io=N(p("react")),$t=p("antd"),wa=N(X());var{Text:ff}=$t.Typography,{useToken:gf}=$t.theme,Jn=T(()=>{let{token:e}=gf(),t=(0,wa.useActiveAuthProvider)(),{data:r}=(0,wa.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(t!=null&&t.isLegacy)});return r&&(r.name||r.avatar)?io.default.createElement($t.Layout.Header,{style:{backgroundColor:e.colorBgElevated,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"}},io.default.createElement($t.Space,null,io.default.createElement($t.Space,{size:"middle"},(r==null?void 0:r.name)&&io.default.createElement(ff,{strong:!0},r.name),(r==null?void 0:r.avatar)&&io.default.createElement($t.Avatar,{src:r==null?void 0:r.avatar,alt:r==null?void 0:r.name})))):null},"ThemedHeader");var yf=T(({children:e,Header:t,Sider:r,Title:o,Footer:a,OffLayoutArea:i})=>{let n=so.Grid.useBreakpoint(),s=r??Yn,c=t??Jn,m=typeof n.sm>"u"?!0:n.sm;return ur.default.createElement(so.Layout,{style:{minHeight:"100vh"}},ur.default.createElement(s,{Title:o}),ur.default.createElement(so.Layout,null,ur.default.createElement(c,null),ur.default.createElement(so.Layout.Content,null,ur.default.createElement("div",{style:{minHeight:360,padding:m?24:12}},e),i&&ur.default.createElement(i,null)),a&&ur.default.createElement(a,null)))},"ThemedLayout");var br=N(p("react")),lo=N(X()),uo=p("antd");var{useToken:vf}=uo.theme,hf="refine Project",Tf=br.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",},br.default.createElement("path",{d:"M12 9C13.6569 9 15 7.65685 15 6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6C9 7.65685 10.3431 9 12 9Z",fill:"currentColor"}),br.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6V18C16 20.2091 14.2091 22 12 22C9.79086 22 8 20.2091 8 18V6Z",fill:"currentColor"})),Zn=T(({collapsed:e,icon:t=Tf,text:r=hf,wrapperStyles:o})=>{let{token:a}=vf(),i=(0,lo.useRouterType)(),n=(0,lo.useLink)(),{Link:s}=(0,lo.useRouterContext)();return br.default.createElement(i==="legacy"?s:n,{to:"/",style:{display:"inline-block",textDecoration:"none"}},br.default.createElement(uo.Space,{style:{display:"flex",alignItems:"center",fontSize:"inherit",...o}},br.default.createElement("div",{style:{height:"24px",width:"24px",color:a.colorPrimary}},t),!e&&br.default.createElement(uo.Typography.Title,{style:{fontSize:"inherit",marginBottom:0,fontWeight:700}},r)))},"ThemedTitle");var Gt=N(p("react")),mo=p("antd");var ee=N(p("react")),qe=p("antd"),xt=p("@ant-design/icons"),ye=N(X());var ou={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999};var{SubMenu:bf}=qe.Menu,{useToken:Pf}=qe.theme,ei=T(({Title:e,render:t,meta:r,fixed:o,activeItemDisabled:a=!1})=>{let{token:i}=Pf(),{siderCollapsed:n,setSiderCollapsed:s,mobileSiderOpen:c,setMobileSiderOpen:m}=Jl(),l=(0,ye.useIsExistAuthentication)(),b=(0,ye.useRouterType)(),x=(0,ye.useLink)(),{warnWhen:u,setWarnWhen:h}=(0,ye.useWarnAboutChange)(),{Link:g}=(0,ye.useRouterContext)(),y=b==="legacy"?g:x,P=(0,ye.useTitle)(),f=(0,ye.useTranslate)(),{menuItems:E,selectedKey:v,defaultOpenKeys:M}=(0,ye.useMenu)({meta:r}),S=qe.Grid.useBreakpoint(),{hasDashboard:C}=(0,ye.useRefineContext)(),w=(0,ye.useActiveAuthProvider)(),{mutate:L}=(0,ye.useLogout)({v3LegacyAuthProviderCompatible:!!(w!=null&&w.isLegacy)}),k=typeof S.lg>"u"?!1:!S.lg,A=e??P??Qt,D=T(($,V)=>$.map(z=>{let{icon:U,label:W,route:Q,key:_,name:Y,children:Z,parentName:ne,meta:pe,options:te}=z;if(Z.length>0)return ee.default.createElement(ye.CanAccess,{key:z.key,resource:Y.toLowerCase(),action:"list",params:{resource:z}},ee.default.createElement(bf,{key:z.key,icon:U??ee.default.createElement(xt.UnorderedListOutlined,null),title:W},D(Z,V)));let ie=_===V,be=!((0,ye.pickNotDeprecated)(pe==null?void 0:pe.parent,te==null?void 0:te.parent,ne)!==void 0&&Z.length===0),re=a&&ie?{pointerEvents:"none"}:{};return ee.default.createElement(ye.CanAccess,{key:z.key,resource:Y.toLowerCase(),action:"list",params:{resource:z}},ee.default.createElement(qe.Menu.Item,{key:z.key,icon:U??(be&&ee.default.createElement(xt.UnorderedListOutlined,null)),style:re},ee.default.createElement(y,{to:Q??"",style:re},W),!n&&ie&&ee.default.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),B=T(()=>{u?window.confirm(f("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(h(!1),L()):L()},"handleLogout"),F=l&&ee.default.createElement(qe.Menu.Item,{key:"logout",onClick:()=>B(),icon:ee.default.createElement(xt.LogoutOutlined,null)},f("buttons.logout","Logout")),O=C?ee.default.createElement(qe.Menu.Item,{key:"dashboard",icon:ee.default.createElement(xt.DashboardOutlined,null)},ee.default.createElement(y,{to:"/"},f("dashboard.title","Dashboard")),!n&&v==="/"&&ee.default.createElement("div",{className:"ant-menu-tree-arrow"})):null,q=D(E,v),R=T(()=>t?t({dashboard:O,items:q,logout:F,collapsed:n}):ee.default.createElement(ee.default.Fragment,null,O,q,F),"renderSider"),H=T(()=>ee.default.createElement(qe.Menu,{selectedKeys:v?[v]:[],defaultOpenKeys:M,mode:"inline",style:{paddingTop:"8px",border:"none",overflow:"auto",height:"calc(100% - 72px)"},onClick:()=>{m(!1)}},R()),"renderMenu"),K=T(()=>ee.default.createElement(ee.default.Fragment,null,ee.default.createElement(qe.Drawer,{open:c,onClose:()=>m(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},ee.default.createElement(qe.Layout,null,ee.default.createElement(qe.Layout.Sider,{style:{height:"100vh",backgroundColor:i.colorBgContainer,borderRight:`1px solid ${i.colorBgElevated}`}},ee.default.createElement("div",{style:{width:"200px",padding:"0 16px",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"64px",backgroundColor:i.colorBgElevated}},ee.default.createElement(A,{collapsed:!1})),H()))),ee.default.createElement(qe.Button,{style:ou,size:"large",onClick:()=>m(!0),icon:ee.default.createElement(xt.BarsOutlined,null)})),"renderDrawerSider");if(k)return K();let I={backgroundColor:i.colorBgContainer,borderRight:`1px solid ${i.colorBgElevated}`};return o&&(I.position="fixed",I.top=0,I.height="100vh",I.zIndex=999),ee.default.createElement(ee.default.Fragment,null,o&&ee.default.createElement("div",{style:{width:n?"80px":"200px",transition:"all 0.2s"}}),ee.default.createElement(qe.Layout.Sider,{style:I,collapsible:!0,collapsed:n,onCollapse:($,V)=>{V==="clickTrigger"&&s($)},collapsedWidth:80,breakpoint:"lg",trigger:ee.default.createElement(qe.Button,{type:"text",style:{borderRadius:0,height:"100%",width:"100%",backgroundColor:i.colorBgElevated}},n?ee.default.createElement(xt.RightOutlined,{style:{color:i.colorPrimary}}):ee.default.createElement(xt.LeftOutlined,{style:{color:i.colorPrimary}}))},ee.default.createElement("div",{style:{width:n?"80px":"200px",padding:n?"0":"0 16px",display:"flex",justifyContent:n?"center":"flex-start",alignItems:"center",height:"64px",backgroundColor:i.colorBgElevated,fontSize:"14px"}},ee.default.createElement(A,{collapsed:n})),H()))},"ThemedSiderV2");var co=N(p("react")),Kt=p("antd"),po=N(X());var{Text:Cf}=Kt.Typography,{useToken:xf}=Kt.theme,ti=T(({isSticky:e,sticky:t})=>{let{token:r}=xf(),o=(0,po.useActiveAuthProvider)(),{data:a}=(0,po.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy)});if(!(a&&(a.name||a.avatar)))return null;let n={backgroundColor:r.colorBgElevated,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"};return(0,po.pickNotDeprecated)(t,e)&&(n.position="sticky",n.top=0,n.zIndex=1),co.default.createElement(Kt.Layout.Header,{style:n},co.default.createElement(Kt.Space,null,co.default.createElement(Kt.Space,{size:"middle"},(a==null?void 0:a.name)&&co.default.createElement(Cf,{strong:!0},a.name),(a==null?void 0:a.avatar)&&co.default.createElement(Kt.Avatar,{src:a==null?void 0:a.avatar,alt:a==null?void 0:a.name}))))},"ThemedHeaderV2");var Ef=T(({children:e,Header:t,Sider:r,Title:o,Footer:a,OffLayoutArea:i,initialSiderCollapsed:n})=>{let s=mo.Grid.useBreakpoint(),c=r??ei,m=t??ti,l=typeof s.sm>"u"?!0:s.sm,b=!!c({Title:o});return Gt.default.createElement(Wn,{initialSiderCollapsed:n},Gt.default.createElement(mo.Layout,{style:{minHeight:"100vh"},hasSider:b},Gt.default.createElement(c,{Title:o}),Gt.default.createElement(mo.Layout,null,Gt.default.createElement(m,null),Gt.default.createElement(mo.Layout.Content,null,Gt.default.createElement("div",{style:{minHeight:360,padding:l?24:12}},e),i&&Gt.default.createElement(i,null)),a&&Gt.default.createElement(a,null))))},"ThemedLayoutV2");var Pr=N(p("react")),fo=N(X()),go=p("antd");var{useToken:Lf}=go.theme,Sf="refine Project",Ff=Pr.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",},Pr.default.createElement("path",{d:"M12 9C13.6569 9 15 7.65685 15 6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6C9 7.65685 10.3431 9 12 9Z",fill:"currentColor"}),Pr.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6V18C16 20.2091 14.2091 22 12 22C9.79086 22 8 20.2091 8 18V6Z",fill:"currentColor"})),Qt=T(({collapsed:e,icon:t=Ff,text:r=Sf,wrapperStyles:o})=>{let{token:a}=Lf(),i=(0,fo.useRouterType)(),n=(0,fo.useLink)(),{Link:s}=(0,fo.useRouterContext)();return Pr.default.createElement(i==="legacy"?s:n,{to:"/",style:{display:"inline-block",textDecoration:"none"}},Pr.default.createElement(go.Space,{style:{display:"flex",alignItems:"center",fontSize:"inherit",...o}},Pr.default.createElement("div",{style:{height:"24px",width:"24px",color:a.colorPrimary}},t),!e&&Pr.default.createElement(go.Typography.Title,{style:{fontSize:"inherit",marginBottom:0,fontWeight:700}},r)))},"ThemedTitleV2");var yo=N(p("react")),iu=p("antd"),su=p("@ant-design/icons"),Je=N(X()),ka=N(Bt());var oi=T(({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:o,meta:a,children:i,onClick:n,...s})=>{let c=(0,yo.useContext)(Je.AccessControlContext),m=(o==null?void 0:o.enabled)??c.options.buttons.enableAccessControl,l=(o==null?void 0:o.hideIfUnauthorized)??c.options.buttons.hideIfUnauthorized,b=(0,Je.useTranslate)(),x=(0,Je.useRouterType)(),u=(0,Je.useLink)(),{Link:h}=(0,Je.useRouterContext)(),g=x==="legacy"?h:u,{createUrl:y}=(0,Je.useNavigation)(),{resource:P}=(0,Je.useResource)(e??t),{data:f}=(0,Je.useCan)({resource:P==null?void 0:P.name,action:"create",queryOptions:{enabled:m},params:{resource:P}}),E=T(()=>f!=null&&f.can?"":f!=null&&f.reason?f.reason:b("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),v=P?y(P,a):"";return m&&l&&!(f!=null&&f.can)?null:yo.default.createElement(g,{to:v,replace:!1,onClick:M=>{if((f==null?void 0:f.can)===!1){M.preventDefault();return}n&&(M.preventDefault(),n(M))}},yo.default.createElement(iu.Button,{icon:yo.default.createElement(su.PlusSquareOutlined,null),disabled:(f==null?void 0:f.can)===!1,title:E(),className:ka.RefineButtonClassNames.CreateButton,type:"primary",...s},!r&&(i??b("buttons.create","Create"))))},"CreateButton");var vo=N(p("react")),lu=p("antd"),uu=p("@ant-design/icons"),et=N(X()),Da=N(Bt());var ai=T(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,meta:i,children:n,onClick:s,...c})=>{let m=(0,vo.useContext)(et.AccessControlContext),l=(a==null?void 0:a.enabled)??m.options.buttons.enableAccessControl,b=(a==null?void 0:a.hideIfUnauthorized)??m.options.buttons.hideIfUnauthorized,x=(0,et.useTranslate)(),u=(0,et.useRouterType)(),h=(0,et.useLink)(),{Link:g}=(0,et.useRouterContext)(),y=u==="legacy"?g:h,{editUrl:P}=(0,et.useNavigation)(),{id:f,resource:E}=(0,et.useResource)(e??t),{data:v}=(0,et.useCan)({resource:E==null?void 0:E.name,action:"edit",params:{id:r??f,resource:E},queryOptions:{enabled:l}}),M=T(()=>v!=null&&v.can?"":v!=null&&v.reason?v.reason:x("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),S=E&&(r??f)?P(E,r??f,i):"";return l&&b&&!(v!=null&&v.can)?null:vo.default.createElement(y,{to:S,replace:!1,onClick:C=>{if((v==null?void 0:v.can)===!1){C.preventDefault();return}s&&(C.preventDefault(),s(C))}},vo.default.createElement(lu.Button,{icon:vo.default.createElement(uu.EditOutlined,null),disabled:(v==null?void 0:v.can)===!1,title:M(),className:Da.RefineButtonClassNames.EditButton,...c},!o&&(n??x("buttons.edit","Edit"))))},"EditButton");var ho=N(p("react")),Ba=p("antd"),du=p("@ant-design/icons"),Xe=N(X()),Ra=N(Bt());var jo=T(({resource:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:o,mutationMode:a,children:i,successNotification:n,errorNotification:s,hideText:c=!1,accessControl:m,metaData:l,meta:b,dataProviderName:x,confirmTitle:u,confirmOkText:h,confirmCancelText:g,invalidates:y,...P})=>{let f=(0,ho.useContext)(Xe.AccessControlContext),E=(m==null?void 0:m.enabled)??f.options.buttons.enableAccessControl,v=(m==null?void 0:m.hideIfUnauthorized)??f.options.buttons.hideIfUnauthorized,M=(0,Xe.useTranslate)(),{id:S,resource:C,identifier:w}=(0,Xe.useResource)(e??t),{mutationMode:L}=(0,Xe.useMutationMode)(),k=a??L,{mutate:A,isLoading:D,variables:B}=(0,Xe.useDelete)(),{data:F}=(0,Xe.useCan)({resource:C==null?void 0:C.name,action:"delete",params:{id:r??S,resource:C},queryOptions:{enabled:E}}),O=T(()=>F!=null&&F.can?"":F!=null&&F.reason?F.reason:M("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),{setWarnWhen:q}=(0,Xe.useWarnAboutChange)();return E&&v&&!(F!=null&&F.can)?null:ho.default.createElement(Ba.Popconfirm,{key:"delete",okText:h??M("buttons.delete","Delete"),cancelText:g??M("buttons.cancel","Cancel"),okType:"danger",title:u??M("buttons.confirm","Are you sure?"),okButtonProps:{disabled:D},onConfirm:()=>{(r??S)&&w&&(q(!1),A({id:r??S??"",resource:w,mutationMode:k,successNotification:n,errorNotification:s,meta:(0,Xe.pickNotDeprecated)(b,l),metaData:(0,Xe.pickNotDeprecated)(b,l),dataProviderName:x,invalidates:y},{onSuccess:R=>{o&&o(R)}}))},disabled:typeof(P==null?void 0:P.disabled)<"u"?P.disabled:(F==null?void 0:F.can)===!1},ho.default.createElement(Ba.Button,{danger:!0,loading:(r??S)===(B==null?void 0:B.id)&&D,icon:ho.default.createElement(du.DeleteOutlined,null),title:O(),disabled:(F==null?void 0:F.can)===!1,className:Ra.RefineButtonClassNames.DeleteButton,...P},!c&&(i??M("buttons.delete","Delete"))))},"DeleteButton");var ni=N(p("react")),cu=p("antd"),pu=p("@ant-design/icons"),_t=N(X()),Ma=N(Bt()),mu=p("@tanstack/react-query");var Go=T(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,dataProviderName:a,children:i,onClick:n,meta:s,metaData:c,...m})=>{let l=(0,_t.useTranslate)(),b=(0,mu.useQueryClient)(),x=(0,_t.useInvalidate)(),{resources:u,identifier:h,id:g}=(0,_t.useResource)(e??t),y=!!b.isFetching({queryKey:(0,_t.queryKeys)(h,(0,_t.pickDataProvider)(h,a,u)).detail(r??g)}),P=T(()=>{x({id:r??g,invalidates:["detail"],dataProviderName:a,resource:h})},"handleInvalidate");return ni.default.createElement(cu.Button,{onClick:f=>{n?n(f):P()},icon:ni.default.createElement(pu.RedoOutlined,{spin:y}),className:Ma.RefineButtonClassNames.RefreshButton,...m},!o&&(i??l("buttons.refresh","Refresh")))},"RefreshButton");var To=N(p("react")),fu=p("antd"),gu=p("@ant-design/icons"),tt=N(X()),Aa=N(Bt());var If=T(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,meta:i,children:n,onClick:s,...c})=>{let m=(0,To.useContext)(tt.AccessControlContext),l=(a==null?void 0:a.enabled)??m.options.buttons.enableAccessControl,b=(a==null?void 0:a.hideIfUnauthorized)??m.options.buttons.hideIfUnauthorized,{showUrl:x}=(0,tt.useNavigation)(),u=(0,tt.useRouterType)(),h=(0,tt.useLink)(),{Link:g}=(0,tt.useRouterContext)(),y=u==="legacy"?g:h,P=(0,tt.useTranslate)(),{id:f,resource:E}=(0,tt.useResource)(e??t),{data:v}=(0,tt.useCan)({resource:E==null?void 0:E.name,action:"show",params:{id:r??f,resource:E},queryOptions:{enabled:l}}),M=T(()=>v!=null&&v.can?"":v!=null&&v.reason?v.reason:P("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),S=E&&(r||f)?x(E,r??f,i):"";return l&&b&&!(v!=null&&v.can)?null:To.default.createElement(y,{to:S,replace:!1,onClick:C=>{if((v==null?void 0:v.can)===!1){C.preventDefault();return}s&&(C.preventDefault(),s(C))}},To.default.createElement(fu.Button,{icon:To.default.createElement(gu.EyeOutlined,null),disabled:(v==null?void 0:v.can)===!1,title:M(),className:Aa.RefineButtonClassNames.ShowButton,...c},!o&&(n??P("buttons.show","Show"))))},"ShowButton");var bo=N(p("react")),yu=p("antd"),vu=p("@ant-design/icons"),Re=N(X()),Na=N(Bt());var _o=T(({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:o,meta:a,children:i,onClick:n,...s})=>{var C;let c=(0,bo.useContext)(Re.AccessControlContext),m=(o==null?void 0:o.enabled)??c.options.buttons.enableAccessControl,l=(o==null?void 0:o.hideIfUnauthorized)??c.options.buttons.hideIfUnauthorized,{listUrl:b}=(0,Re.useNavigation)(),x=(0,Re.useRouterType)(),u=(0,Re.useLink)(),{Link:h}=(0,Re.useRouterContext)(),g=(0,Re.useUserFriendlyName)(),y=x==="legacy"?h:u,P=(0,Re.useTranslate)(),{resource:f,identifier:E}=(0,Re.useResource)(e??t),{data:v}=(0,Re.useCan)({resource:f==null?void 0:f.name,action:"list",queryOptions:{enabled:m},params:{resource:f}}),M=T(()=>v!=null&&v.can?"":v!=null&&v.reason?v.reason:P("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),S=f?b(f,a):"";return m&&l&&!(v!=null&&v.can)?null:bo.default.createElement(y,{to:S,replace:!1,onClick:w=>{if((v==null?void 0:v.can)===!1){w.preventDefault();return}n&&(w.preventDefault(),n(w))}},bo.default.createElement(yu.Button,{icon:bo.default.createElement(vu.BarsOutlined,null),disabled:(v==null?void 0:v.can)===!1,title:M(),className:Na.RefineButtonClassNames.ListButton,...s},!r&&(i??P(`${E??e??t}.titles.list`,g(((C=f==null?void 0:f.meta)==null?void 0:C.label)??(f==null?void 0:f.label)??E??(0,Re.pickNotDeprecated)(e,t),"plural")))))},"ListButton");var ii=N(p("react")),hu=p("antd"),Tu=p("@ant-design/icons"),bu=N(X()),Oa=N(Bt());var qf=T(({hideText:e=!1,children:t,...r})=>{let o=(0,bu.useTranslate)();return ii.default.createElement(hu.Button,{type:"default",icon:ii.default.createElement(Tu.ExportOutlined,null),className:Oa.RefineButtonClassNames.ExportButton,...r},!e&&(t??o("buttons.export","Export")))},"ExportButton");var si=N(p("react")),Pu=p("antd"),Cu=p("@ant-design/icons"),xu=N(X()),Ia=N(Bt());var Xo=T(({hideText:e=!1,children:t,...r})=>{let o=(0,xu.useTranslate)();return si.default.createElement(Pu.Button,{type:"primary",icon:si.default.createElement(Cu.SaveOutlined,null),className:Ia.RefineButtonClassNames.SaveButton,...r},!e&&(t??o("buttons.save","Save")))},"SaveButton");var Po=N(p("react")),Eu=p("antd"),Lu=p("@ant-design/icons"),rt=N(X()),qa=N(Bt());var Uf=T(({resourceNameOrRouteName:e,resource:t,recordItemId:r,hideText:o=!1,accessControl:a,meta:i,children:n,onClick:s,...c})=>{let m=(0,Po.useContext)(rt.AccessControlContext),l=(a==null?void 0:a.enabled)??m.options.buttons.enableAccessControl,b=(a==null?void 0:a.hideIfUnauthorized)??m.options.buttons.hideIfUnauthorized,{cloneUrl:x}=(0,rt.useNavigation)(),u=(0,rt.useRouterType)(),h=(0,rt.useLink)(),{Link:g}=(0,rt.useRouterContext)(),y=u==="legacy"?g:h,P=(0,rt.useTranslate)(),{id:f,resource:E}=(0,rt.useResource)(t??e),{data:v}=(0,rt.useCan)({resource:E==null?void 0:E.name,action:"create",params:{id:r??f,resource:E},queryOptions:{enabled:l}}),M=T(()=>v!=null&&v.can?"":v!=null&&v.reason?v.reason:P("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),S=E&&(r||f)?x(E,r??f,i):"";return l&&b&&!(v!=null&&v.can)?null:Po.default.createElement(y,{to:S,replace:!1,onClick:C=>{if((v==null?void 0:v.can)===!1){C.preventDefault();return}s&&(C.preventDefault(),s(C))}},Po.default.createElement(Eu.Button,{icon:Po.default.createElement(Lu.PlusSquareOutlined,null),disabled:(v==null?void 0:v.can)===!1,title:M(),className:qa.RefineButtonClassNames.CloneButton,...c},!o&&(n??P("buttons.clone","Clone"))))},"CloneButton");var Ua=N(p("react")),Va=p("antd"),Su=p("@ant-design/icons"),Fu=N(X()),Ha=N(Bt());var Vf=T(({uploadProps:e,buttonProps:t,hideText:r=!1,children:o})=>{let a=(0,Fu.useTranslate)();return Ua.default.createElement(Va.Upload,{...e},Ua.default.createElement(Va.Button,{icon:Ua.default.createElement(Su.ImportOutlined,null),className:Ha.RefineButtonClassNames.ImportButton,...t},!r&&(o??a("buttons.import","Import"))))},"ImportButton");var dr=N(p("react")),wu=p("antd"),Xt=N(X());var Hf=T(({canCreate:e,title:t,children:r,createButtonProps:o,resource:a,wrapperProps:i,contentProps:n,headerProps:s,breadcrumb:c,headerButtonProps:m,headerButtons:l})=>{var M,S;let b=(0,Xt.useTranslate)(),{options:{breadcrumb:x}={}}=(0,Xt.useRefineContext)(),u=(0,Xt.useRouterType)(),h=(0,Xt.useUserFriendlyName)(),{resource:g,identifier:y}=(0,Xt.useResource)(a),P=e??(((g==null?void 0:g.canCreate)??!!(g!=null&&g.create))||o),f=typeof c>"u"?x:c,E=P?{size:"middle",resource:u==="legacy"?g==null?void 0:g.route:y,...o}:void 0,v=P?dr.default.createElement(oi,{...E}):null;return dr.default.createElement("div",{...i??{}},dr.default.createElement(xr,{ghost:!1,title:t??b(`${y}.titles.list`,h(((M=g==null?void 0:g.meta)==null?void 0:M.label)??((S=g==null?void 0:g.options)==null?void 0:S.label)??(g==null?void 0:g.label)??y,"plural")),extra:l?dr.default.createElement(wu.Space,{wrap:!0,...m},typeof l=="function"?l({defaultButtons:v,createButtonProps:E}):l):v,breadcrumb:typeof f<"u"?dr.default.createElement(dr.default.Fragment,null,f)??void 0:dr.default.createElement(Cr,null),...s??{}},dr.default.createElement("div",{...n??{}},r)))},"List");var Et=N(p("react")),Vr=p("antd"),mt=N(X());var $f=T(({title:e,saveButtonProps:t,children:r,resource:o,isLoading:a=!1,breadcrumb:i,wrapperProps:n,headerProps:s,contentProps:c,headerButtonProps:m,headerButtons:l,footerButtonProps:b,footerButtons:x,goBack:u})=>{var k,A;let h=(0,mt.useTranslate)(),{options:{breadcrumb:g}={}}=(0,mt.useRefineContext)(),y=(0,mt.useRouterType)(),P=(0,mt.useBack)(),{goBack:f}=(0,mt.useNavigation)(),E=(0,mt.useUserFriendlyName)(),{resource:v,action:M,identifier:S}=(0,mt.useResource)(o),C=typeof i>"u"?g:i,w={...a?{disabled:!0}:{},...t,htmlType:"submit"},L=Et.default.createElement(Et.default.Fragment,null,Et.default.createElement(Xo,{...w}));return Et.default.createElement("div",{...n??{}},Et.default.createElement(xr,{ghost:!1,backIcon:u,onBack:M!=="list"||typeof M<"u"?y==="legacy"?f:P:void 0,title:e??h(`${S}.titles.create`,`Create ${E(((k=v==null?void 0:v.meta)==null?void 0:k.label)??((A=v==null?void 0:v.options)==null?void 0:A.label)??(v==null?void 0:v.label)??S,"singular")}`),breadcrumb:typeof C<"u"?Et.default.createElement(Et.default.Fragment,null,C)??void 0:Et.default.createElement(Cr,null),extra:Et.default.createElement(Vr.Space,{wrap:!0,...m??{}},l?typeof l=="function"?l({defaultButtons:null}):l:null),...s??{}},Et.default.createElement(Vr.Spin,{spinning:a},Et.default.createElement(Vr.Card,{bordered:!1,actions:[Et.default.createElement(Vr.Space,{key:"action-buttons",style:{float:"right",marginRight:24},...b??{}},x?typeof x=="function"?x({defaultButtons:L,saveButtonProps:w}):x:L)],...c??{}},r))))},"Create");var Ue=N(p("react")),Hr=p("antd"),Me=N(X());var Qf=T(({title:e,saveButtonProps:t,mutationMode:r,recordItemId:o,children:a,deleteButtonProps:i,canDelete:n,resource:s,isLoading:c=!1,dataProviderName:m,breadcrumb:l,wrapperProps:b,headerProps:x,contentProps:u,headerButtonProps:h,headerButtons:g,footerButtonProps:y,footerButtons:P,goBack:f,autoSaveProps:E})=>{var Z,ne,pe;let v=(0,Me.useTranslate)(),{options:{breadcrumb:M}={}}=(0,Me.useRefineContext)(),{mutationMode:S}=(0,Me.useMutationMode)(),C=r??S,w=(0,Me.useRouterType)(),L=(0,Me.useBack)(),k=(0,Me.useGo)(),{goBack:A,list:D}=(0,Me.useNavigation)(),B=(0,Me.useUserFriendlyName)(),{resource:F,action:O,id:q,identifier:R}=(0,Me.useResource)(s),H=(0,Me.useToPath)({resource:F,action:"list"}),K=o??q,I=typeof l>"u"?M:l,$=(F==null?void 0:F.list)&&!o,V=n??((((Z=F==null?void 0:F.meta)==null?void 0:Z.canDelete)??(F==null?void 0:F.canDelete))||i),z=$?{...c?{disabled:!0}:{},resource:w==="legacy"?F==null?void 0:F.route:R}:void 0,U={...c?{disabled:!0}:{},resource:w==="legacy"?F==null?void 0:F.route:R,recordItemId:K,dataProviderName:m},W=V?{...c?{disabled:!0}:{},resource:w==="legacy"?F==null?void 0:F.route:R,mutationMode:C,onSuccess:()=>{w==="legacy"?D((F==null?void 0:F.route)??(F==null?void 0:F.name)??""):k({to:H})},recordItemId:K,dataProviderName:m,...i}:void 0,Q={...c?{disabled:!0}:{},...t},_=Ue.default.createElement(Ue.default.Fragment,null,E&&Ue.default.createElement(ku,{...E}),$&&Ue.default.createElement(_o,{...z}),Ue.default.createElement(Go,{...U})),Y=Ue.default.createElement(Ue.default.Fragment,null,V&&Ue.default.createElement(jo,{...W}),Ue.default.createElement(Xo,{...Q}));return Ue.default.createElement("div",{...b??{}},Ue.default.createElement(xr,{ghost:!1,backIcon:f,onBack:O!=="list"&&typeof O<"u"?w==="legacy"?A:L:void 0,title:e??v(`${R}.titles.edit`,`Edit ${B(((ne=F==null?void 0:F.meta)==null?void 0:ne.label)??((pe=F==null?void 0:F.options)==null?void 0:pe.label)??(F==null?void 0:F.label)??R,"singular")}`),extra:Ue.default.createElement(Hr.Space,{wrap:!0,...h??{}},g?typeof g=="function"?g({defaultButtons:_,listButtonProps:z,refreshButtonProps:U}):g:_),breadcrumb:typeof I<"u"?Ue.default.createElement(Ue.default.Fragment,null,I)??void 0:Ue.default.createElement(Cr,null),...x??{}},Ue.default.createElement(Hr.Spin,{spinning:c},Ue.default.createElement(Hr.Card,{bordered:!1,actions:[Ue.default.createElement(Hr.Space,{key:"footer-buttons",wrap:!0,style:{float:"right",marginRight:24},...y??{}},P?typeof P=="function"?P({defaultButtons:Y,deleteButtonProps:W,saveButtonProps:Q}):P:Y)],...u??{}},a))))},"Edit");var ot=N(p("react")),$r=p("antd"),We=N(X());var Kf=T(({title:e,canEdit:t,canDelete:r,isLoading:o=!1,children:a,resource:i,recordItemId:n,dataProviderName:s,breadcrumb:c,contentProps:m,headerProps:l,wrapperProps:b,headerButtons:x,footerButtons:u,footerButtonProps:h,headerButtonProps:g,goBack:y})=>{var U,W,Q;let P=(0,We.useTranslate)(),{options:{breadcrumb:f}={}}=(0,We.useRefineContext)(),E=(0,We.useRouterType)(),v=(0,We.useBack)(),M=(0,We.useGo)(),{goBack:S,list:C}=(0,We.useNavigation)(),w=(0,We.useUserFriendlyName)(),{resource:L,action:k,id:A,identifier:D}=(0,We.useResource)(i),B=(0,We.useToPath)({resource:L,action:"list"}),F=n??A,O=typeof c>"u"?f:c,q=(L==null?void 0:L.list)&&!n,R=r??((U=L==null?void 0:L.meta)==null?void 0:U.canDelete)??(L==null?void 0:L.canDelete),H=t??(L==null?void 0:L.canEdit)??!!(L!=null&&L.edit),K=q?{resource:E==="legacy"?L==null?void 0:L.route:D}:void 0,I=H?{...o?{disabled:!0}:{},type:"primary",resource:E==="legacy"?L==null?void 0:L.route:D,recordItemId:F}:void 0,$=R?{...o?{disabled:!0}:{},resource:E==="legacy"?L==null?void 0:L.route:D,recordItemId:F,onSuccess:()=>{E==="legacy"?C((L==null?void 0:L.route)??(L==null?void 0:L.name)??""):M({to:B})},dataProviderName:s}:void 0,V={...o?{disabled:!0}:{},resource:E==="legacy"?L==null?void 0:L.route:D,recordItemId:F,dataProviderName:s},z=ot.default.createElement(ot.default.Fragment,null,q&&ot.default.createElement(_o,{...K}),H&&ot.default.createElement(ai,{...I}),R&&ot.default.createElement(jo,{...$}),ot.default.createElement(Go,{...V}));return ot.default.createElement("div",{...b??{}},ot.default.createElement(xr,{ghost:!1,backIcon:y,onBack:k!=="list"&&typeof k<"u"?E==="legacy"?S:v:void 0,title:e??P(`${D}.titles.show`,`Show ${w(((W=L==null?void 0:L.meta)==null?void 0:W.label)??((Q=L==null?void 0:L.options)==null?void 0:Q.label)??(L==null?void 0:L.label)??D,"singular")}`),extra:ot.default.createElement($r.Space,{key:"extra-buttons",wrap:!0,...g??{}},x?typeof x=="function"?x({defaultButtons:z,deleteButtonProps:$,editButtonProps:I,listButtonProps:K,refreshButtonProps:V}):x:z),breadcrumb:typeof O<"u"?ot.default.createElement(ot.default.Fragment,null,O)??void 0:ot.default.createElement(Cr,null),...l??{}},ot.default.createElement($r.Spin,{spinning:o},ot.default.createElement($r.Card,{bordered:!1,actions:u?[ot.default.createElement($r.Space,{key:"footer-buttons",wrap:!0,...h},typeof u=="function"?u({defaultButtons:null}):u)]:void 0,...m??{}},a))))},"Show");var Du=N(p("react")),Bu=p("antd");var{Text:zf}=Bu.Typography,Wf=T(({value:e,...t})=>Du.default.createElement(zf,{...t},e),"TextField");var Ru=N(p("react")),Mu=p("antd");var jf=T(({value:e,...t})=>Ru.default.createElement(Mu.Tag,{...t},e==null?void 0:e.toString()),"TagField");var Au=N(p("react")),Nu=p("antd");var{Link:Gf}=Nu.Typography,_f=T(({value:e,...t})=>Au.default.createElement(Gf,{href:`mailto:${e}`,...t},e),"EmailField");var Ou=N(p("react")),Iu=p("antd");var Xf=T(({value:e,imageTitle:t,...r})=>Ou.default.createElement(Iu.Image,{...r,src:e,title:t}),"ImageField");var Co=N(p("react")),qu=p("antd"),$a=p("@ant-design/icons");var Yf=T(({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:o=Co.default.createElement($a.CheckOutlined,null),falseIcon:a=Co.default.createElement($a.CloseOutlined,null),...i})=>Co.default.createElement(qu.Tooltip,{title:e?t:r,...i},e?Co.default.createElement("span",null,o):Co.default.createElement("span",null,a)),"BooleanField");var Uu=N(p("react")),Qa=N(p("dayjs")),Vu=p("antd"),Hu=N(p("dayjs/plugin/localizedFormat"));var Zf=T(({value:e,locales:t,format:r="L",...o})=>{Qa.default.extend(Hu.default);let a=Qa.default.locale(),{Text:i}=Vu.Typography;return Uu.default.createElement(i,{...o},(0,Qa.default)(e).locale(t||a).format(r))},"DateField");var $u=N(p("react"));var Jf=T(({title:e,src:t,...r})=>$u.default.createElement(li,{value:t,title:e,...r},e??t),"FileField");var Qu=N(p("react")),Ku=p("antd");var{Link:eg}=Ku.Typography,li=T(({children:e,value:t,...r})=>Qu.default.createElement(eg,{href:t,...r},e??t),"UrlField");var zu=N(p("react")),Wu=p("antd");var{Text:tg}=Wu.Typography;function rg(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}T(rg,"toLocaleStringSupportsOptions");var og=T(({value:e,locale:t,options:r,...o})=>{let a=Number(e);return zu.default.createElement(tg,{...o},rg()?a.toLocaleString(t,r):a)},"NumberField");var ju=N(p("react")),Gu=N(p("react-markdown")),_u=N(p("remark-gfm"));var ag=T(({value:e=""})=>ju.default.createElement(Gu.default,{remarkPlugins:[_u.default]},e),"MarkdownField");var Rt=N(p("react")),Yo=p("antd"),ui=N(p("dayjs")),Xu=p("@ant-design/icons"),Yu=N(X());var ng=T(e=>{let{setSelectedKeys:t,confirm:r,clearFilters:o,mapValue:a,selectedKeys:i,children:n}=e,[s,c]=(0,Rt.useState)(i),m=(0,Yu.useTranslate)(),l=T(()=>{o&&(c([]),o())},"clearFilter"),b=T(()=>{let g=x(s),y;typeof g=="number"?y=`${g}`:ui.default.isDayjs(g)?y=[g.toISOString()]:y=g,t(y),r==null||r()},"onFilter"),x=T(g=>a?a(g):g,"mappedValue"),u=T(g=>{if(typeof g=="object"){if(Array.isArray(g)){let v=x(g);return c(v),t(v)}let P=!g||!g.target||ui.default.isDayjs(g)?{target:{value:g}}:g,{target:f}=P,E=x(f.value);c(E);return}let y=x(g);c(y)},"onChange"),h=Rt.default.Children.map(n,g=>Rt.default.isValidElement(g)?Rt.default.cloneElement(g,{onChange:u,value:x(s)}):g);return Rt.default.createElement("div",{style:{padding:10,display:"flex",flexDirection:"column",alignItems:"flex-end"}},Rt.default.createElement("div",{style:{marginBottom:15}},h),Rt.default.createElement(Yo.Space,null,Rt.default.createElement(Yo.Button,{type:"primary",size:"small",onClick:()=>b()},Rt.default.createElement(Xu.FilterOutlined,null)," ",m("buttons.filter","Filter")),Rt.default.createElement(Yo.Button,{danger:!0,size:"small",onClick:()=>l()},m("buttons.clear","Clear"))))},"FilterDropdown");var Mt=N(p("react")),xo=N(X()),zt=p("antd"),Zu=p("@ant-design/icons"),Ka=N(X());var{Text:ig}=zt.Typography,sg=T(()=>{let[e,t]=(0,Mt.useState)(),r=(0,Ka.useTranslate)(),{push:o}=(0,Ka.useNavigation)(),a=(0,xo.useGo)(),i=(0,xo.useRouterType)(),{resource:n,action:s}=(0,xo.useResource)();return(0,Mt.useEffect)(()=>{n&&s&&t(r("pages.error.info",{action:s,resource:n==null?void 0:n.name},`You may have forgotten to add the "${s}" component to "${n==null?void 0:n.name}" resource.`))},[n,s]),Mt.default.createElement(zt.Result,{status:"404",title:"404",extra:Mt.default.createElement(zt.Space,{direction:"vertical",size:"large"},Mt.default.createElement(zt.Space,null,Mt.default.createElement(ig,null,r("pages.error.404","Sorry, the page you visited does not exist.")),e&&Mt.default.createElement(zt.Tooltip,{title:e},Mt.default.createElement(Zu.InfoCircleOutlined,{}))),Mt.default.createElement(zt.Button,{type:"primary",onClick:()=>{i==="legacy"?o("/"):a({to:"/"})}},r("pages.error.backHome","Back Home")))})},"ErrorComponent");var we=N(p("react")),od=N(X()),Le=p("antd"),za=N(X());var Ju={background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"},ed={maxWidth:"408px",margin:"auto"},td={textAlign:"center",color:"#626262",fontSize:"30px",letterSpacing:"-0.04em"},rd={display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"28px"};var{Text:lg,Title:ug}=Le.Typography,dg=T(()=>{let[e]=Le.Form.useForm(),t=(0,za.useTranslate)(),r=(0,od.useActiveAuthProvider)(),{mutate:o,isLoading:a}=(0,za.useLogin)({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),i=we.default.createElement(ug,{level:3,style:td},t("pages.login.title","Sign in your account"));return we.default.createElement(Le.Layout,{style:Ju},we.default.createElement(Le.Row,{justify:"center",align:"middle",style:{height:"100vh"}},we.default.createElement(Le.Col,{xs:22},we.default.createElement("div",{style:ed},we.default.createElement("div",{style:rd},we.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),we.default.createElement(Le.Card,{title:i,headStyle:{borderBottom:0}},we.default.createElement(Le.Form,{layout:"vertical",form:e,onFinish:n=>{o(n)},requiredMark:!1,initialValues:{remember:!1}},we.default.createElement(Le.Form.Item,{name:"username",label:t("pages.login.username","Username"),rules:[{required:!0}]},we.default.createElement(Le.Input,{size:"large",placeholder:t("pages.login.username","Username")})),we.default.createElement(Le.Form.Item,{name:"password",label:t("pages.login.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},we.default.createElement(Le.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),we.default.createElement("div",{style:{marginBottom:"12px"}},we.default.createElement(Le.Form.Item,{name:"remember",valuePropName:"checked",noStyle:!0},we.default.createElement(Le.Checkbox,{style:{fontSize:"12px"}},t("pages.login.remember","Remember me"))),we.default.createElement("a",{style:{float:"right",fontSize:"12px"},href:"#"},t("pages.login.forgotPassword","Forgot password?"))),we.default.createElement(Le.Button,{type:"primary",size:"large",htmlType:"submit",loading:a,block:!0},t("pages.login.signin","Sign in"))),we.default.createElement("div",{style:{marginTop:8}},we.default.createElement(lg,{style:{fontSize:12}},t("pages.login.noAccount","Don\u2019t have an account?")," ",we.default.createElement("a",{href:"#",style:{fontWeight:"bold"}},t("pages.login.signup","Sign up")))))))))},"LoginPage");var Ve=N(p("react")),At=p("antd"),Lo=p("@ant-design/icons");var Eo={root:{height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover",backgroundColor:"#331049"},title:{color:"white",fontWeight:800,fontSize:"64px",marginBottom:"8px"},p1:{color:"white",marginBottom:0,fontSize:"20px",fontWeight:"bold"},p2:{color:"white",fontSize:"20px"},code:{backgroundColor:"white",color:"#331049"}},{Title:cg}=At.Typography,pg=T(()=>Ve.createElement(At.Row,{align:"middle",justify:"center",style:Eo.root},Ve.createElement(At.Col,{style:{textAlign:"center"}},Ve.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),Ve.createElement(cg,{style:Eo.title},"Welcome on board"),Ve.createElement("p",{style:Eo.p1},"Your configuration is completed."),Ve.createElement("p",{style:Eo.p2},"Now you can get started by adding your resources to the"," ",Ve.createElement("code",{style:Eo.code},"resources")," property of"," ",Ve.createElement("code",{style:Eo.code},"<Refine>")),Ve.createElement(At.Space,{size:"large",wrap:!0,style:{marginTop:"70px",justifyContent:"center"}},Ve.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Ve.createElement(At.Button,{size:"large",icon:Ve.createElement(Lo.ReadOutlined,null)},"Documentation")),Ve.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Ve.createElement(At.Button,{size:"large",icon:Ve.createElement(Lo.FolderOutlined,null)},"Examples")),Ve.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Ve.createElement(At.Button,{size:"large",icon:Ve.createElement(Lo.TeamOutlined,null)},"Community"))))),"ReadyPage");var ad=N(p("react")),nd=N(X());var mg=T(()=>ad.default.createElement(nd.WelcomePage,null),"WelcomePage");var Qr=N(p("react"));var ue=N(p("react")),So=N(X()),de=p("antd"),Fo=N(X());var Er={},Lr={maxWidth:"400px",margin:"auto",padding:"32px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.02), 0px 1px 6px -1px rgba(0, 0, 0, 0.02), 0px 1px 2px rgba(0, 0, 0, 0.03)"},Sr={borderBottom:0,padding:0},Fr={padding:0,marginTop:"32px"},wr={textAlign:"center",marginBottom:0,fontSize:"24px",lineHeight:"32px",fontWeight:700,overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"};var{Text:id,Title:fg}=de.Typography,{useToken:gg}=de.theme,di=T(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:a,wrapperProps:i,renderContent:n,formProps:s,title:c,hideForm:m})=>{let{token:l}=gg(),[b]=de.Form.useForm(),x=(0,Fo.useTranslate)(),u=(0,So.useRouterType)(),h=(0,So.useLink)(),{Link:g}=(0,Fo.useRouterContext)(),y=u==="legacy"?g:h,P=(0,So.useActiveAuthProvider)(),{mutate:f,isLoading:E}=(0,Fo.useLogin)({v3LegacyAuthProviderCompatible:!!(P!=null&&P.isLegacy)}),v=c===!1?null:ue.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},c??ue.default.createElement(Qt,{collapsed:!1})),M=ue.default.createElement(fg,{level:3,style:{color:l.colorPrimaryTextHover,...wr}},x("pages.login.title","Sign in to your account")),S=T(()=>e&&e.length>0?ue.default.createElement(ue.default.Fragment,null,e.map(w=>ue.default.createElement(de.Button,{key:w.name,type:"default",block:!0,icon:w.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>f({providerName:w.name})},w.label)),!m&&ue.default.createElement(de.Divider,null,ue.default.createElement(id,{style:{color:l.colorTextLabel}},x("pages.login.divider","or")))):null,"renderProviders"),C=ue.default.createElement(de.Card,{title:M,headStyle:Sr,bodyStyle:Fr,style:{...Lr,backgroundColor:l.colorBgElevated},...a??{}},S(),!m&&ue.default.createElement(de.Form,{layout:"vertical",form:b,onFinish:w=>f(w),requiredMark:!1,initialValues:{remember:!1},...s},ue.default.createElement(de.Form.Item,{name:"email",label:x("pages.login.fields.email","Email"),rules:[{required:!0},{type:"email",message:x("pages.login.errors.validEmail","Invalid email address")}]},ue.default.createElement(de.Input,{size:"large",placeholder:x("pages.login.fields.email","Email")})),ue.default.createElement(de.Form.Item,{name:"password",label:x("pages.login.fields.password","Password"),rules:[{required:!0}]},ue.default.createElement(de.Input,{type:"password",autoComplete:"current-password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),ue.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"}},o??ue.default.createElement(de.Form.Item,{name:"remember",valuePropName:"checked",noStyle:!0},ue.default.createElement(de.Checkbox,{style:{fontSize:"12px"}},x("pages.login.buttons.rememberMe","Remember me"))),r??ue.default.createElement(y,{style:{color:l.colorPrimaryTextHover,fontSize:"12px",marginLeft:"auto"},to:"/forgot-password"},x("pages.login.buttons.forgotPassword","Forgot password?"))),!m&&ue.default.createElement(de.Form.Item,null,ue.default.createElement(de.Button,{type:"primary",size:"large",htmlType:"submit",loading:E,block:!0},x("pages.login.signin","Sign in")))),t??ue.default.createElement("div",{style:{marginTop:m?16:8}},ue.default.createElement(id,{style:{fontSize:12}},x("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",ue.default.createElement(y,{to:"/register",style:{fontWeight:"bold",color:l.colorPrimaryTextHover}},x("pages.login.signup","Sign up")))));return ue.default.createElement(de.Layout,{style:Er,...i??{}},ue.default.createElement(de.Row,{justify:"center",align:m?"top":"middle",style:{padding:"16px 0",minHeight:"100dvh",paddingTop:m?"15dvh":"16px"}},ue.default.createElement(de.Col,{xs:22},n?n(C,v):ue.default.createElement(ue.default.Fragment,null,v,C))))},"LoginPage");var ce=N(p("react")),wo=N(X()),Te=p("antd"),ko=N(X());var{Text:ci,Title:yg}=Te.Typography,{useToken:vg}=Te.theme,pi=T(({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:a,formProps:i,title:n,hideForm:s})=>{let{token:c}=vg(),[m]=Te.Form.useForm(),l=(0,ko.useTranslate)(),b=(0,wo.useRouterType)(),x=(0,wo.useLink)(),{Link:u}=(0,ko.useRouterContext)(),h=b==="legacy"?u:x,g=(0,wo.useActiveAuthProvider)(),{mutate:y,isLoading:P}=(0,ko.useRegister)({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),f=n===!1?null:ce.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},n??ce.default.createElement(Qt,{collapsed:!1})),E=ce.default.createElement(yg,{level:3,style:{color:c.colorPrimaryTextHover,...wr}},l("pages.register.title","Sign up for your account")),v=T(()=>e&&e.length>0?ce.default.createElement(ce.default.Fragment,null,e.map(S=>ce.default.createElement(Te.Button,{key:S.name,type:"default",block:!0,icon:S.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>y({providerName:S.name})},S.label)),!s&&ce.default.createElement(Te.Divider,null,ce.default.createElement(ci,{style:{color:c.colorTextLabel}},l("pages.login.divider","or")))):null,"renderProviders"),M=ce.default.createElement(Te.Card,{title:E,headStyle:Sr,bodyStyle:Fr,style:{...Lr,backgroundColor:c.colorBgElevated},...o??{}},v(),!s&&ce.default.createElement(Te.Form,{layout:"vertical",form:m,onFinish:S=>y(S),requiredMark:!1,...i},ce.default.createElement(Te.Form.Item,{name:"email",label:l("pages.register.email","Email"),rules:[{required:!0},{type:"email",message:l("pages.register.errors.validEmail","Invalid email address")}]},ce.default.createElement(Te.Input,{size:"large",placeholder:l("pages.register.fields.email","Email")})),ce.default.createElement(Te.Form.Item,{name:"password",label:l("pages.register.fields.password","Password"),rules:[{required:!0}]},ce.default.createElement(Te.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),ce.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"}},t??ce.default.createElement(ci,{style:{fontSize:12,marginLeft:"auto"}},l("pages.login.buttons.haveAccount","Have an account?")," ",ce.default.createElement(h,{style:{fontWeight:"bold",color:c.colorPrimaryTextHover},to:"/login"},l("pages.login.signin","Sign in")))),ce.default.createElement(Te.Form.Item,{style:{marginBottom:0}},ce.default.createElement(Te.Button,{type:"primary",size:"large",htmlType:"submit",loading:P,block:!0},l("pages.register.buttons.submit","Sign up")))),s&&t!==!1&&ce.default.createElement("div",{style:{marginTop:s?16:8}},ce.default.createElement(ci,{style:{fontSize:12}},l("pages.login.buttons.haveAccount","Have an account?")," ",ce.default.createElement(h,{style:{fontWeight:"bold",color:c.colorPrimaryTextHover},to:"/login"},l("pages.login.signin","Sign in")))));return ce.default.createElement(Te.Layout,{style:Er,...r??{}},ce.default.createElement(Te.Row,{justify:"center",align:s?"top":"middle",style:{padding:"16px 0",minHeight:"100dvh",paddingTop:s?"15dvh":"16px"}},ce.default.createElement(Te.Col,{xs:22},a?a(M,f):ce.default.createElement(ce.default.Fragment,null,f,M))))},"RegisterPage");var je=N(p("react")),Wa=N(X()),De=p("antd"),Do=N(X());var{Text:hg,Title:Tg}=De.Typography,{useToken:bg}=De.theme,mi=T(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:a,title:i})=>{let{token:n}=bg(),[s]=De.Form.useForm(),c=(0,Do.useTranslate)(),m=(0,Wa.useRouterType)(),l=(0,Wa.useLink)(),{Link:b}=(0,Do.useRouterContext)(),x=m==="legacy"?b:l,{mutate:u,isLoading:h}=(0,Do.useForgotPassword)(),g=i===!1?null:je.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},i??je.default.createElement(Qt,{collapsed:!1})),y=je.default.createElement(Tg,{level:3,style:{color:n.colorPrimaryTextHover,...wr}},c("pages.forgotPassword.title","Forgot your password?")),P=je.default.createElement(De.Card,{title:y,headStyle:Sr,bodyStyle:Fr,style:{...Lr,backgroundColor:n.colorBgElevated},...r??{}},je.default.createElement(De.Form,{layout:"vertical",form:s,onFinish:f=>u(f),requiredMark:!1,...a},je.default.createElement(De.Form.Item,{name:"email",label:c("pages.forgotPassword.fields.email","Email"),rules:[{required:!0},{type:"email",message:c("pages.forgotPassword.errors.validEmail","Invalid email address")}]},je.default.createElement(De.Input,{type:"email",size:"large",placeholder:c("pages.forgotPassword.fields.email","Email")})),je.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},e??je.default.createElement(hg,{style:{fontSize:12,marginLeft:"auto"}},c("pages.register.buttons.haveAccount","Have an account? ")," ",je.default.createElement(x,{style:{fontWeight:"bold",color:n.colorPrimaryTextHover},to:"/login"},c("pages.login.signin","Sign in")))),je.default.createElement(De.Form.Item,{style:{marginTop:"24px",marginBottom:0}},je.default.createElement(De.Button,{type:"primary",size:"large",htmlType:"submit",loading:h,block:!0},c("pages.forgotPassword.buttons.submit","Send reset instructions")))));return je.default.createElement(De.Layout,{style:Er,...t??{}},je.default.createElement(De.Row,{justify:"center",align:"middle",style:{padding:"16px 0",minHeight:"100dvh"}},je.default.createElement(De.Col,{xs:22},o?o(P,g):je.default.createElement(je.default.Fragment,null,g,P))))},"ForgotPasswordPage");var Ye=N(p("react")),sd=N(X()),Se=p("antd"),ja=N(X());var{Title:Pg}=Se.Typography,{useToken:Cg}=Se.theme,fi=T(({wrapperProps:e,contentProps:t,renderContent:r,formProps:o,title:a})=>{let{token:i}=Cg(),[n]=Se.Form.useForm(),s=(0,ja.useTranslate)(),c=(0,sd.useActiveAuthProvider)(),{mutate:m,isLoading:l}=(0,ja.useUpdatePassword)({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),b=a===!1?null:Ye.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},a??Ye.default.createElement(Qt,{collapsed:!1})),x=Ye.default.createElement(Pg,{level:3,style:{color:i.colorPrimaryTextHover,...wr}},s("pages.updatePassword.title","Set New Password")),u=Ye.default.createElement(Se.Card,{title:x,headStyle:Sr,bodyStyle:Fr,style:{...Lr,backgroundColor:i.colorBgElevated},...t??{}},Ye.default.createElement(Se.Form,{layout:"vertical",form:n,onFinish:h=>m(h),requiredMark:!1,...o},Ye.default.createElement(Se.Form.Item,{name:"password",label:s("pages.updatePassword.fields.password","New Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},Ye.default.createElement(Se.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),Ye.default.createElement(Se.Form.Item,{name:"confirmPassword",label:s("pages.updatePassword.fields.confirmPassword","Confirm New Password"),hasFeedback:!0,dependencies:["password"],rules:[{required:!0},({getFieldValue:h})=>({validator(g,y){return!y||h("password")===y?Promise.resolve():Promise.reject(new Error(s("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match")))}})]},Ye.default.createElement(Se.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),Ye.default.createElement(Se.Form.Item,{style:{marginBottom:0}},Ye.default.createElement(Se.Button,{type:"primary",size:"large",htmlType:"submit",loading:l,block:!0},s("pages.updatePassword.buttons.submit","Update")))));return Ye.default.createElement(Se.Layout,{style:Er,...e??{}},Ye.default.createElement(Se.Row,{justify:"center",align:"middle",style:{padding:"16px 0",minHeight:"100dvh"}},Ye.default.createElement(Se.Col,{xs:22},r?r(u,b):Ye.default.createElement(Ye.default.Fragment,null,b,u))))},"UpdatePasswordPage");var xg=T(e=>{let{type:t}=e;return Qr.default.createElement(Qr.default.Fragment,null,T(()=>{switch(t){case"register":return Qr.default.createElement(pi,{...e});case"forgotPassword":return Qr.default.createElement(mi,{...e});case"updatePassword":return Qr.default.createElement(fi,{...e});default:return Qr.default.createElement(di,{...e})}},"renderView")())},"AuthPage");var Kr=N(p("react")),ft=N(X()),ld=p("antd"),ud=p("@ant-design/icons");var Cr=T(({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1,meta:o})=>{let a=(0,ft.useRouterType)(),{breadcrumbs:i}=(0,ft.useBreadcrumb)({meta:o}),n=(0,ft.useLink)(),{Link:s}=(0,ft.useRouterContext)(),{hasDashboard:c}=(0,ft.useRefineContext)(),{resources:m}=(0,ft.useResource)(),l=(0,ft.matchResourceFromRoute)("/",m),b=a==="legacy"?s:n;if(i.length===1)return null;let x=i.map(({label:h,icon:g,href:y})=>({key:`breadcrumb-item-${h}`,title:Kr.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:4}},!r&&g,y?Kr.default.createElement(b,{to:y},h):Kr.default.createElement("span",null,h))}));return Kr.default.createElement(ld.Breadcrumb,{items:T(()=>{var h,g;return t&&(c||l.found)?[{key:"breadcrumb-item-home",title:Kr.default.createElement(b,{to:"/"},((g=(h=l==null?void 0:l.resource)==null?void 0:h.meta)==null?void 0:g.icon)??Kr.default.createElement(ud.HomeOutlined,null))},...x]:x},"getBreadcrumbItems")(),...e})},"Breadcrumb");var Bo=N(p("react")),dd=p("@ant-design/pro-layout"),Zo=p("antd"),cd=p("@ant-design/icons"),gi=N(Bt());var xr=T(({children:e,...t})=>{let r=typeof t.backIcon>"u"?Bo.default.createElement(Zo.Button,{type:"text",icon:Bo.default.createElement(cd.ArrowLeftOutlined,null)}):t.backIcon,o=typeof t.title=="string"?Bo.default.createElement(Zo.Typography.Title,{className:gi.RefinePageHeaderClassNames.Title,level:4,style:{marginBottom:0}},t.title):t.title,a=typeof t.title=="string"?Bo.default.createElement(Zo.Typography.Title,{className:gi.RefinePageHeaderClassNames.SubTitle,level:5,type:"secondary",style:{marginBottom:0}},t.subTitle):t.subTitle;return Bo.default.createElement(dd.PageHeader,{...t,backIcon:r,title:o,subTitle:a,style:{padding:0,...t.style}},e)},"PageHeader");var Nt=N(p("react")),_a=N(X()),Xa=p("antd"),kr=p("@ant-design/icons");var ku=T(({status:e,elements:{success:t=Nt.default.createElement(Ga,{key:"autoSave.success",defaultMessage:"saved",icon:Nt.default.createElement(kr.CheckCircleOutlined,null)}),error:r=Nt.default.createElement(Ga,{key:"autoSave.error",defaultMessage:"auto save failure",icon:Nt.default.createElement(kr.ExclamationCircleOutlined,null)}),loading:o=Nt.default.createElement(Ga,{key:"autoSave.loading",defaultMessage:"saving...",icon:Nt.default.createElement(kr.SyncOutlined,null)}),idle:a=Nt.default.createElement(Ga,{key:"autoSave.idle",defaultMessage:"waiting for changes",icon:Nt.default.createElement(kr.EllipsisOutlined,null)})}={}})=>Nt.default.createElement(_a.AutoSaveIndicator,{status:e,elements:{success:t,error:r,loading:o,idle:a}}),"AutoSaveIndicator"),Ga=T(({key:e,defaultMessage:t,icon:r})=>{let o=(0,_a.useTranslate)(),{useToken:a}=Xa.theme,{token:i}=a();return Nt.default.createElement(Xa.Typography.Text,{style:{marginRight:5,color:i.colorTextTertiary,fontSize:".8rem"}},o(e,t),Nt.default.createElement("span",{style:{marginLeft:".2rem"}},r))},"Message");var Eg=T(e=>{let{fileList:t}=e;return[...t]},"getValueFromEvent");var NC={Blue:{token:{colorPrimary:"#1677FF"}},Purple:{token:{colorPrimary:"#722ED1"}},Magenta:{token:{colorPrimary:"#EB2F96"}},Red:{token:{colorPrimary:"#F5222D"}},Orange:{token:{colorPrimary:"#FA541C"}},Yellow:{token:{colorPrimary:"#FAAD14"}},Green:{token:{colorPrimary:"#52C41A"}}};})();
//# sourceMappingURL=index.js.map
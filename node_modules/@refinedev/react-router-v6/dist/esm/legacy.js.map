{"version":3,"sources":["../../src/legacy/index.ts","../../src/legacy/routerComponent.tsx","../../src/legacy/routeProvider.tsx","../../src/use-prompt-workaround.ts","../../src/legacy/prompt.tsx"],"sourcesContent":["import React from \"react\";\nimport { handleUseParams, IRouterProvider } from \"@refinedev/core\";\nimport {\n    useLocation,\n    useParams,\n    Link,\n    RouteProps,\n    BrowserRouterProps,\n    useNavigate,\n} from \"react-router-dom\";\n\nimport {\n    BrowserRouterComponent,\n    MemoryRouterComponent,\n    HashRouterComponent,\n} from \"./routerComponent\";\nimport { Prompt } from \"./prompt\";\n\nexport type RefineRouteProps = RouteProps & {\n    layout?: boolean;\n};\ninterface IReactRouterProvider extends IRouterProvider {\n    useLocation: typeof useLocation;\n    Link: typeof Link;\n    useParams: <\n        Params extends { [K in keyof Params]?: string } = {},\n    >() => Params;\n    RouterComponent: React.FC<BrowserRouterProps>;\n    routes?: RefineRouteProps[];\n}\n\nconst RouterProvider: IReactRouterProvider = {\n    useHistory: () => {\n        const navigate = useNavigate();\n\n        return {\n            push: navigate,\n            replace: (path: string) => {\n                navigate(path, { replace: true });\n            },\n            goBack: () => {\n                navigate(-1);\n            },\n        };\n    },\n    useLocation,\n    useParams: () => {\n        const params = useParams();\n        const { pathname } = useLocation();\n\n        const paramsString = `/${Object.values(params).join(\"/\")}`;\n        return handleUseParams({\n            ...params,\n            resource:\n                Object.keys(params).length === 0\n                    ? pathname.substring(1)\n                    : decodeURIComponent(pathname.substring(1)).replace(\n                          paramsString,\n                          \"\",\n                      ),\n        });\n    },\n    Prompt: Prompt as any,\n    Link,\n    RouterComponent: BrowserRouterComponent,\n};\n\n// External dependencies are no longer exported\n// export * from \"react-router-dom\";\n\nexport default RouterProvider;\nexport { MemoryRouterComponent, HashRouterComponent, BrowserRouterComponent };\n","import React from \"react\";\nimport {\n    BrowserRouter,\n    BrowserRouterProps,\n    MemoryRouter,\n    MemoryRouterProps,\n    HashRouter,\n    HashRouterProps,\n} from \"react-router-dom\";\n\nimport { RouteProvider } from \"./routeProvider\";\n\nexport function BrowserRouterComponent(\n    this: { initialRoute?: string },\n    { children, ...props }: BrowserRouterProps,\n): JSX.Element {\n    return (\n        <BrowserRouter {...props}>\n            <RouteProvider\n                initialRoute={\n                    typeof this !== \"undefined\" ? this.initialRoute : undefined\n                }\n            />\n            {children}\n        </BrowserRouter>\n    );\n}\n\nexport function MemoryRouterComponent(\n    this: { initialRoute?: string },\n    { children, ...props }: MemoryRouterProps,\n): JSX.Element {\n    return (\n        <MemoryRouter {...props}>\n            <RouteProvider\n                initialRoute={\n                    typeof this !== \"undefined\" ? this.initialRoute : undefined\n                }\n            />\n            {children}\n        </MemoryRouter>\n    );\n}\n\nexport function HashRouterComponent(\n    this: { initialRoute?: string },\n    { children, ...props }: HashRouterProps,\n): JSX.Element {\n    return (\n        <HashRouter {...props}>\n            <RouteProvider\n                initialRoute={\n                    typeof this !== \"undefined\" ? this.initialRoute : undefined\n                }\n            />\n            {children}\n        </HashRouter>\n    );\n}\n","/* eslint-disable react/display-name */\nimport React, { useMemo } from \"react\";\nimport { Route, Routes, Navigate, Outlet } from \"react-router-dom\";\nimport {\n    LoginPage as DefaultLoginPage,\n    ErrorComponent,\n    LayoutWrapper,\n    useResource,\n    useRefineContext,\n    useRouterContext,\n    CanAccess,\n    ResourceRouterParams,\n    useActiveAuthProvider,\n    useIsAuthenticated,\n} from \"@refinedev/core\";\nimport { RefineRouteProps } from \"./index\";\n\nconst ResourceComponent: React.FC<{ route: string }> = ({ route }) => {\n    const { catchAll } = useRefineContext();\n    const { useParams } = useRouterContext();\n    const { resources } = useResource();\n\n    const { action, id } = useParams<ResourceRouterParams>();\n\n    const resource = resources.find((res) => res.route === route);\n\n    if (resource) {\n        const {\n            list,\n            create,\n            edit,\n            show,\n            name,\n            canCreate,\n            canEdit,\n            canShow,\n            canDelete,\n            options,\n        } = resource;\n\n        const stringError = () =>\n            console.error(\n                `\\`string\\` resource routes are not supported in legacy router. Please switch to the new router or assign Components to the resource routes.`,\n            );\n        const definitionError = () =>\n            console.error(\n                `\\`Object\\` resource routes are not supported in legacy router. Please switch to the new router or assign Components to the resource routes.`,\n            );\n\n        const List =\n            (typeof list === \"string\"\n                ? stringError()\n                : typeof list === \"object\"\n                ? definitionError()\n                : list) ?? (() => null);\n        const Create =\n            (typeof create === \"string\"\n                ? stringError()\n                : typeof create === \"object\"\n                ? definitionError()\n                : create) ?? (() => null);\n        const Edit =\n            (typeof edit === \"string\"\n                ? stringError()\n                : typeof edit === \"object\"\n                ? definitionError()\n                : edit) ?? (() => null);\n        const Show =\n            (typeof show === \"string\"\n                ? stringError()\n                : typeof show === \"object\"\n                ? definitionError()\n                : show) ?? (() => null);\n\n        const renderCrud = () => {\n            switch (action) {\n                case undefined:\n                    return (\n                        <CanAccess\n                            resource={name}\n                            action=\"list\"\n                            fallback={catchAll ?? <ErrorComponent />}\n                            params={{\n                                resource,\n                            }}\n                        >\n                            {!list ? (\n                                catchAll ?? <ErrorComponent />\n                            ) : (\n                                <List\n                                    name={name}\n                                    canCreate={canCreate}\n                                    canEdit={canEdit}\n                                    canDelete={canDelete}\n                                    canShow={canShow}\n                                    options={options}\n                                />\n                            )}\n                        </CanAccess>\n                    );\n                case \"create\":\n                case \"clone\":\n                    return (\n                        <CanAccess\n                            resource={name}\n                            action=\"create\"\n                            fallback={catchAll ?? <ErrorComponent />}\n                            params={{\n                                id: id ? decodeURIComponent(id) : undefined,\n                                resource,\n                            }}\n                        >\n                            {!create ? (\n                                catchAll ?? <ErrorComponent />\n                            ) : (\n                                <Create\n                                    name={name}\n                                    canCreate={canCreate}\n                                    canEdit={canEdit}\n                                    canDelete={canDelete}\n                                    canShow={canShow}\n                                    options={options}\n                                />\n                            )}\n                        </CanAccess>\n                    );\n\n                case \"edit\":\n                    return (\n                        <CanAccess\n                            resource={name}\n                            action=\"edit\"\n                            params={{\n                                id: id ? decodeURIComponent(id) : undefined,\n                                resource,\n                            }}\n                            fallback={catchAll ?? <ErrorComponent />}\n                        >\n                            {!edit ? (\n                                catchAll ?? <ErrorComponent />\n                            ) : (\n                                <Edit\n                                    name={name}\n                                    canCreate={canCreate}\n                                    canEdit={canEdit}\n                                    canDelete={canDelete}\n                                    canShow={canShow}\n                                    options={options}\n                                />\n                            )}\n                        </CanAccess>\n                    );\n\n                case \"show\":\n                    return (\n                        <CanAccess\n                            resource={name}\n                            action=\"show\"\n                            params={{\n                                id: id ? decodeURIComponent(id) : undefined,\n                                resource,\n                            }}\n                            fallback={catchAll ?? <ErrorComponent />}\n                        >\n                            {!show ? (\n                                catchAll ?? <ErrorComponent />\n                            ) : (\n                                <Show\n                                    name={name}\n                                    canCreate={canCreate}\n                                    canEdit={canEdit}\n                                    canDelete={canDelete}\n                                    canShow={canShow}\n                                    options={options}\n                                />\n                            )}\n                        </CanAccess>\n                    );\n                default:\n                    return <>{catchAll ?? <ErrorComponent />}</>;\n            }\n        };\n\n        return renderCrud();\n    }\n\n    return <>{catchAll ?? <ErrorComponent />}</>;\n};\n\ntype RouteProviderProps = {\n    initialRoute?: string;\n};\n\nexport const RouteProvider = ({\n    initialRoute,\n}: RouteProviderProps): JSX.Element => {\n    const { resources } = useResource();\n    const { catchAll, DashboardPage, LoginPage } = useRefineContext();\n\n    const { routes: customRoutes } = useRouterContext();\n\n    const authProvider = useActiveAuthProvider();\n    const {\n        isFetching,\n        isError,\n        data: authData,\n    } = useIsAuthenticated({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n        params: {\n            type: \"routeProvider\",\n        },\n    });\n\n    const isAuthenticated = useMemo(() => {\n        if (authProvider?.isProvided) {\n            if (authProvider?.isLegacy) {\n                const hasAuthError = isError || authData?.error;\n                return hasAuthError ? false : true;\n            }\n\n            return authData?.authenticated;\n        } else {\n            return true;\n        }\n    }, [authData, isError, authProvider?.isLegacy]);\n\n    if (isFetching) {\n        return (\n            <Routes>\n                <Route path=\"*\" element={null} />\n            </Routes>\n        );\n    }\n\n    const CustomPathAfterLogin: React.FC = (): JSX.Element | null => {\n        const { pathname, search } = location;\n        const toURL = `${pathname}${search}`;\n\n        return <Navigate to={`/login?to=${encodeURIComponent(toURL)}`} />;\n    };\n\n    const resourceRoutes: JSX.Element[] = [];\n\n    resources.map((resource) => {\n        const route = (\n            <Route\n                key={`${resource.route}`}\n                path={`${resource.route}`}\n                element={<ResourceComponent route={resource.route!} />}\n            >\n                <Route\n                    path=\":action\"\n                    element={<ResourceComponent route={resource.route!} />}\n                >\n                    <Route\n                        path=\":id\"\n                        element={<ResourceComponent route={resource.route!} />}\n                    />\n                </Route>\n            </Route>\n        );\n        resourceRoutes.push(route);\n    });\n\n    const renderAuthorized = () => (\n        <Routes>\n            {[...(customRoutes || [])]\n                .filter((p: RefineRouteProps) => !p.layout)\n                .map((route, i) => (\n                    <Route\n                        key={`custom-route-${i}`}\n                        {...route}\n                        element={route.element}\n                    />\n                ))}\n            <Route\n                path=\"/\"\n                element={\n                    <LayoutWrapper>\n                        <Outlet />\n                    </LayoutWrapper>\n                }\n            >\n                {[...(customRoutes || [])]\n                    .filter((p: RefineRouteProps) => p.layout)\n                    .map((route, i) => (\n                        <Route\n                            key={`custom-route-${i}`}\n                            {...route}\n                            element={route.element}\n                        />\n                    ))}\n                {DashboardPage ? (\n                    <Route\n                        index\n                        element={\n                            <CanAccess\n                                resource=\"dashboard\"\n                                action=\"list\"\n                                fallback={catchAll ?? <ErrorComponent />}\n                            >\n                                <DashboardPage />\n                            </CanAccess>\n                        }\n                    />\n                ) : (\n                    <Route\n                        index\n                        element={\n                            <Navigate\n                                to={\n                                    initialRoute ??\n                                    `/${resources\n                                        .find((p) => p.list)\n                                        ?.route?.replace(/^\\//, \"\")}`\n                                }\n                            />\n                        }\n                    />\n                )}\n                {...[...(resourceRoutes || [])]}\n                <Route path=\"*\" element={<ResourceComponent route=\"\" />} />\n            </Route>\n        </Routes>\n    );\n\n    const renderLoginRouteElement = (): JSX.Element => {\n        if (LoginPage) return <LoginPage />;\n        return <DefaultLoginPage />;\n    };\n\n    const renderUnauthorized = () => (\n        <Routes>\n            {[...(customRoutes || [])].map((route, i) => (\n                <Route key={`custom-route-${i}`} {...route} />\n            ))}\n            <Route path=\"/\" element={renderLoginRouteElement()} />\n            <Route path=\"/login\" element={renderLoginRouteElement()} />\n            <Route path=\"*\" element={<CustomPathAfterLogin />} />\n        </Routes>\n    );\n    return isAuthenticated ? renderAuthorized() : renderUnauthorized();\n};\n","/**\n * `useBlocker` and `usePrompt` is no longer part of react-router-dom for the routers other than `DataRouter`.\n *\n * The previous workaround (<v6.4) was to use `block` function in `UNSAFE_NavigationContext` which is now removed.\n *\n * We're using a workaround from the gist https://gist.github.com/MarksCode/64e438c82b0b2a1161e01c88ca0d0355 with some modifications\n * Thanks to @MarksCode(https://github.com/MarksCode) for the workaround.\n */\n\nimport React from \"react\";\nimport { UNSAFE_NavigationContext as NavigationContext } from \"react-router-dom\";\n\nfunction useConfirmExit(confirmExit: () => boolean, when = true) {\n    const { navigator } = React.useContext(NavigationContext);\n\n    React.useEffect(() => {\n        if (!when) {\n            return;\n        }\n\n        const go = navigator.go;\n        const push = navigator.push;\n\n        navigator.push = (...args: Parameters<typeof push>) => {\n            const result = confirmExit();\n            if (result !== false) {\n                push(...args);\n            }\n        };\n\n        navigator.go = (...args: Parameters<typeof go>) => {\n            const result = confirmExit();\n            if (result !== false) {\n                go(...args);\n            }\n        };\n\n        return () => {\n            navigator.push = push;\n            navigator.go = go;\n        };\n    }, [navigator, confirmExit, when]);\n}\n\nexport function usePrompt(\n    message: string,\n    when = true,\n    onConfirm?: () => void,\n    legacy = false,\n) {\n    const warnWhenListener = React.useCallback(\n        (e: { preventDefault: () => void; returnValue: string }) => {\n            e.preventDefault();\n\n            e.returnValue = message;\n\n            return e.returnValue;\n        },\n        [message],\n    );\n\n    React.useEffect(() => {\n        if (when && !legacy) {\n            window.addEventListener(\"beforeunload\", warnWhenListener);\n        }\n\n        return () => {\n            window.removeEventListener(\"beforeunload\", warnWhenListener);\n        };\n    }, [warnWhenListener, when, legacy]);\n\n    const confirmExit = React.useCallback(() => {\n        const confirm = window.confirm(message);\n        if (confirm && onConfirm) {\n            onConfirm();\n        }\n        return confirm;\n    }, [message]);\n\n    useConfirmExit(confirmExit, when);\n}\n","import { usePrompt } from \"../use-prompt-workaround\";\n\nimport type { PromptProps } from \"@refinedev/core\";\n\nexport const Prompt: React.FC<PromptProps> = ({\n    message,\n    when,\n    setWarnWhen,\n}) => {\n    usePrompt(\n        message,\n        when,\n        () => {\n            setWarnWhen?.(false);\n        },\n        true,\n    );\n\n    return null;\n};\n"],"mappings":"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","names":["handleUseParams","useLocation","useParams","Link","useNavigate","React","BrowserRouter","MemoryRouter","HashRouter","React","useMemo","Route","Routes","Navigate","Outlet","DefaultLoginPage","ErrorComponent","LayoutWrapper","useResource","useRefineContext","useRouterContext","CanAccess","useActiveAuthProvider","useIsAuthenticated","ResourceComponent","route","catchAll","useParams","resources","action","id","resource","res","list","create","edit","show","name","canCreate","canEdit","canShow","canDelete","options","stringError","definitionError","List","Create","Edit","Show","RouteProvider","initialRoute","DashboardPage","LoginPage","customRoutes","authProvider","isFetching","isError","authData","isAuthenticated","CustomPathAfterLogin","pathname","search","toURL","resourceRoutes","renderAuthorized","_a","_b","p","i","renderLoginRouteElement","BrowserRouterComponent","children","props","React","BrowserRouter","RouteProvider","MemoryRouterComponent","MemoryRouter","HashRouterComponent","HashRouter","React","NavigationContext","useConfirmExit","confirmExit","when","navigator","go","push","args","usePrompt","message","onConfirm","legacy","warnWhenListener","e","confirm","Prompt","message","when","setWarnWhen","usePrompt","RouterProvider","navigate","useNavigate","path","useLocation","params","useParams","pathname","paramsString","handleUseParams","Prompt","Link","BrowserRouterComponent","legacy_default"]}
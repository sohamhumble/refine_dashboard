(()=>{var Zi=Object.create;var ca=Object.defineProperty;var eo=Object.getOwnPropertyDescriptor;var to=Object.getOwnPropertyNames;var ro=Object.getPrototypeOf,ao=Object.prototype.hasOwnProperty;var h=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var fr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var no=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of to(t))!ao.call(e,n)&&n!==r&&ca(e,n,{get:()=>t[n],enumerable:!(a=eo(t,n))||a.enumerable});return e};var ye=(e,t,r)=>(r=e!=null?Zi(ro(e)):{},no(t||!e||!e.__esModule?ca(r,"default",{value:e,enumerable:!0}):r,e));var jt=fr((Gu,Pa)=>{var io=Object.create,Wt=Object.defineProperty,oo=Object.getOwnPropertyDescriptor,so=Object.getOwnPropertyNames,lo=Object.getPrototypeOf,uo=Object.prototype.hasOwnProperty,co=(e,t)=>{for(var r in t)Wt(e,r,{get:t[r],enumerable:!0})},ma=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of so(t))!uo.call(e,n)&&n!==r&&Wt(e,n,{get:()=>t[n],enumerable:!(a=oo(t,n))||a.enumerable});return e},mo=(e,t,r)=>(r=e!=null?io(lo(e)):{},ma(t||!e||!e.__esModule?Wt(r,"default",{value:e,enumerable:!0}):r,e)),vo=e=>ma(Wt({},"__esModule",{value:!0}),e),va={};co(va,{DevToolsContext:()=>ha,DevToolsContextProvider:()=>fo,DevtoolsEvent:()=>pa,hooksByScope:()=>po,receive:()=>ya,scopes:()=>fa,send:()=>ga});Pa.exports=vo(va);var pa=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(pa||{}),fa={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},po=Object.entries(fa).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),gt=mo(h("react"));async function ga(e,t,r){if(e.readyState!==e.OPEN){await new Promise(a=>{let n=()=>{e.send(JSON.stringify({event:t,payload:r})),a(),e.removeEventListener("open",n)};e.addEventListener("open",n)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}function ya(e,t,r){let a=n=>{let{event:o,payload:i}=JSON.parse(n.data);t===o&&r(i)};return e.addEventListener("message",a),()=>{e.removeEventListener("message",a)}}var ha=gt.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),fo=({__devtools:e,port:t,children:r})=>{let[a,n]=gt.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[o,i]=gt.default.useState(null);gt.default.useEffect(()=>{let c=new WebSocket(`${a.secure?"wss":"ws"}://localhost:${a.port}`),d=ya(c,"devtools:handshake",m=>{n(f=>({...f,devtoolsUrl:m.url})),d()});return c.addEventListener("open",()=>{a.__devtools||ga(c,"devtools:init",{url:window.location.origin})}),i(c),()=>{d(),c.close(1e3,window.location.origin)}},[]);let l=gt.default.useMemo(()=>({...a,ws:o}),[a,o]);return gt.default.createElement(ha.Provider,{value:l},r)}});var J=fr((Ju,Sa)=>{var go=Object.create,zt=Object.defineProperty,yo=Object.getOwnPropertyDescriptor,ho=Object.getOwnPropertyNames,Po=Object.getPrototypeOf,bo=Object.prototype.hasOwnProperty,Eo=(e,t)=>{for(var r in t)zt(e,r,{get:t[r],enumerable:!0})},ba=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ho(t))!bo.call(e,n)&&n!==r&&zt(e,n,{get:()=>t[n],enumerable:!(a=yo(t,n))||a.enumerable});return e},Ea=(e,t,r)=>(r=e!=null?go(Po(e)):{},ba(t||!e||!e.__esModule?zt(r,"default",{value:e,enumerable:!0}):r,e)),Co=e=>ba(zt({},"__esModule",{value:!0}),e),Ca={};Eo(Ca,{getTrace:()=>La,getXRay:()=>qo,useQuerySubscription:()=>ko});Sa.exports=Co(Ca);var wo=Ea(h("error-stack-parser")),Lo="renderWithHooks",So=e=>{let t=e.findIndex(r=>r.functionName===Lo);return t!==-1?e.slice(0,t):e},wa=/node_modules\/refinedev\/(?<name>.*?)\//,xo=e=>e?!!e.match(wa):!1,Do=e=>{var t;if(!e)return;let r=e.match(wa),a=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(a)return`@refinedev/${a}`};function La(){return[];try{let e=new Error,t=wo.default.parse(e);return So(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:xo(r.fileName),packageName:Do(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}var gr=jt(),No=(e,t)=>{if(gr.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(gr.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(gr.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null};function qo(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}var Vu=jt(),Xu=Ea(h("react")),Yu=jt(),ko=()=>({})});var vt=fr((Zu,Mi)=>{var Mo=Object.create,Nt=Object.defineProperty,Ro=Object.getOwnPropertyDescriptor,To=Object.getOwnPropertyNames,Oo=Object.getPrototypeOf,Ao=Object.prototype.hasOwnProperty,s=(e,t)=>Nt(e,"name",{value:t,configurable:!0}),$o=(e,t)=>{for(var r in t)Nt(e,r,{get:t[r],enumerable:!0})},wn=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of To(t))!Ao.call(e,n)&&n!==r&&Nt(e,n,{get:()=>t[n],enumerable:!(a=Ro(t,n))||a.enumerable});return e},Q=(e,t,r)=>(r=e!=null?Mo(Oo(e)):{},wn(t||!e||!e.__esModule?Nt(r,"default",{value:e,enumerable:!0}):r,e)),Io=e=>wn(Nt({},"__esModule",{value:!0}),e),Ln={};$o(Ln,{AccessControlContext:()=>Tt,AuthPage:()=>mu,Authenticated:()=>qi,AutoSaveIndicator:()=>Iu,CanAccess:()=>Ru,ErrorComponent:()=>su,GitHubBanner:()=>Au,KeyBuilder:()=>Ur,LayoutWrapper:()=>Du,LoginPage:()=>xi,ReadyPage:()=>Di,Refine:()=>xu,ResourceContext:()=>kt,RouteChangeHandler:()=>ki,TranslationContext:()=>ct,UndoableQueue:()=>Ni,WelcomePage:()=>pu,createTreeView:()=>Vo,file2Base64:()=>fs,flattenObjectKeys:()=>Or,generateDefaultDocumentTitle:()=>Xn,getDefaultFilter:()=>ps,getDefaultSortOrder:()=>vs,getNextPageParam:()=>zn,getPreviousPageParam:()=>Bn,handleUseParams:()=>Uo,importCSVMapper:()=>Dn,keys:()=>Ze,legacyResourceTransform:()=>_n,matchResourceFromRoute:()=>Go,parseTableParams:()=>Br,parseTableParamsFromQuery:()=>ms,pickDataProvider:()=>H,pickNotDeprecated:()=>F,propertyPathToArray:()=>cs,queryKeys:()=>Wo,routeGenerator:()=>Kn,setInitialFilters:()=>Ir,setInitialSorters:()=>Fr,stringifyTableParams:()=>Ar,unionFilters:()=>Dt,unionSorters:()=>$r,useActiveAuthProvider:()=>de,useApiUrl:()=>js,useAuthenticated:()=>Es,useBack:()=>bi,useBreadcrumb:()=>nu,useCan:()=>wi,useCanWithoutCache:()=>_l,useCancelNotification:()=>Ct,useCheckError:()=>Cs,useCreate:()=>Zr,useCreateMany:()=>ii,useCustom:()=>_s,useCustomMutation:()=>Vs,useDataProvider:()=>ge,useDelete:()=>$s,useDeleteMany:()=>Ws,useExport:()=>Sl,useForgotPassword:()=>Vr,useForm:()=>Nl,useGetIdentity:()=>_r,useGetLocale:()=>Cl,useGetToPath:()=>ir,useGo:()=>Oe,useHandleNotification:()=>Ne,useImport:()=>$l,useInfiniteList:()=>el,useInvalidate:()=>Ve,useIsAuthenticated:()=>nr,useIsExistAuthentication:()=>ri,useLink:()=>or,useList:()=>Yr,useLiveMode:()=>gi,useLoadingOvertime:()=>me,useLog:()=>mt,useLogList:()=>tu,useLogin:()=>ar,useLogout:()=>Zt,useMany:()=>ai,useMenu:()=>ou,useMeta:()=>se,useModal:()=>Il,useMutationMode:()=>Et,useNavigation:()=>Ae,useNotification:()=>at,useOnError:()=>Ee,useOne:()=>Jr,useParse:()=>pi,useParsed:()=>We,usePermissions:()=>ti,usePublish:()=>dt,useRedirectionAfterSubmission:()=>Pi,useRefineContext:()=>be,useRegister:()=>Gr,useResource:()=>G,useResourceSubscription:()=>Rt,useResourceWithRoute:()=>fi,useRouterContext:()=>qe,useRouterType:()=>ce,useSelect:()=>Vl,useSetLocale:()=>El,useShow:()=>Tl,useSubscription:()=>pl,useSyncWithLocation:()=>Jn,useTable:()=>Li,useTitle:()=>ls,useToPath:()=>Fl,useTranslate:()=>ee,useUpdate:()=>Qr,useUpdateMany:()=>Ks,useUpdatePassword:()=>Xr,useUserFriendlyName:()=>zr,useWarnAboutChange:()=>jr,userFriendlyResourceName:()=>Nn});Mi.exports=Io(Ln);var ot=Q(h("react")),xa=h("@tanstack/react-query"),Da=J(),Kr=Q(h("qs")),Sn=Q(h("lodash/unionWith")),xn=Q(h("lodash/differenceWith")),Fo=Q(h("warn-once")),yr=s(e=>e/1e3,"userFriendlySecond"),Qo=Q(h("lodash/zip")),Ko=Q(h("lodash/fromPairs")),Dn=s((e,t=r=>r)=>{let[r,...a]=e;return a.map(n=>(0,Ko.default)((0,Qo.default)(r,n))).map((n,o,i)=>t.call(void 0,n,o,i))},"importCSVMapper"),Na=Q(h("pluralize")),Nn=s((e="",t)=>{let r=Un(e);return t==="singular"?Na.default.singular(r):Na.default.plural(r)},"userFriendlyResourceName"),Uo=s((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),F=s((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function je(e,t){return e.findIndex((r,a)=>a<=e.length-t.length&&t.every((n,o)=>e[a+o]===n))}s(je,"arrayFindIndex");function qn(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(je(e,["auth","login"])!==-1)return["useLogin"];if(je(e,["auth","logout"])!==-1)return["useLogout"];if(je(e,["auth","identity"])!==-1)return["getUserIdentity"];if(je(e,["auth","register"])!==-1)return["useRegister"];if(je(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(je(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(je(e,["auth","onError"])!==-1)return["useCheckError"];if(je(e,["auth","permissions"])!==-1)return["usePermissions"];if(je(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}s(qn,"convertToLegacy");var De=class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return qn(this.segments)}get(e){return e?this.legacy():this.segments}};s(De,"BaseKeyBuilder");var Ge=class extends De{constructor(e){super(e)}params(e){return new De([...this.segments,e])}};s(Ge,"ParamsKeyBuilder");var kn=class extends De{constructor(e){super(e)}id(e){return new Ge([...this.segments,e?String(e):void 0])}};s(kn,"DataIdRequiringKeyBuilder");var Mn=class extends De{constructor(e){super(e)}ids(...e){return new Ge([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}};s(Mn,"DataIdsRequiringKeyBuilder");var Rn=class extends De{constructor(e){super(e)}action(e){if(e==="one")return new kn([...this.segments,e]);if(e==="many")return new Mn([...this.segments,e]);if(["list","infinite"].includes(e))return new Ge([...this.segments,e]);throw new Error("Invalid action type")}};s(Rn,"DataResourceKeyBuilder");var Tn=class extends De{constructor(e){super(e)}resource(e){return new Rn([...this.segments,e])}mutation(e){return new Ge([...e==="custom"?this.segments:[this.segments[0]],e])}};s(Tn,"DataKeyBuilder");var On=class extends De{constructor(e){super(e)}action(e){return new Ge([...this.segments,e])}};s(On,"AuthKeyBuilder");var An=class extends De{constructor(e){super(e)}action(e){return new Ge([...this.segments,e])}};s(An,"AccessResourceKeyBuilder");var $n=class extends De{constructor(e){super(e)}resource(e){return new An([...this.segments,e])}};s($n,"AccessKeyBuilder");var In=class extends De{constructor(e){super(e)}action(e){return new Ge([...this.segments,e])}};s(In,"AuditActionKeyBuilder");var Fn=class extends De{constructor(e){super(e)}resource(e){return new In([...this.segments,e])}action(e){return new Ge([...this.segments,e])}};s(Fn,"AuditKeyBuilder");var Ur=class extends De{constructor(e){super(e)}data(e){return new Tn(["data",e||"default"])}auth(){return new On(["auth"])}access(){return new $n(["access"])}audit(){return new Fn(["audit"])}};s(Ur,"KeyBuilder");var Ze=s(()=>new Ur([]),"keys"),Wo=s((e,t,r,a)=>{let n=t||"default",o={all:[n],resourceAll:[n,e||""],list:i=>[...o.resourceAll,"list",{...i,...F(r,a)||{}}],many:i=>[...o.resourceAll,"getMany",i&&i.map(String),{...F(r,a)||{}}].filter(l=>l!==void 0),detail:i=>[...o.resourceAll,"detail",i==null?void 0:i.toString(),{...F(r,a)||{}}],logList:i=>["logList",e,i,a].filter(l=>l!==void 0)};return o},"queryKeys"),tr=s(e=>(t,r,a,n)=>{let o=r||"default";return{all:Ze().data(o).get(e),resourceAll:Ze().data(r).resource(t??"").get(e),list:i=>Ze().data(r).resource(t??"").action("list").params({...i,...F(a,n)||{}}).get(e),many:i=>Ze().data(r).resource(t??"").action("many").ids(...i??[]).params({...F(a,n)||{}}).get(e),detail:i=>Ze().data(r).resource(t??"").action("one").id(i??"").params({...F(a,n)||{}}).get(e),logList:i=>[...Ze().audit().resource(t).action("list").params(i).get(e),n].filter(l=>l!==void 0)}},"queryKeysReplacement"),jo=s((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),Wr=s(e=>e.startsWith(":"),"isParameter"),Pt=s(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),zo=s((e,t)=>{let r=Pt(e),a=Pt(t);return r.length===a.length},"isSegmentCountsSame"),He=s(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),Bo=s((e,t)=>{let r=He(e),a=He(t);if(!zo(r,a))return!1;let n=Pt(r);return Pt(a).every((o,i)=>Wr(o)||o===n[i])},"checkBySegments"),_o=s((e,t,r)=>{let a=He(r||""),n=`${a}${a?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},"getDefaultActionPath"),tt=s((e,t)=>{var r,a;let n=F((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return n?t.find(o=>(o.identifier??o.name)===n)??{name:n}:void 0},"getParentResource"),Qn=s((e,t,r)=>{let a=[],n=tt(e,t);for(;n;)a.push(n),n=tt(n,t);if(a.length!==0)return`/${a.reverse().map(o=>{var i;let l=r?((i=o.options)==null?void 0:i.route)??o.name:o.name;return He(l)}).join("/")}`},"getParentPrefixForResource"),xe=s((e,t,r)=>{let a=[],n=["list","show","edit","create","clone"],o=Qn(e,t,r);return n.forEach(i=>{var l,c;let d=r&&i==="clone"?e.create:e[i],m;typeof d=="function"||r?m=_o(r?((l=e.meta)==null?void 0:l.route)??((c=e.options)==null?void 0:c.route)??e.name:e.name,i,r?o:void 0):typeof d=="string"?m=d:typeof d=="object"&&(m=d.path),m&&a.push({action:i,resource:e,route:`/${m.replace(/^\//,"")}`})}),a},"getActionRoutesFromResource"),Ho=s(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(o=>({...o,splitted:Pt(He(o.route))})),a=((t=r[0])==null?void 0:t.splitted.length)??0,n=[...r];for(let o=0;o<a;o++){let i=n.filter(l=>!Wr(l.splitted[o]));if(i.length!==0){if(i.length===1){n=i;break}n=i}}return n[0]},"pickMatchedRoute"),Go=s((e,t)=>{let r=t.flatMap(n=>xe(n,t)).filter(n=>Bo(e,n.route)),a=Ho(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},"matchResourceFromRoute"),Kn=s((e,t)=>{var r;let a,n=Qn(e,t,!0);if(n){let o=F(e.meta,e.options);a=`${n}/${(o==null?void 0:o.route)??e.name}`}else a=((r=e.options)==null?void 0:r.route)??e.name;return`/${a.replace(/^\//,"")}`},"routeGenerator"),Vo=s(e=>{var t;let r=[],a={},n={},o,i;for(let l=0;l<e.length;l++){o=e[l];let c=o.route??((t=F(o==null?void 0:o.meta,o.options))==null?void 0:t.route)??"";a[c]=o,a[c].children=[],n[o.name]=o,n[o.name].children=[]}for(let l in a)a.hasOwnProperty(l)&&(i=a[l],i.parentName&&n[i.parentName]?n[i.parentName].children.push(i):r.push(i));return r},"createTreeView"),Un=s(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),Wn=Q(h("react")),qa=Q(h("pluralize")),Xo=Q(h("react")),jn=s(({children:e})=>Xo.default.createElement("div",null,e),"DefaultLayout"),Pe={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:Un,plural:qa.default.plural,singular:qa.default.singular},disableServerSideValidation:!1},rt=Wn.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:jn,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Pe}),Yo=s(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:n,children:o,DashboardPage:i,Title:l,Layout:c=jn,Header:d,Sider:m,Footer:f,OffLayoutArea:C,LoginPage:u=xi,catchAll:v,liveMode:b="off",onLiveEvent:g,options:P})=>Wn.default.createElement(rt.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:l,undoableTimeout:n,Layout:c,Header:d,Sider:m,Footer:f,OffLayoutArea:C,DashboardPage:i,LoginPage:u,catchAll:v,liveMode:b,onLiveEvent:g,options:P}},o),"RefineContextProvider"),Jo=s(({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:n,reactQueryDevtoolConfig:o,syncWithLocation:i,undoableTimeout:l,warnWhenUnsavedChanges:c}={})=>{var d,m,f,C,u,v,b,g;let P={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??a??Pe.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??l??Pe.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??i??Pe.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??c??Pe.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Pe.liveMode,redirect:{afterCreate:((d=e==null?void 0:e.redirect)==null?void 0:d.afterCreate)??Pe.redirect.afterCreate,afterClone:((m=e==null?void 0:e.redirect)==null?void 0:m.afterClone)??Pe.redirect.afterClone,afterEdit:((f=e==null?void 0:e.redirect)==null?void 0:f.afterEdit)??Pe.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Pe.overtime,textTransformers:{humanize:((C=e==null?void 0:e.textTransformers)==null?void 0:C.humanize)??Pe.textTransformers.humanize,plural:((u=e==null?void 0:e.textTransformers)==null?void 0:u.plural)??Pe.textTransformers.plural,singular:((v=e==null?void 0:e.textTransformers)==null?void 0:v.singular)??Pe.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Pe.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},p=(e==null?void 0:e.disableTelemetry)??t??!1,E={clientConfig:((b=e==null?void 0:e.reactQuery)==null?void 0:b.clientConfig)??n??{},devtoolConfig:((g=e==null?void 0:e.reactQuery)==null?void 0:g.devtoolConfig)??o??{}};return{optionsWithDefaults:P,disableTelemetryWithDefault:p,reactQueryWithDefaults:E}},"handleRefineOptions"),Zo=s(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),ka=s(async(e,t,r)=>{let a=[];for(let[n,o]of e.entries())try{let i=await o();a.push(t(i,n))}catch(i){a.push(r(i,n))}return a},"sequentialPromises"),ve=s((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(o=>He(o.route??"")===He(e))||t.find(o=>o.name===e);let a=t.find(n=>n.identifier===e);return a||(a=t.find(n=>n.name===e)),a},"pickResource"),H=s((e,t,r)=>{if(t)return t;let a=ve(e,r),n=F(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},"pickDataProvider"),rr=s(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),zn=s(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,o=Math.ceil((e.total||0)/n);return a<o?Number(a)+1:void 0},"getNextPageParam"),Bn=s(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},"getPreviousPageParam"),_n=s(e=>{let t=[];return e.forEach(r=>{var a,n;t.push({...r,label:((a=r.meta)==null?void 0:a.label)??((n=r.options)==null?void 0:n.label),route:Kn(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),es=s(e=>Pt(He(e)).flatMap(t=>Wr(t)?[t.slice(1)]:[]),"pickRouteParams"),ts=s((e,t={})=>e.reduce((r,a)=>{let n=t[a];return typeof n<"u"&&(r[a]=n),r},{}),"prepareRouteParams"),Me=s((e,t={},r={},a={})=>{let n=es(e),o=ts(n,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...a});return e.replace(/:([^\/]+)/g,(i,l)=>{let c=o[l];return typeof c<"u"?`${c}`:i})},"composeRoute"),bt=Q(h("react")),Hn=bt.default.createContext({}),rs=s(({children:e,isProvided:t,...r})=>{let{replace:a}=Ae(),n=s(async c=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,c))}catch(m){return Promise.reject(m)}},"loginFunc"),o=s(async c=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,c))}catch(m){return Promise.reject(m)}},"registerFunc"),i=s(async c=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,c))}catch(m){return Promise.reject(m)}},"logoutFunc"),l=s(async c=>{var d;try{return await((d=r.checkAuth)==null?void 0:d.call(r,c)),Promise.resolve()}catch(m){return m!=null&&m.redirectPath&&a(m.redirectPath),Promise.reject(m)}},"checkAuthFunc");return bt.default.createElement(Hn.Provider,{value:{...r,login:n,logout:i,checkAuth:l,register:o,isProvided:t}},e)},"LegacyAuthContextProvider"),Gn=bt.default.createContext({}),as=s(({children:e,isProvided:t,...r})=>{let a=s(async d=>{var m;try{return await((m=r.login)==null?void 0:m.call(r,d))}catch(f){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleLogin"),n=s(async d=>{var m;try{return await((m=r.register)==null?void 0:m.call(r,d))}catch(f){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleRegister"),o=s(async d=>{var m;try{return await((m=r.logout)==null?void 0:m.call(r,d))}catch(f){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleLogout"),i=s(async d=>{var m;try{let f=await((m=r.check)==null?void 0:m.call(r,d));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleCheck"),l=s(async d=>{var m;try{let f=await((m=r.forgotPassword)==null?void 0:m.call(r,d));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleForgotPassword"),c=s(async d=>{var m;try{let f=await((m=r.updatePassword)==null?void 0:m.call(r,d));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleUpdatePassword");return bt.default.createElement(Gn.Provider,{value:{...r,login:a,logout:o,check:i,register:n,forgotPassword:l,updatePassword:c,isProvided:t}},e)},"AuthBindingsContextProvider"),Te=s(()=>bt.default.useContext(Hn),"useLegacyAuthContext"),Ue=s(()=>bt.default.useContext(Gn),"useAuthBindingsContext"),de=s(()=>{let e=Te(),t=Ue();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),Vn=s(({hasPagination:e,pagination:t,configPagination:r}={})=>{let a=e===!1?"off":"server",n=(t==null?void 0:t.mode)??a,o=F(t==null?void 0:t.current,r==null?void 0:r.current)??1,i=F(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:o,pageSize:i,mode:n}},"handlePaginationParams"),Ma=h("react"),Ra=s(e=>{let[t,r]=(0,Ma.useState)(!1);return(0,Ma.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&r(a.matches);let n=s(()=>r(a.matches),"listener");return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t},"useMediaQuery"),hr=s((e,t,r,a)=>{let n=a?e(t,a,r):e(t,r);return n===t||typeof n>"u"?r??t:n},"safeTranslate");function Xn(e,t,r,a,n){var o;let i={create:"Create new ",clone:`#${a??""} Clone `,edit:`#${a??""} Edit `,show:`#${a??""} Show `,list:""},l=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),c=(t==null?void 0:t.label)??((o=t==null?void 0:t.meta)==null?void 0:o.label)??Nn(l,r==="list"?"plural":"singular"),d=n??c,m=hr(e,"documentTitle.default","refine"),f=hr(e,"documentTitle.suffix"," | refine"),C=m;return r&&l&&(C=hr(e,`documentTitle.${l}.${r}`,`${i[r]??""}${d}${f}`,{id:a})),C}s(Xn,"generateDefaultDocumentTitle");var ns=h("react"),Et=s(()=>{let{mutationMode:e,undoableTimeout:t}=(0,ns.useContext)(rt);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),Ta=h("react"),Tr=Q(h("react")),Yn=Tr.default.createContext({}),is=s(({children:e})=>{let[t,r]=(0,Tr.useState)(!1);return Tr.default.createElement(Yn.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),jr=s(()=>{let{warnWhenUnsavedChanges:e}=(0,Ta.useContext)(rt),{warnWhen:t,setWarnWhen:r}=(0,Ta.useContext)(Yn);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),os=h("react"),Jn=s(()=>{let{syncWithLocation:e}=(0,os.useContext)(rt);return{syncWithLocation:e}},"useSyncWithLocation"),ss=h("react"),ls=s(()=>{let{Title:e}=(0,ss.useContext)(rt);return e},"useTitle"),us=h("react"),be=s(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:i,mutationMode:l,syncWithLocation:c,undoableTimeout:d,warnWhenUnsavedChanges:m,DashboardPage:f,LoginPage:C,catchAll:u,options:v}=(0,us.useContext)(rt);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:i,mutationMode:l,syncWithLocation:c,undoableTimeout:d,warnWhenUnsavedChanges:m,DashboardPage:f,LoginPage:C,catchAll:u,options:v}},"useRefineContext"),zr=s(()=>{let{options:{textTransformers:e}}=be();return s((t="",r)=>{let a=e.humanize(t);return r==="singular"?e.singular(a):e.plural(a)},"getFriendlyName")},"useUserFriendlyName"),Oa=s(e=>typeof e=="object"&&e!==null,"isNested"),ds=s(e=>Array.isArray(e),"isArray"),Or=s((e,t="")=>Oa(e)?Object.keys(e).reduce((r,a)=>{let n=t.length?t+".":"";return Oa(e[a])&&Object.keys(e[a]).length?ds(e[a])&&e[a].length?e[a].forEach((o,i)=>{Object.assign(r,Or(o,n+a+"."+i))}):Object.assign(r,Or(e[a],n+a)):r[n+a]=e[a],r},{}):{[t]:e},"flattenObjectKeys"),cs=s(e=>e.split(".").map(t=>isNaN(Number(t))?t:Number(t)),"propertyPathToArray"),Br=s(e=>{let{current:t,pageSize:r,sorter:a,sorters:n,filters:o}=Kr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:F(n,a)??[],parsedFilters:o??[]}},"parseTableParams"),ms=s(e=>{let t=Kr.default.stringify(e);return Br(`/${t}`)},"parseTableParamsFromQuery"),Ar=s(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:n,filters:o,...i}=e;return Kr.default.stringify({...i,...r||{},sorters:F(n,a),filters:o},t)},"stringifyTableParams"),Zn=s((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),ei=s((e,t)=>e.field==t.field,"compareSorters"),Dt=s((e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,Fo.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Sn.default)(e,t,r,Zn).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),"unionFilters"),$r=s((e,t)=>(0,Sn.default)(e,t,ei).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Ir=s((e,t)=>[...(0,xn.default)(t,e,Zn),...e],"setInitialFilters"),Fr=s((e,t)=>[...(0,xn.default)(t,e,ei),...e],"setInitialSorters"),vs=s((e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},"getDefaultSortOrder"),ps=s((e,t,r="eq")=>{let a=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:o,field:i}=n;return i===e&&o===r}});if(a)return a.value||[]},"getDefaultFilter"),fs=s(e=>new Promise((t,r)=>{let a=new FileReader,n=s(()=>{a.result&&(a.removeEventListener("load",n,!1),t(a.result))},"resultHandler");a.addEventListener("load",n,!1),a.readAsDataURL(e.originFileObj),a.onerror=o=>(a.removeEventListener("load",n,!1),r(o))}),"file2Base64"),Z=s(()=>{let{options:{useNewQueryKeys:e}}=be();return{keys:Ze,preferLegacyKeys:!e}},"useKeys");function ti({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=Te(),{getPermissions:a}=Ue(),{keys:n,preferLegacyKeys:o}=Z(),i=(0,xa.useQuery)(n().auth().action("permissions").get(o),a??(()=>Promise.resolve(void 0)),{enabled:!e&&!!a,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,Da.getXRay)("usePermissions",o)}}),l=(0,xa.useQuery)([...n().auth().action("permissions").get(o),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Da.getXRay)("usePermissions",o)}});return e?l:i}s(ti,"usePermissions");var Aa=h("@tanstack/react-query"),$a=J();function _r({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=Te(),{getIdentity:a}=Ue(),{keys:n,preferLegacyKeys:o}=Z(),i=(0,Aa.useQuery)(n().auth().action("identity").get(o),a??(()=>Promise.resolve({})),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,$a.getXRay)("useGetIdentity",o)}}),l=(0,Aa.useQuery)([...n().auth().action("identity").get(o),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,$a.getXRay)("useGetIdentity",o)}});return e?l:i}s(_r,"useGetIdentity");var Ia=h("@tanstack/react-query"),Fa=J(),gs=h("@tanstack/react-query"),Hr=s(()=>{let e=(0,gs.useQueryClient)(),{keys:t,preferLegacyKeys:r}=Z();return s(async()=>{await Promise.all(["check","identity","permissions"].map(a=>e.invalidateQueries(t().auth().action(a).get(r))))},"invalidate")},"useInvalidateAuthStore");function Zt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Hr(),a=ce(),n=Oe(),{push:o}=Ae(),{open:i,close:l}=at(),{logout:c}=Te(),{logout:d}=Ue(),{keys:m,preferLegacyKeys:f}=Z(),C=(0,Ia.useMutation)(m().auth().action("logout").get(f),d,{onSuccess:async(v,b)=>{let{success:g,error:P,redirectTo:p}=v,{redirectPath:E}=b??{},L=E??p;g&&(l==null||l("useLogout-error")),(P||!g)&&(i==null||i(Pr(P))),L!==!1&&(a==="legacy"?o(L??"/login"):L&&n({to:L})),await r()},onError:v=>{i==null||i(Pr(v))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Fa.getXRay)("useLogout",f)}}),u=(0,Ia.useMutation)([...m().auth().action("logout").get(f),"v3LegacyAuthProviderCompatible"],c,{onSuccess:async(v,b)=>{let g=(b==null?void 0:b.redirectPath)??v;if(g!==!1){if(g){a==="legacy"?o(g):n({to:g});return}a==="legacy"?o("/login"):n({to:"/login"}),await r()}},onError:v=>{i==null||i(Pr(v))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Fa.getXRay)("useLogout",f)}});return e?u:C}s(Zt,"useLogout");var Pr=s(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),ys=Q(h("react")),Qa=h("@tanstack/react-query"),Ka=J(),hs=Q(h("qs"));function ar({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Hr(),a=ce(),n=Oe(),{replace:o}=Ae(),i=We(),{useLocation:l}=qe(),{search:c}=l(),{close:d,open:m}=at(),{login:f}=Te(),{login:C}=Ue(),{keys:u,preferLegacyKeys:v}=Z(),b=ys.default.useMemo(()=>{var p;return a==="legacy"?hs.default.parse(c,{ignoreQueryPrefix:!0}).to:(p=i.params)==null?void 0:p.to},[a,i.params,c]),g=(0,Qa.useMutation)(u().auth().action("login").get(v),C,{onSuccess:async({success:p,redirectTo:E,error:L})=>{p&&(d==null||d("login-error")),(L||!p)&&(m==null||m(br(L))),b&&p?a==="legacy"?o(b):n({to:b,type:"replace"}):E?a==="legacy"?o(E):n({to:E,type:"replace"}):a==="legacy"&&o("/"),await r()},onError:p=>{m==null||m(br(p))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ka.getXRay)("useLogin",v)}}),P=(0,Qa.useMutation)([...u().auth().action("login").get(v),"v3LegacyAuthProviderCompatible"],f,{onSuccess:async p=>{b&&o(b),p!==!1&&!b&&(typeof p=="string"?a==="legacy"?o(p):n({to:p,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"})),await r(),d==null||d("login-error")},onError:p=>{m==null||m(br(p))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ka.getXRay)("useLogin",v)}});return e?P:g}s(ar,"useLogin");var br=s(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),Ua=h("@tanstack/react-query"),Wa=J();function Gr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Hr(),a=ce(),n=Oe(),{replace:o}=Ae(),{register:i}=Te(),{register:l}=Ue(),{close:c,open:d}=at(),{keys:m,preferLegacyKeys:f}=Z(),C=(0,Ua.useMutation)(m().auth().action("register").get(f),l,{onSuccess:async({success:v,redirectTo:b,error:g})=>{v&&(c==null||c("register-error")),(g||!v)&&(d==null||d(Er(g))),b?a==="legacy"?o(b):n({to:b,type:"replace"}):a==="legacy"&&o("/"),await r()},onError:v=>{d==null||d(Er(v))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Wa.getXRay)("useRegister",f)}}),u=(0,Ua.useMutation)([...m().auth().action("register").get(f),"v3LegacyAuthProviderCompatible"],i,{onSuccess:async v=>{v!==!1&&(v?a==="legacy"?o(v):n({to:v,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"}),await r(),c==null||c("register-error"))},onError:v=>{d==null||d(Er(v))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Wa.getXRay)("useRegister",f)}});return e?u:C}s(Gr,"useRegister");var Er=s(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),ja=h("@tanstack/react-query"),za=J();function Vr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ce(),a=Oe(),{replace:n}=Ae(),{forgotPassword:o}=Te(),{forgotPassword:i}=Ue(),{close:l,open:c}=at(),{keys:d,preferLegacyKeys:m}=Z(),f=(0,ja.useMutation)(d().auth().action("forgotPassword").get(m),i,{onSuccess:({success:u,redirectTo:v,error:b})=>{u&&(l==null||l("forgot-password-error")),(b||!u)&&(c==null||c(Cr(b))),v&&(r==="legacy"?n(v):a({to:v,type:"replace"}))},onError:u=>{c==null||c(Cr(u))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,za.getXRay)("useForgotPassword",m)}}),C=(0,ja.useMutation)([...d().auth().action("forgotPassword").get(m),"v3LegacyAuthProviderCompatible"],o,{onSuccess:u=>{u!==!1&&u&&(r==="legacy"?n(u):a({to:u,type:"replace"})),l==null||l("forgot-password-error")},onError:u=>{c==null||c(Cr(u))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,za.getXRay)("useForgotPassword",m)}});return e?C:f}s(Vr,"useForgotPassword");var Cr=s(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),Ps=Q(h("react")),Ba=h("@tanstack/react-query"),_a=J(),bs=Q(h("qs"));function Xr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ce(),a=Oe(),{replace:n}=Ae(),{updatePassword:o}=Te(),{updatePassword:i}=Ue(),{close:l,open:c}=at(),{keys:d,preferLegacyKeys:m}=Z(),f=We(),{useLocation:C}=qe(),{search:u}=C(),v=Ps.default.useMemo(()=>r==="legacy"?bs.default.parse(u,{ignoreQueryPrefix:!0})??{}:f.params??{},[u,f,r]),b=(0,Ba.useMutation)(d().auth().action("updatePassword").get(m),async P=>i==null?void 0:i({...v,...P}),{onSuccess:({success:P,redirectTo:p,error:E})=>{P&&(l==null||l("update-password-error")),(E||!P)&&(c==null||c(wr(E))),p&&(r==="legacy"?n(p):a({to:p,type:"replace"}))},onError:P=>{c==null||c(wr(P))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,_a.getXRay)("useUpdatePassword",m)}}),g=(0,Ba.useMutation)([...d().auth().action("updatePassword").get(m),"v3LegacyAuthProviderCompatible"],async P=>o==null?void 0:o({...v,...P}),{onSuccess:P=>{P!==!1&&P&&(r==="legacy"?n(P):a({to:P,type:"replace"})),l==null||l("update-password-error")},onError:P=>{c==null||c(wr(P))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,_a.getXRay)("useUpdatePassword",m)}});return e?g:b}s(Xr,"useUpdatePassword");var wr=s(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),Ha=h("@tanstack/react-query"),Ga=J();function nr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=Te(),{check:a}=Ue(),{keys:n,preferLegacyKeys:o}=Z(),i=(0,Ha.useQuery)(n().auth().action("check").params(t).get(o),async()=>await(a==null?void 0:a(t))??{},{retry:!1,enabled:!e,meta:{...(0,Ga.getXRay)("useIsAuthenticated",o)}}),l=(0,Ha.useQuery)([...n().auth().action("check").params(t).get(o),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,Ga.getXRay)("useIsAuthenticated",o)}});return e?l:i}s(nr,"useIsAuthenticated");var Es=nr,Va=h("@tanstack/react-query"),Xa=J();function Ee({v3LegacyAuthProviderCompatible:e=!1}={}){let t=ce(),r=Oe(),{replace:a}=Ae(),{checkError:n}=Te(),{onError:o}=Ue(),{keys:i,preferLegacyKeys:l}=Z(),{mutate:c}=Zt({v3LegacyAuthProviderCompatible:!!e}),{mutate:d}=Zt({v3LegacyAuthProviderCompatible:!!e}),m=(0,Va.useMutation)(i().auth().action("onError").get(l),o,{onSuccess:({logout:C,redirectTo:u})=>{if(C){d({redirectPath:u});return}if(u){t==="legacy"?a(u):r({to:u,type:"replace"});return}},meta:{...(0,Xa.getXRay)("useOnError",l)}}),f=(0,Va.useMutation)([...i().auth().action("onError").get(l),"v3LegacyAuthProviderCompatible"],n,{onError:C=>{c({redirectPath:C})},meta:{...(0,Xa.getXRay)("useOnError",l)}});return e?f:m}s(Ee,"useOnError");var Cs=Ee,ri=s(()=>{let{isProvided:e}=Te(),{isProvided:t}=Ue();return!!(t||e)},"useIsExistAuthentication"),ws=J(),Ls=h("@tanstack/react-query"),Lr=h("react"),me=s(({isLoading:e,interval:t,onInterval:r})=>{let[a,n]=(0,Lr.useState)(void 0),{options:o}=be(),{overtime:i}=o,l=t??i.interval,c=r??(i==null?void 0:i.onInterval);return(0,Lr.useEffect)(()=>{let d;return e&&(d=setInterval(()=>{n(m=>m===void 0?l:m+l)},l)),()=>{clearInterval(d),n(void 0)}},[e,l]),(0,Lr.useEffect)(()=>{c&&a&&c(a)},[a]),{elapsedTime:a}},"useLoadingOvertime"),Yr=s(({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:i,successNotification:l,errorNotification:c,meta:d,metaData:m,liveMode:f,onLiveEvent:C,liveParams:u,dataProviderName:v,overtimeOptions:b}={})=>{let{resources:g,resource:P,identifier:p}=G(e),E=ge(),L=ee(),A=de(),{mutate:w}=Ee({v3LegacyAuthProviderCompatible:!!(A!=null&&A.isLegacy)}),y=Ne(),q=se(),{keys:D,preferLegacyKeys:N}=Z(),M=H(p,v,g),x=F(d,m),S=F(r,t==null?void 0:t.filters),T=F(o,t==null?void 0:t.sort),R=F(a,t==null?void 0:t.hasPagination),O=Vn({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:R}),k=O.mode==="server",U=q({resource:P,meta:x}),W={meta:U,metaData:U,filters:S,hasPagination:k,pagination:O,sorters:T,config:{...t,sort:T}},I=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,{getList:j}=E(M);Rt({resource:p,types:["*"],params:{meta:U,metaData:U,pagination:O,hasPagination:k,sort:T,sorters:T,filters:S,subscriptionType:"useList",...u},channel:`resources/${P==null?void 0:P.name}`,enabled:I,liveMode:f,onLiveEvent:C,dataProviderName:M,meta:{...d,dataProviderName:v}});let K=(0,Ls.useQuery)(D().data(M).resource(p??"").action("list").params({...x||{},filters:S,hasPagination:k,...k&&{pagination:O},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(N),({queryKey:$,pageParam:_,signal:z})=>j({resource:(P==null?void 0:P.name)??"",pagination:O,hasPagination:k,filters:S,sort:T,sorters:T,meta:{...U,queryContext:{queryKey:$,pageParam:_,signal:z}},metaData:{...U,queryContext:{queryKey:$,pageParam:_,signal:z}}}),{...i,enabled:typeof(i==null?void 0:i.enabled)<"u"?i==null?void 0:i.enabled:!!(P!=null&&P.name),select:$=>{var _;let z=$,{current:X,mode:pe,pageSize:fe}=O;return pe==="client"&&(z={...z,data:z.data.slice((X-1)*fe,X*fe),total:z.total}),i!=null&&i.select?(_=i==null?void 0:i.select)==null?void 0:_.call(i,z):z},onSuccess:$=>{var _;(_=i==null?void 0:i.onSuccess)==null||_.call(i,$);let z=typeof l=="function"?l($,W,p):l;y(z)},onError:$=>{var _;w($),(_=i==null?void 0:i.onError)==null||_.call(i,$);let z=typeof c=="function"?c($,W,p):c;y(z,{key:`${p}-useList-notification`,message:L("notifications.error",{statusCode:$.statusCode},`Error (status code: ${$.statusCode})`),description:$.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,ws.getXRay)("useList",N)}}),{elapsedTime:B}=me({isLoading:K.isFetching,interval:b==null?void 0:b.interval,onInterval:b==null?void 0:b.onInterval});return{...K,overtime:{elapsedTime:B}}},"useList"),Ss=J(),xs=h("@tanstack/react-query"),Jr=s(({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:i,liveMode:l,onLiveEvent:c,liveParams:d,dataProviderName:m,overtimeOptions:f})=>{let{resources:C,resource:u,identifier:v}=G(e),b=ge(),g=ee(),P=de(),{mutate:p}=Ee({v3LegacyAuthProviderCompatible:!!(P!=null&&P.isLegacy)}),E=Ne(),L=se(),{keys:A,preferLegacyKeys:w}=Z(),y=F(o,i),q=H(v,m,C),{getOne:D}=b(q),N=L({resource:u,meta:y});Rt({resource:v,types:["*"],channel:`resources/${u==null?void 0:u.name}`,params:{ids:t?[t]:[],id:t,meta:N,metaData:N,subscriptionType:"useOne",...d},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(u==null?void 0:u.name)<"u"&&typeof t<"u",liveMode:l,onLiveEvent:c,dataProviderName:q,meta:{...o,dataProviderName:m}});let M=(0,xs.useQuery)(A().data(q).resource(v??"").action("one").id(t??"").params({...y||{}}).get(w),({queryKey:S,pageParam:T,signal:R})=>D({resource:(u==null?void 0:u.name)??"",id:t,meta:{...N,queryContext:{queryKey:S,pageParam:T,signal:R}},metaData:{...N,queryContext:{queryKey:S,pageParam:T,signal:R}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:S=>{var T;(T=r==null?void 0:r.onSuccess)==null||T.call(r,S);let R=typeof a=="function"?a(S,{id:t,...N},v):a;E(R)},onError:S=>{var T;p(S),(T=r==null?void 0:r.onError)==null||T.call(r,S);let R=typeof n=="function"?n(S,{id:t,...N},v):n;E(R,{key:`${t}-${v}-getOne-notification`,message:g("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Ss.getXRay)("useOne",w)}}),{elapsedTime:x}=me({isLoading:M.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...M,overtime:{elapsedTime:x}}},"useOne"),Ds=J(),Ns=h("@tanstack/react-query"),ai=s(({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:i,liveMode:l,onLiveEvent:c,liveParams:d,dataProviderName:m,overtimeOptions:f})=>{let{resources:C,resource:u,identifier:v}=G(e),b=ge(),g=ee(),P=de(),{mutate:p}=Ee({v3LegacyAuthProviderCompatible:!!(P!=null&&P.isLegacy)}),E=Ne(),L=se(),{keys:A,preferLegacyKeys:w}=Z(),y=F(o,i),q=H(v,m,C),D=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:N,getOne:M}=b(q),x=L({resource:u,meta:y});Rt({resource:v,types:["*"],params:{ids:t,meta:x,metaData:x,subscriptionType:"useMany",...d},channel:`resources/${u.name}`,enabled:D,liveMode:l,onLiveEvent:c,dataProviderName:q,meta:{...o,dataProviderName:m}});let S=(0,Ns.useQuery)(A().data(q).resource(v).action("many").ids(...t).params({...y||{}}).get(w),({queryKey:R,pageParam:O,signal:k})=>N?N({resource:u==null?void 0:u.name,ids:t,meta:{...x,queryContext:{queryKey:R,pageParam:O,signal:k}},metaData:{...x,queryContext:{queryKey:R,pageParam:O,signal:k}}}):rr(t.map(U=>M({resource:u==null?void 0:u.name,id:U,meta:{...x,queryContext:{queryKey:R,pageParam:O,signal:k}},metaData:{...x,queryContext:{queryKey:R,pageParam:O,signal:k}}}))),{...r,onSuccess:R=>{var O;(O=r==null?void 0:r.onSuccess)==null||O.call(r,R);let k=typeof a=="function"?a(R,t,v):a;E(k)},onError:R=>{var O;p(R),(O=r==null?void 0:r.onError)==null||O.call(r,R);let k=typeof n=="function"?n(R,t,v):n;E(k,{key:`${t[0]}-${v}-getMany-notification`,message:g("notifications.error",{statusCode:R.statusCode},`Error (status code: ${R.statusCode})`),description:R.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Ds.getXRay)("useMany",w)}}),{elapsedTime:T}=me({isLoading:S.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...S,overtime:{elapsedTime:T}}},"useMany"),qs=J(),Ya=h("@tanstack/react-query"),Yt=Q(h("react")),Sr=Q(h("lodash/isEqual")),ni=Yt.default.createContext({notifications:[],notificationDispatch:()=>!1}),ks=[],Ms=s((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Sr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Sr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Sr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),Rs=s(({children:e})=>{let[t,r]=(0,Yt.useReducer)(Ms,ks),a={notifications:t,notificationDispatch:r};return Yt.default.createElement(ni.Provider,{value:a},e,typeof window<"u"&&t.map(n=>Yt.default.createElement(Ni,{key:`${n.id}-${n.resource}-queue`,notification:n})))},"UndoableQueueContextProvider"),Qr=s(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=G(),n=(0,Ya.useQueryClient)(),o=ge(),{mutationMode:i,undoableTimeout:l}=Et(),c=ee(),d=de(),{mutate:m}=Ee({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),f=dt(),{log:C}=mt(),{notificationDispatch:u}=Ct(),v=Ne(),b=Ve(),g=se(),{options:{textTransformers:P}}=be(),{keys:p,preferLegacyKeys:E}=Z(),L=(0,Ya.useMutation)(({id:w,values:y,resource:q,mutationMode:D,undoableTimeout:N,onCancel:M,meta:x,metaData:S,dataProviderName:T})=>{let{resource:R,identifier:O}=a(q),k=g({resource:R,meta:F(x,S)}),U=D??i,W=N??l;return U!=="undoable"?o(H(O,T,r)).update({resource:R.name,id:w,variables:y,meta:k,metaData:k}):new Promise((I,j)=>{let K=s(()=>{o(H(O,T,r)).update({resource:R.name,id:w,variables:y,meta:k,metaData:k}).then($=>I($)).catch($=>j($))},"doMutation"),B=s(()=>{j({message:"mutationCancelled"})},"cancelMutation");M&&M(B),u({type:"ADD",payload:{id:w,resource:O,cancelMutation:B,doMutation:K,seconds:W,isSilent:!!M}})})},{onMutate:async({resource:w,id:y,mutationMode:q,values:D,dataProviderName:N,meta:M,metaData:x,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:T}=a(w),{gqlMutation:R,gqlQuery:O,...k}=F(M,x)??{},U=tr(E)(T,H(T,N,r),k),W=p().data(H(T,N,r)).resource(T),I=n.getQueriesData(W.get(E)),j=q??i;return await n.cancelQueries(W.get(E),void 0,{silent:!0}),j!=="pessimistic"&&(S.list&&n.setQueriesData(W.action("list").params(k??{}).get(E),K=>{if(typeof S.list=="function")return S.list(K,D,y);if(!K)return null;let B=K.data.map($=>{var _;return((_=$.id)==null?void 0:_.toString())===(y==null?void 0:y.toString())?{id:y,...$,...D}:$});return{...K,data:B}}),S.many&&n.setQueriesData(W.action("many").get(E),K=>{if(typeof S.many=="function")return S.many(K,D,y);if(!K)return null;let B=K.data.map($=>{var _;return((_=$.id)==null?void 0:_.toString())===(y==null?void 0:y.toString())&&($={id:y,...$,...D}),$});return{...K,data:B}}),S.detail&&n.setQueriesData(W.action("one").id(y).params(k??{}).get(E),K=>typeof S.detail=="function"?S.detail(K,D,y):K?{...K,data:{...K.data,...D}}:null)),{previousQueries:I,queryKey:U}},onSettled:(w,y,{id:q,resource:D,dataProviderName:N,invalidates:M=["list","many","detail"]})=>{let{identifier:x}=a(D);b({resource:x,dataProviderName:H(x,N,r),invalidates:M,id:q}),u({type:"REMOVE",payload:{id:q,resource:x}})},onSuccess:(w,{id:y,resource:q,successNotification:D,dataProviderName:N,values:M,meta:x,metaData:S},T)=>{var R;let{resource:O,identifier:k}=a(q),U=P.singular(k),W=H(k,N,r),I=g({resource:O,meta:F(x,S)}),j=typeof D=="function"?D(w,{id:y,values:M},k):D;v(j,{key:`${y}-${k}-notification`,description:c("notifications.success","Successful"),message:c("notifications.editSuccess",{resource:c(`${k}.${k}`,U)},`Successfully updated ${U}`),type:"success"}),f==null||f({channel:`resources/${O.name}`,type:"updated",payload:{ids:(R=w.data)!=null&&R.id?[w.data.id]:void 0},date:new Date,meta:{...I,dataProviderName:W}});let K;if(T){let X=n.getQueryData(T.queryKey.detail(y));K=Object.keys(M||{}).reduce((pe,fe)=>{var Ce;return pe[fe]=(Ce=X==null?void 0:X.data)==null?void 0:Ce[fe],pe},{})}let{fields:B,operation:$,variables:_,...z}=I||{};C==null||C.mutate({action:"update",resource:O.name,data:M,previousData:K,meta:{id:y,dataProviderName:W,...z}})},onError:(w,{id:y,resource:q,errorNotification:D,values:N},M)=>{let{identifier:x}=a(q);if(M)for(let S of M.previousQueries)n.setQueryData(S[0],S[1]);if(w.message!=="mutationCancelled"){m==null||m(w);let S=P.singular(x),T=typeof D=="function"?D(w,{id:y,values:N},x):D;v(T,{key:`${y}-${x}-notification`,message:c("notifications.editError",{resource:c(`${x}.${x}`,S),statusCode:w.statusCode},`Error when updating ${S} (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:p().data().mutation("update").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,qs.getXRay)("useUpdate",E)}}),{elapsedTime:A}=me({isLoading:L.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...L,overtime:{elapsedTime:A}}},"useUpdate"),Ts=J(),Os=h("@tanstack/react-query"),Zr=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=de(),{mutate:a}=Ee({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=ge(),o=Ve(),{resources:i,select:l}=G(),c=ee(),d=dt(),{log:m}=mt(),f=Ne(),C=se(),{options:{textTransformers:u}}=be(),{keys:v,preferLegacyKeys:b}=Z(),g=(0,Os.useMutation)(({resource:p,values:E,meta:L,metaData:A,dataProviderName:w})=>{let{resource:y,identifier:q}=l(p),D=C({resource:y,meta:F(L,A)});return n(H(q,w,i)).create({resource:y.name,variables:E,meta:D,metaData:D})},{onSuccess:(p,{resource:E,successNotification:L,dataProviderName:A,invalidates:w=["list","many"],values:y,meta:q,metaData:D})=>{var N,M;let{resource:x,identifier:S}=l(E),T=u.singular(S),R=H(S,A,i),O=C({resource:x,meta:F(q,D)}),k=typeof L=="function"?L(p,y,S):L;f(k,{key:`create-${S}-notification`,message:c("notifications.createSuccess",{resource:c(`${S}.${S}`,T)},`Successfully created ${T}`),description:c("notifications.success","Success"),type:"success"}),o({resource:S,dataProviderName:R,invalidates:w}),d==null||d({channel:`resources/${x.name}`,type:"created",payload:{ids:(N=p==null?void 0:p.data)!=null&&N.id?[p.data.id]:void 0},date:new Date,meta:{...O,dataProviderName:R}});let{fields:U,operation:W,variables:I,...j}=O||{};m==null||m.mutate({action:"create",resource:x.name,data:y,meta:{dataProviderName:R,id:((M=p==null?void 0:p.data)==null?void 0:M.id)??void 0,...j}})},onError:(p,{resource:E,errorNotification:L,values:A})=>{a(p);let{identifier:w}=l(E),y=u.singular(w),q=typeof L=="function"?L(p,A,w):L;f(q,{key:`create-${w}-notification`,description:p.message,message:c("notifications.createError",{resource:c(`${w}.${w}`,y),statusCode:p.statusCode},`There was an error creating ${y} (status code: ${p.statusCode})`),type:"error"})},mutationKey:v().data().mutation("create").get(b),...e,meta:{...e==null?void 0:e.meta,...(0,Ts.getXRay)("useCreate",b)}}),{elapsedTime:P}=me({isLoading:g.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...g,overtime:{elapsedTime:P}}},"useCreate"),As=J(),Ja=h("@tanstack/react-query"),$s=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=de(),{mutate:a}=Ee({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=ge(),{resources:o,select:i}=G(),l=(0,Ja.useQueryClient)(),{mutationMode:c,undoableTimeout:d}=Et(),{notificationDispatch:m}=Ct(),f=ee(),C=dt(),{log:u}=mt(),v=Ne(),b=Ve(),g=se(),{options:{textTransformers:P}}=be(),{keys:p,preferLegacyKeys:E}=Z(),L=(0,Ja.useMutation)(({id:w,mutationMode:y,undoableTimeout:q,resource:D,onCancel:N,meta:M,metaData:x,dataProviderName:S,values:T})=>{let{resource:R,identifier:O}=i(D),k=g({resource:R,meta:F(M,x)}),U=y??c,W=q??d;return U!=="undoable"?n(H(O,S,o)).deleteOne({resource:R.name,id:w,meta:k,metaData:k,variables:T}):new Promise((I,j)=>{let K=s(()=>{n(H(O,S,o)).deleteOne({resource:R.name,id:w,meta:k,metaData:k,variables:T}).then($=>I($)).catch($=>j($))},"doMutation"),B=s(()=>{j({message:"mutationCancelled"})},"cancelMutation");N&&N(B),m({type:"ADD",payload:{id:w,resource:O,cancelMutation:B,doMutation:K,seconds:W,isSilent:!!N}})})},{onMutate:async({id:w,resource:y,mutationMode:q,dataProviderName:D,meta:N,metaData:M})=>{let{identifier:x}=i(y),{gqlMutation:S,gqlQuery:T,...R}=F(N,M)??{},O=tr(E)(x,H(x,D,o),R),k=p().data(H(x,D,o)).resource(x),U=q??c;await l.cancelQueries(k.get(E),void 0,{silent:!0});let W=l.getQueriesData(k.get(E));return U!=="pessimistic"&&(l.setQueriesData(k.action("list").params(R??{}).get(E),I=>I?{data:I.data.filter(j=>{var K;return((K=j.id)==null?void 0:K.toString())!==w.toString()}),total:I.total-1}:null),l.setQueriesData(k.action("many").get(E),I=>{if(!I)return null;let j=I.data.filter(K=>{var B;return((B=K.id)==null?void 0:B.toString())!==(w==null?void 0:w.toString())});return{...I,data:j}})),{previousQueries:W,queryKey:O}},onSettled:(w,y,{id:q,resource:D,dataProviderName:N,invalidates:M=["list","many"]})=>{let{identifier:x}=i(D);b({resource:x,dataProviderName:H(x,N,o),invalidates:M}),m({type:"REMOVE",payload:{id:q,resource:x}})},onSuccess:(w,{id:y,resource:q,successNotification:D,dataProviderName:N,meta:M,metaData:x},S)=>{let{resource:T,identifier:R}=i(q),O=P.singular(R),k=H(R,N,o),U=g({resource:T,meta:F(M,x)});l.removeQueries(S==null?void 0:S.queryKey.detail(y));let W=typeof D=="function"?D(w,y,R):D;v(W,{key:`${y}-${R}-notification`,description:f("notifications.success","Success"),message:f("notifications.deleteSuccess",{resource:f(`${R}.${R}`,O)},`Successfully deleted a ${O}`),type:"success"}),C==null||C({channel:`resources/${T.name}`,type:"deleted",payload:{ids:[y]},date:new Date,meta:{...U,dataProviderName:k}});let{fields:I,operation:j,variables:K,...B}=U||{};u==null||u.mutate({action:"delete",resource:T.name,meta:{id:y,dataProviderName:k,...B}}),l.removeQueries(S==null?void 0:S.queryKey.detail(y))},onError:(w,{id:y,resource:q,errorNotification:D},N)=>{let{identifier:M}=i(q);if(N)for(let x of N.previousQueries)l.setQueryData(x[0],x[1]);if(w.message!=="mutationCancelled"){a(w);let x=P.singular(M),S=typeof D=="function"?D(w,y,M):D;v(S,{key:`${y}-${M}-notification`,message:f("notifications.deleteError",{resource:x,statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:p().data().mutation("delete").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,As.getXRay)("useDelete",E)}}),{elapsedTime:A}=me({isLoading:L.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...L,overtime:{elapsedTime:A}}},"useDelete"),Is=J(),Fs=h("@tanstack/react-query"),ii=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ge(),{resources:a,select:n}=G(),o=ee(),i=dt(),l=Ne(),c=Ve(),{log:d}=mt(),m=se(),{options:{textTransformers:f}}=be(),{keys:C,preferLegacyKeys:u}=Z(),v=(0,Fs.useMutation)(({resource:g,values:P,meta:p,metaData:E,dataProviderName:L})=>{let{resource:A,identifier:w}=n(g),y=m({resource:A,meta:F(p,E)}),q=r(H(w,L,a));return q.createMany?q.createMany({resource:A.name,variables:P,meta:y,metaData:y}):rr(P.map(D=>q.create({resource:A.name,variables:D,meta:y,metaData:y})))},{onSuccess:(g,{resource:P,successNotification:p,dataProviderName:E,invalidates:L=["list","many"],values:A,meta:w,metaData:y})=>{let{resource:q,identifier:D}=n(P),N=f.plural(D),M=H(D,E,a),x=m({resource:q,meta:F(w,y)}),S=typeof p=="function"?p(g,A,D):p;l(S,{key:`createMany-${D}-notification`,message:o("notifications.createSuccess",{resource:o(`${D}.${D}`,D)},`Successfully created ${N}`),description:o("notifications.success","Success"),type:"success"}),c({resource:D,dataProviderName:M,invalidates:L});let T=g==null?void 0:g.data.filter(W=>(W==null?void 0:W.id)!==void 0).map(W=>W.id);i==null||i({channel:`resources/${q.name}`,type:"created",payload:{ids:T},date:new Date,meta:{...x,dataProviderName:M}});let{fields:R,operation:O,variables:k,...U}=x||{};d==null||d.mutate({action:"createMany",resource:q.name,data:A,meta:{dataProviderName:M,ids:T,...U}})},onError:(g,{resource:P,errorNotification:p,values:E})=>{let{identifier:L}=n(P),A=typeof p=="function"?p(g,E,L):p;l(A,{key:`createMany-${L}-notification`,description:g.message,message:o("notifications.createError",{resource:o(`${L}.${L}`,L),statusCode:g.statusCode},`There was an error creating ${L} (status code: ${g.statusCode}`),type:"error"})},mutationKey:C().data().mutation("createMany").get(u),...e,meta:{...e==null?void 0:e.meta,...(0,Is.getXRay)("useCreateMany",u)}}),{elapsedTime:b}=me({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:b}}},"useCreateMany"),Qs=J(),Za=h("@tanstack/react-query"),Ks=s(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=G(),n=(0,Za.useQueryClient)(),o=ge(),i=ee(),{mutationMode:l,undoableTimeout:c}=Et(),d=de(),{mutate:m}=Ee({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),{notificationDispatch:f}=Ct(),C=dt(),u=Ne(),v=Ve(),{log:b}=mt(),g=se(),{options:{textTransformers:P}}=be(),{keys:p,preferLegacyKeys:E}=Z(),L=(0,Za.useMutation)(({ids:w,values:y,resource:q,onCancel:D,mutationMode:N,undoableTimeout:M,meta:x,metaData:S,dataProviderName:T})=>{let{resource:R,identifier:O}=a(q),k=g({resource:R,meta:F(x,S)}),U=N??l,W=M??c,I=o(H(O,T,r)),j=s(()=>I.updateMany?I.updateMany({resource:R.name,ids:w,variables:y,meta:k,metaData:k}):rr(w.map(K=>I.update({resource:R.name,id:K,variables:y,meta:k,metaData:k}))),"mutationFn");return U!=="undoable"?j():new Promise((K,B)=>{let $=s(()=>{j().then(z=>K(z)).catch(z=>B(z))},"doMutation"),_=s(()=>{B({message:"mutationCancelled"})},"cancelMutation");D&&D(_),f({type:"ADD",payload:{id:w,resource:O,cancelMutation:_,doMutation:$,seconds:W,isSilent:!!D}})})},{onMutate:async({resource:w,ids:y,values:q,mutationMode:D,dataProviderName:N,meta:M,metaData:x,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:T}=a(w),{gqlMutation:R,gqlQuery:O,...k}=F(M,x)??{},U=tr(E)(T,H(T,N,r),k),W=p().data(H(T,N,r)).resource(T),I=D??l;await n.cancelQueries(W.get(E),void 0,{silent:!0});let j=n.getQueriesData(W.get(E));if(I!=="pessimistic"&&(S.list&&n.setQueriesData(W.action("list").params(k??{}).get(E),K=>{if(typeof S.list=="function")return S.list(K,q,y);if(!K)return null;let B=K.data.map($=>$.id!==void 0&&y.filter(_=>_!==void 0).map(String).includes($.id.toString())?{...$,...q}:$);return{...K,data:B}}),S.many&&n.setQueriesData(W.action("many").get(E),K=>{if(typeof S.many=="function")return S.many(K,q,y);if(!K)return null;let B=K.data.map($=>$.id!==void 0&&y.filter(_=>_!==void 0).map(String).includes($.id.toString())?{...$,...q}:$);return{...K,data:B}}),S.detail))for(let K of y)n.setQueriesData(W.action("one").id(K).params(k??{}).get(E),B=>{if(typeof S.detail=="function")return S.detail(B,q,K);if(!B)return null;let $={...B.data,...q};return{...B,data:$}});return{previousQueries:j,queryKey:U}},onSettled:(w,y,{ids:q,resource:D,dataProviderName:N})=>{let{identifier:M}=a(D);v({resource:M,invalidates:["list","many"],dataProviderName:H(M,N,r)}),q.forEach(x=>v({resource:M,invalidates:["detail"],dataProviderName:H(M,N,r),id:x})),f({type:"REMOVE",payload:{id:q,resource:M}})},onSuccess:(w,{ids:y,resource:q,meta:D,metaData:N,dataProviderName:M,successNotification:x,values:S},T)=>{let{resource:R,identifier:O}=a(q),k=P.singular(O),U=H(O,M,r),W=g({resource:R,meta:F(D,N)}),I=typeof x=="function"?x(w,{ids:y,values:S},O):x;u(I,{key:`${y}-${O}-notification`,description:i("notifications.success","Successful"),message:i("notifications.editSuccess",{resource:i(`${O}.${O}`,O)},`Successfully updated ${k}`),type:"success"}),C==null||C({channel:`resources/${R.name}`,type:"updated",payload:{ids:y.map(String)},date:new Date,meta:{...W,dataProviderName:U}});let j=[];T&&y.forEach(z=>{let X=n.getQueryData(T.queryKey.detail(z));j.push(Object.keys(S||{}).reduce((pe,fe)=>{var Ce;return pe[fe]=(Ce=X==null?void 0:X.data)==null?void 0:Ce[fe],pe},{}))});let{fields:K,operation:B,variables:$,..._}=W||{};b==null||b.mutate({action:"updateMany",resource:R.name,data:S,previousData:j,meta:{ids:y,dataProviderName:U,..._}})},onError:(w,{ids:y,resource:q,errorNotification:D,values:N},M)=>{let{identifier:x}=a(q);if(M)for(let S of M.previousQueries)n.setQueryData(S[0],S[1]);if(w.message!=="mutationCancelled"){m==null||m(w);let S=P.singular(x),T=typeof D=="function"?D(w,{ids:y,values:N},x):D;u(T,{key:`${y}-${x}-updateMany-error-notification`,message:i("notifications.editError",{resource:S,statusCode:w.statusCode},`Error when updating ${S} (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:p().data().mutation("updateMany").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,Qs.getXRay)("useUpdateMany",E)}}),{elapsedTime:A}=me({isLoading:L.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...L,overtime:{elapsedTime:A}}},"useUpdateMany"),Us=J(),en=h("@tanstack/react-query"),Ws=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=de(),{mutate:a}=Ee({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:n,undoableTimeout:o}=Et(),i=ge(),{notificationDispatch:l}=Ct(),c=ee(),d=dt(),m=Ne(),f=Ve(),{log:C}=mt(),{resources:u,select:v}=G(),b=(0,en.useQueryClient)(),g=se(),{options:{textTransformers:P}}=be(),{keys:p,preferLegacyKeys:E}=Z(),L=(0,en.useMutation)(({resource:w,ids:y,mutationMode:q,undoableTimeout:D,onCancel:N,meta:M,metaData:x,dataProviderName:S,values:T})=>{let{resource:R,identifier:O}=v(w),k=g({resource:R,meta:F(M,x)}),U=q??n,W=D??o,I=i(H(O,S,u)),j=s(()=>I.deleteMany?I.deleteMany({resource:R.name,ids:y,meta:k,metaData:k,variables:T}):rr(y.map(K=>I.deleteOne({resource:R.name,id:K,meta:k,metaData:k,variables:T}))),"mutationFn");return U!=="undoable"?j():new Promise((K,B)=>{let $=s(()=>{j().then(z=>K(z)).catch(z=>B(z))},"doMutation"),_=s(()=>{B({message:"mutationCancelled"})},"cancelMutation");N&&N(_),l({type:"ADD",payload:{id:y,resource:O,cancelMutation:_,doMutation:$,seconds:W,isSilent:!!N}})})},{onMutate:async({ids:w,resource:y,mutationMode:q,dataProviderName:D,meta:N,metaData:M})=>{let{identifier:x}=v(y),{gqlMutation:S,gqlQuery:T,...R}=F(N,M)??{},O=tr(E)(x,H(x,D,u),R),k=p().data(H(x,D,u)).resource(x),U=q??n;await b.cancelQueries(k.get(E),void 0,{silent:!0});let W=b.getQueriesData(k.get(E));if(U!=="pessimistic"){b.setQueriesData(k.action("list").params(R??{}).get(E),I=>I?{data:I.data.filter(j=>j.id&&!w.map(String).includes(j.id.toString())),total:I.total-1}:null),b.setQueriesData(k.action("many").get(E),I=>{if(!I)return null;let j=I.data.filter(K=>K.id?!w.map(String).includes(K.id.toString()):!1);return{...I,data:j}});for(let I of w)b.setQueriesData(k.action("one").id(I).params(R).get(E),j=>!j||j.data.id==I?null:{...j})}return{previousQueries:W,queryKey:O}},onSettled:(w,y,{resource:q,ids:D,dataProviderName:N,invalidates:M=["list","many"]})=>{let{identifier:x}=v(q);f({resource:x,dataProviderName:H(x,N,u),invalidates:M}),l({type:"REMOVE",payload:{id:D,resource:x}})},onSuccess:(w,{ids:y,resource:q,meta:D,metaData:N,dataProviderName:M,successNotification:x},S)=>{let{resource:T,identifier:R}=v(q),O=H(R,M,u),k=g({resource:T,meta:F(D,N)});y.forEach(B=>b.removeQueries(S==null?void 0:S.queryKey.detail(B)));let U=typeof x=="function"?x(w,y,R):x;m(U,{key:`${y}-${R}-notification`,description:c("notifications.success","Success"),message:c("notifications.deleteSuccess",{resource:c(`${R}.${R}`,R)},`Successfully deleted ${R}`),type:"success"}),d==null||d({channel:`resources/${T.name}`,type:"deleted",payload:{ids:y},date:new Date,meta:{...k,dataProviderName:O}});let{fields:W,operation:I,variables:j,...K}=k||{};C==null||C.mutate({action:"deleteMany",resource:T.name,meta:{ids:y,dataProviderName:O,...K}}),y.forEach(B=>b.removeQueries(S==null?void 0:S.queryKey.detail(B)))},onError:(w,{ids:y,resource:q,errorNotification:D},N)=>{let{identifier:M}=v(q);if(N)for(let x of N.previousQueries)b.setQueryData(x[0],x[1]);if(w.message!=="mutationCancelled"){a(w);let x=P.singular(M),S=typeof D=="function"?D(w,y,M):D;m(S,{key:`${y}-${M}-notification`,message:c("notifications.deleteError",{resource:x,statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:p().data().mutation("deleteMany").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,Us.getXRay)("useDeleteMany",E)}}),{elapsedTime:A}=me({isLoading:L.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...L,overtime:{elapsedTime:A}}},"useDeleteMany"),js=s(e=>{var t;let r=ge(),{resource:a}=G(),{getApiUrl:n}=r(e??((t=F(a==null?void 0:a.meta,a==null?void 0:a.options))==null?void 0:t.dataProviderName));return n()},"useApiUrl"),zs=h("@tanstack/react-query"),Bs=J(),_s=s(({url:e,method:t,config:r,queryOptions:a,successNotification:n,errorNotification:o,meta:i,metaData:l,dataProviderName:c,overtimeOptions:d})=>{let m=ge(),f=de(),{mutate:C}=Ee({v3LegacyAuthProviderCompatible:!!(f!=null&&f.isLegacy)}),u=ee(),v=Ne(),b=se(),{keys:g,preferLegacyKeys:P}=Z(),p=F(i,l),{custom:E}=m(c),L=b({meta:p});if(E){let A=(0,zs.useQuery)({queryKey:g().data(c).mutation("custom").params({method:t,url:e,...r,...p||{}}).get(P),queryFn:({queryKey:y,pageParam:q,signal:D})=>E({url:e,method:t,...r,meta:{...L,queryContext:{queryKey:y,pageParam:q,signal:D}},metaData:{...L,queryContext:{queryKey:y,pageParam:q,signal:D}}}),...a,onSuccess:y=>{var q;(q=a==null?void 0:a.onSuccess)==null||q.call(a,y);let D=typeof n=="function"?n(y,{...r,...L}):n;v(D)},onError:y=>{var q;C(y),(q=a==null?void 0:a.onError)==null||q.call(a,y);let D=typeof o=="function"?o(y,{...r,...L}):o;v(D,{key:`${t}-notification`,message:u("notifications.error",{statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Bs.getXRay)("useCustom",P)}}),{elapsedTime:w}=me({isLoading:A.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{...A,overtime:{elapsedTime:w}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),Hs=h("@tanstack/react-query"),Gs=J(),Vs=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=de(),{mutate:a}=Ee({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=Ne(),o=ge(),i=ee(),l=se(),{keys:c,preferLegacyKeys:d}=Z(),m=(0,Hs.useMutation)(({url:C,method:u,values:v,meta:b,metaData:g,dataProviderName:P,config:p})=>{let E=l({meta:F(b,g)}),{custom:L}=o(P);if(L)return L({url:C,method:u,payload:v,meta:E,metaData:E,headers:{...p==null?void 0:p.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(C,{successNotification:u,config:v,meta:b,metaData:g})=>{let P=typeof u=="function"?u(C,{...v,...F(b,g)||{}}):u;n(P)},onError:(C,{errorNotification:u,method:v,config:b,meta:g,metaData:P})=>{a(C);let p=typeof u=="function"?u(C,{...b,...F(g,P)||{}}):u;n(p,{key:`${v}-notification`,message:i("notifications.error",{statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})},mutationKey:c().data().mutation("customMutation").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,Gs.getXRay)("useCustomMutation",d)}}),{elapsedTime:f}=me({isLoading:m.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...m,overtime:{elapsedTime:f}}},"useCustomMutation"),tn=h("react"),oi=Q(h("react")),Xs=s(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),ea=oi.default.createContext(Xs()),Ys=s(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},oi.default.createElement(ea.Provider,{value:r},e)},"DataContextProvider"),ge=s(()=>{let e=(0,tn.useContext)(ea);return(0,tn.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),Js=J(),Zs=h("@tanstack/react-query"),el=s(({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:i,successNotification:l,errorNotification:c,meta:d,metaData:m,liveMode:f,onLiveEvent:C,liveParams:u,dataProviderName:v,overtimeOptions:b})=>{let{resources:g,resource:P,identifier:p}=G(e),E=ge(),L=ee(),A=de(),{mutate:w}=Ee({v3LegacyAuthProviderCompatible:!!(A!=null&&A.isLegacy)}),y=Ne(),q=se(),{keys:D,preferLegacyKeys:N}=Z(),M=H(p,v,g),x=F(d,m),S=F(r,t==null?void 0:t.filters),T=F(o,t==null?void 0:t.sort),R=F(a,t==null?void 0:t.hasPagination),O=Vn({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:R}),k=O.mode==="server",U={meta:x,metaData:x,filters:S,hasPagination:k,pagination:O,sorters:T,config:{...t,sort:T}},W=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,I=q({resource:P,meta:x}),{getList:j}=E(M);Rt({resource:p,types:["*"],params:{meta:I,metaData:I,pagination:O,hasPagination:k,sort:T,sorters:T,filters:S,subscriptionType:"useList",...u},channel:`resources/${P.name}`,enabled:W,liveMode:f,onLiveEvent:C,dataProviderName:M,meta:{...I,dataProviderName:v}});let K=(0,Zs.useInfiniteQuery)(D().data(M).resource(p).action("infinite").params({...x||{},filters:S,hasPagination:k,...k&&{pagination:O},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(N),({queryKey:$,pageParam:_,signal:z})=>{let X={...O,current:_};return j({resource:P.name,pagination:X,hasPagination:k,filters:S,sort:T,sorters:T,meta:{...I,queryContext:{queryKey:$,pageParam:_,signal:z}},metaData:{...I,queryContext:{queryKey:$,pageParam:_,signal:z}}}).then(({data:pe,total:fe,...Ce})=>({data:pe,total:fe,pagination:X,...Ce}))},{getNextPageParam:$=>zn($),getPreviousPageParam:$=>Bn($),...i,onSuccess:$=>{var _;(_=i==null?void 0:i.onSuccess)==null||_.call(i,$);let z=typeof l=="function"?l($,U,p):l;y(z)},onError:$=>{var _;w($),(_=i==null?void 0:i.onError)==null||_.call(i,$);let z=typeof c=="function"?c($,U,p):c;y(z,{key:`${p}-useInfiniteList-notification`,message:L("notifications.error",{statusCode:$.statusCode},`Error (status code: ${$.statusCode})`),description:$.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,Js.getXRay)("useInfiniteList",N)}}),{elapsedTime:B}=me({isLoading:K.isFetching,interval:b==null?void 0:b.interval,onInterval:b==null?void 0:b.onInterval});return{...K,overtime:{elapsedTime:B}}},"useInfiniteList"),si=Q(h("react")),qt=si.default.createContext(void 0),tl=s(({liveProvider:e,children:t})=>si.default.createElement(qt.Provider,{value:e},t),"LiveContextProvider"),rl=h("react"),al=h("@tanstack/react-query"),nl=h("react"),li=Q(h("react")),il=h("react"),ol=h("react"),sl=Q(h("lodash/isEqual")),ll=s(e=>{let t=(0,ol.useRef)(e);return(0,sl.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),ui=s((e,t)=>{let r=ll(t);return(0,il.useMemo)(e,r)},"useDeepMemo"),kt=li.default.createContext({resources:[]}),ul=s(({resources:e,children:t})=>{let r=ui(()=>_n(e??[]),[e]);return li.default.createElement(kt.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),di=Q(h("react")),ci=di.default.createContext("new"),dl=ci.Provider,ce=s(()=>di.default.useContext(ci),"useRouterType"),cl=Q(h("react")),mi=Q(h("react")),vi={},Mt=(0,mi.createContext)(vi),ml=s(({children:e,router:t})=>mi.default.createElement(Mt.Provider,{value:t??vi},e),"RouterBindingsProvider"),rn=Q(h("react")),pi=s(()=>{let e=(0,rn.useContext)(Mt);return rn.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),We=s(()=>{let e=pi();return cl.default.useMemo(()=>e(),[e])},"useParsed");function G(e){let{resources:t}=(0,nl.useContext)(kt),r=ce(),a=We(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},o=s((f,C=!0)=>{let u=ve(f,t,r==="legacy");if(u)return{resource:u,identifier:u.identifier??u.name};if(C){let v={name:f,identifier:f},b=v.identifier??v.name;return{resource:v,identifier:b}}},"select"),i=fi(),{useParams:l}=qe(),c=l();if(r==="legacy"){let f=n.resourceNameOrRouteName?n.resourceNameOrRouteName:c.resource,C=f?i(f):void 0,u=(n==null?void 0:n.recordItemId)??c.id,v=c.action,b=(n==null?void 0:n.resourceName)??(C==null?void 0:C.name),g=(C==null?void 0:C.identifier)??(C==null?void 0:C.name);return{resources:t,resource:C,resourceName:b,id:u,action:v,select:o,identifier:g}}let d,m=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(m){let f=ve(m,t);f?d=f:d={name:m}}else a!=null&&a.resource&&(d=a.resource);return{resources:t,resource:d,resourceName:d==null?void 0:d.name,id:a.id,action:a.action,select:o,identifier:(d==null?void 0:d.identifier)??(d==null?void 0:d.name)}}s(G,"useResource");var an=h("react"),fi=s(()=>{let{resources:e}=(0,an.useContext)(kt);return(0,an.useCallback)(t=>ve(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),Ve=s(()=>{let{resources:e}=G(),t=(0,al.useQueryClient)(),{keys:r,preferLegacyKeys:a}=Z();return(0,rl.useCallback)(async({resource:n,dataProviderName:o,invalidates:i,id:l,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:d={cancelRefetch:!1}})=>{if(i===!1)return;let m=H(n,o,e),f=r().data(m).resource(n??"");await Promise.all(i.map(C=>{switch(C){case"all":return t.invalidateQueries(r().data(m).get(a),c,d);case"list":return t.invalidateQueries(f.action("list").get(a),c,d);case"many":return t.invalidateQueries(f.action("many").get(a),c,d);case"resourceAll":return t.invalidateQueries(f.get(a),c,d);case"detail":return t.invalidateQueries(f.action("one").id(l||"").get(a),c,d);default:return}}))},[])},"useInvalidate"),xr=h("react"),Rt=s(({resource:e,params:t,channel:r,types:a,enabled:n=!0,liveMode:o,onLiveEvent:i,dataProviderName:l,meta:c})=>{var d;let{resource:m,identifier:f}=G(e),C=(0,xr.useContext)(qt),{liveMode:u,onLiveEvent:v}=(0,xr.useContext)(rt),b=o??u,g=Ve(),P=l??(c==null?void 0:c.dataProviderName)??((d=m==null?void 0:m.meta)==null?void 0:d.dataProviderName);(0,xr.useEffect)(()=>{let p,E=s(L=>{b==="auto"&&g({resource:f,dataProviderName:P,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),i==null||i(L),v==null||v(L)},"callback");return b&&b!=="off"&&n&&(p=C==null?void 0:C.subscribe({channel:r,params:{resource:m==null?void 0:m.name,...t},types:a,callback:E,dataProviderName:P,meta:{...c,dataProviderName:P}})),()=>{p&&(C==null||C.unsubscribe(p))}},[n])},"useResourceSubscription"),vl=h("react"),gi=s(e=>{let{liveMode:t}=(0,vl.useContext)(rt);return e??t},"useLiveMode"),nn=h("react"),pl=s(({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:n,dataProviderName:o="default",meta:i})=>{let l=(0,nn.useContext)(qt);(0,nn.useEffect)(()=>{let c;return a&&(c=l==null?void 0:l.subscribe({channel:t,params:e,types:r,callback:n,dataProviderName:o,meta:{...i,dataProviderName:o}})),()=>{c&&(l==null||l.unsubscribe(c))}},[a])},"useSubscription"),fl=h("react"),dt=s(()=>{let e=(0,fl.useContext)(qt);return e==null?void 0:e.publish},"usePublish"),gl=h("react"),Ct=s(()=>{let{notifications:e,notificationDispatch:t}=(0,gl.useContext)(ni);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),yl=h("react"),yi=Q(h("react")),ta=(0,yi.createContext)({}),hl=s(({open:e,close:t,children:r})=>yi.default.createElement(ta.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),at=s(()=>{let{open:e,close:t}=(0,yl.useContext)(ta);return{open:e,close:t}},"useNotification"),Pl=h("react"),Ne=s(()=>{let{open:e}=at();return(0,Pl.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),on=h("react"),hi=Q(h("react")),ct=hi.default.createContext({}),bl=s(({children:e,i18nProvider:t})=>hi.default.createElement(ct.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),El=s(()=>{let{i18nProvider:e}=(0,on.useContext)(ct);return(0,on.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),sn=h("react"),ee=s(()=>{let{i18nProvider:e}=(0,sn.useContext)(ct);return(0,sn.useMemo)(()=>{function t(r,a,n){return(e==null?void 0:e.translate(r,a,n))??n??(typeof a=="string"&&typeof n>"u"?a:r)}return s(t,"translate"),t},[e])},"useTranslate"),ln=h("react"),Cl=s(()=>{let{i18nProvider:e}=(0,ln.useContext)(ct);return(0,ln.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),wl=h("react"),Ll=h("export-to-csv-fix-source-map"),Sl=s(({resourceName:e,resource:t,sorter:r,sorters:a,filters:n,maxItemCount:o,pageSize:i=20,mapData:l=s(u=>u,"mapData"),exportOptions:c,meta:d,metaData:m,dataProviderName:f,onError:C}={})=>{let[u,v]=(0,wl.useState)(!1),b=ge(),g=se(),{resource:P,resources:p,identifier:E}=G(F(t,e)),L=`${zr()(E,"plural")}-${new Date().toLocaleString()}`,{getList:A}=b(H(E,f,p)),w=g({resource:P,meta:F(d,m)});return{isLoading:u,triggerExport:s(async()=>{v(!0);let y=[],q=1,D=!0;for(;D;)try{let{data:N,total:M}=await A({resource:(P==null?void 0:P.name)??"",filters:n,sort:F(a,r),sorters:F(a,r),pagination:{current:q,pageSize:i,mode:"server"},meta:w,metaData:w});q++,y.push(...N),o&&y.length>=o&&(y=y.slice(0,o),D=!1),M===y.length&&(D=!1)}catch(N){v(!1),D=!1,C==null||C(N);return}new Ll.ExportToCsv({filename:L,useKeysAsHeaders:!0,...c}).generateCsv(y.map(l)),v(!1)},"triggerExport")}},"useExport"),Dr=Q(h("react")),xl=Q(h("warn-once")),Dl=Q(h("lodash/debounce")),Nl=s(({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:n,redirect:o,successNotification:i,errorNotification:l,meta:c,metaData:d,queryMeta:m,mutationMeta:f,mutationMode:C,liveMode:u,onLiveEvent:v,liveParams:b,undoableTimeout:g,dataProviderName:P,invalidates:p,queryOptions:E,createMutationOptions:L,updateMutationOptions:A,overtimeOptions:w,autoSave:y,optimisticUpdateMap:q}={})=>{let D=Ve(),{options:N}=be(),M=se(),{resource:x,id:S,action:T,identifier:R}=G(e),{identifier:O}=G(),k=s(()=>e&&e!==O?r:r??S,"getDefaultId")(),[U,W]=Dr.default.useState(k);Dr.default.useEffect(()=>{W(k)},[k]);let I=s(()=>t||(T==="edit"||T==="clone"?T:"create"),"getAction")(),j=M({resource:x,meta:F(c,d)}),{mutationMode:K}=Et(),B=C??K,$=I==="create",_=I==="edit",z=I==="clone";(0,xl.default)((z||_)&&!!e&&!r&&(E==null?void 0:E.enabled)!==!1,`[useForm]: action: "${I}", resource: "${R}", id: ${U} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let X=Zo({redirectFromProps:o,action:I,redirectOptions:N.redirect}),pe=Jr({resource:R,id:U??"",queryOptions:{enabled:U!==void 0&&(_||z),...E},liveMode:u,onLiveEvent:v,liveParams:b,meta:{...j,...m},metaData:{...j,...m},dataProviderName:P}),{isFetching:fe}=pe,Ce=Zr({mutationOptions:L}),{mutate:$t,isLoading:It}=Ce,Ie=Qr({mutationOptions:A}),{mutate:Ft,isLoading:Xe}=Ie,Ye=Qr({}),{setWarnWhen:it}=jr(),Je=Pi(),pt=s(async ne=>{it(!1);let Fe=s(ie=>{Je({redirect:X,resource:x,id:ie,meta:F(c,d)})},"onSuccess");return B!=="pessimistic"&&setTimeout(()=>{Fe()}),new Promise((ie,ze)=>{if(B!=="pessimistic"&&ie(),!!x)return $t({values:ne,resource:R??x.name,successNotification:i,errorNotification:l,meta:{...j,...f},metaData:{...j,...f},dataProviderName:P,invalidates:p},{onSuccess:(le,Qe,Ke)=>{var Be;a&&a(le,ne,Ke);let _e=(Be=le==null?void 0:le.data)==null?void 0:Be.id;Fe(_e),ie(le)},onError:(le,Qe,Ke)=>{if(n)return n(le,ne,Ke);ze()}})})},"onFinishCreate");Dr.default.useEffect(()=>()=>{y!=null&&y.invalidateOnUnmount&&Ye.status==="success"&&D({id:U,invalidates:p||["list","many","detail"],dataProviderName:P,resource:R})},[y==null?void 0:y.invalidateOnUnmount,Ye.status]);let ft=s(ne=>{if(!x||!_)return;let Fe={id:U??"",values:ne,resource:R??x.name,successNotification:!1,errorNotification:!1,meta:{...j,...f},metaData:{...j,...f},dataProviderName:P,invalidates:[],mutationMode:"pessimistic"};return Ye.mutate(Fe,{onSuccess:(ie,ze,le)=>{a&&a(ie,ne,le,!0)},onError:(ie,ze,le)=>{if(n)return n(ie,ne,le,!0)}})},"onFinishAutoSaveMutation"),Qt=(0,Dl.default)(ne=>ft(ne),(y==null?void 0:y.debounce)||1e3),St=$||z?{formLoading:fe||It,mutationResult:Ce,onFinish:pt}:{formLoading:fe||Xe,mutationResult:Ie,onFinish:s(async ne=>{if(it(!1),!x)return;let Fe={id:U??"",values:ne,resource:R??x.name,mutationMode:B,undoableTimeout:g,successNotification:i,errorNotification:l,meta:{...j,...f},metaData:{...j,...f},dataProviderName:P,invalidates:p,optimisticUpdateMap:q},ie=s(()=>{Je({redirect:X,resource:x,id:U,meta:F(c,d)})},"onSuccess");return B!=="pessimistic"&&setTimeout(()=>{ie()}),new Promise((ze,le)=>(B!=="pessimistic"&&ze(),setTimeout(()=>{Ft(Fe,{onSuccess:(Qe,Ke,Be)=>{a&&a(Qe,ne,Be),B==="pessimistic"&&ie(),ze(Qe)},onError:(Qe,Ke,Be)=>{if(n)return n(Qe,ne,Be);le()}})})))},"onFinishUpdate")},{elapsedTime:vr}=me({isLoading:St.mutationResult.isLoading||pe.isFetching,interval:w==null?void 0:w.interval,onInterval:w==null?void 0:w.onInterval});return{...St,queryResult:pe,onFinishAutoSave:Qt,autoSaveProps:{status:Ye.status,data:Ye.data,error:Ye.error},id:U,setId:W,redirect:(ne,Fe)=>{Je({redirect:ne!==void 0?ne:_?"list":"edit",resource:x,id:Fe??U,meta:F(c,d)})},overtime:{elapsedTime:vr}}},"useForm"),ql=h("react"),Pi=s(()=>{let{show:e,edit:t,list:r,create:a}=Ae();return(0,ql.useCallback)(({redirect:n,resource:o,id:i,meta:l={}})=>{if(n&&o)return o.show&&n==="show"&&i?e(o,i,void 0,l):o.edit&&n==="edit"&&i?t(o,i,void 0,l):o.create&&n==="create"?a(o,void 0,l):r(o,"push",l)},[])},"useRedirectionAfterSubmission"),Nr=Q(h("react")),kl=Q(h("react")),ir=s(()=>{let e=ce(),{resource:t,resources:r}=G(),a=We();return kl.default.useCallback(({resource:n,action:o,meta:i})=>{var l;let c=n||t;if(!c)return;let d=(l=xe(c,r,e==="legacy").find(m=>m.action===o))==null?void 0:l.route;return d?Me(d,c==null?void 0:c.meta,a,i):void 0},[r,t,a])},"useGetToPath"),Oe=s(()=>{let e=(0,Nr.useContext)(Mt),{select:t}=G(),r=ir(),a=Nr.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,Nr.useCallback)(n=>{if(typeof n.to!="object")return a({...n,to:n.to});let{resource:o}=t(n.to.resource);Ml(n.to,o);let i=r({resource:o,action:n.to.action,meta:{id:n.to.id}});return a({...n,to:i})},[t,a])},"useGo"),Ml=s((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors"),un=Q(h("react")),bi=s(()=>{let e=(0,un.useContext)(Mt);return un.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),Ae=s(()=>{let{resources:e}=G(),t=ce(),{useHistory:r}=qe(),a=r(),n=We(),o=Oe(),i=bi(),l=s((u,v="push")=>{t==="legacy"?a[v](u):o({to:u,type:v})},"handleUrl"),c=s((u,v={})=>{var b;if(t==="legacy"){let g=typeof u=="string"?ve(u,e,!0)??{name:u,route:u}:u,P=xe(g,e,!0).find(p=>p.action==="create");return P?Me(P.route,g==null?void 0:g.meta,n,v):""}else{let g=typeof u=="string"?ve(u,e)??{name:u}:u,P=(b=xe(g,e).find(p=>p.action==="create"))==null?void 0:b.route;return P?o({to:Me(P,g==null?void 0:g.meta,n,v),type:"path"}):""}},"createUrl"),d=s((u,v,b={})=>{var g;let P=encodeURIComponent(v);if(t==="legacy"){let p=typeof u=="string"?ve(u,e,!0)??{name:u,route:u}:u,E=xe(p,e,!0).find(L=>L.action==="edit");return E?Me(E.route,p==null?void 0:p.meta,n,{...b,id:P}):""}else{let p=typeof u=="string"?ve(u,e)??{name:u}:u,E=(g=xe(p,e).find(L=>L.action==="edit"))==null?void 0:g.route;return E?o({to:Me(E,p==null?void 0:p.meta,n,{...b,id:P}),type:"path"}):""}},"editUrl"),m=s((u,v,b={})=>{var g;let P=encodeURIComponent(v);if(t==="legacy"){let p=typeof u=="string"?ve(u,e,!0)??{name:u,route:u}:u,E=xe(p,e,!0).find(L=>L.action==="clone");return E?Me(E.route,p==null?void 0:p.meta,n,{...b,id:P}):""}else{let p=typeof u=="string"?ve(u,e)??{name:u}:u,E=(g=xe(p,e).find(L=>L.action==="clone"))==null?void 0:g.route;return E?o({to:Me(E,p==null?void 0:p.meta,n,{...b,id:P}),type:"path"}):""}},"cloneUrl"),f=s((u,v,b={})=>{var g;let P=encodeURIComponent(v);if(t==="legacy"){let p=typeof u=="string"?ve(u,e,!0)??{name:u,route:u}:u,E=xe(p,e,!0).find(L=>L.action==="show");return E?Me(E.route,p==null?void 0:p.meta,n,{...b,id:P}):""}else{let p=typeof u=="string"?ve(u,e)??{name:u}:u,E=(g=xe(p,e).find(L=>L.action==="show"))==null?void 0:g.route;return E?o({to:Me(E,p==null?void 0:p.meta,n,{...b,id:P}),type:"path"}):""}},"showUrl"),C=s((u,v={})=>{var b;if(t==="legacy"){let g=typeof u=="string"?ve(u,e,!0)??{name:u,route:u}:u,P=xe(g,e,!0).find(p=>p.action==="list");return P?Me(P.route,g==null?void 0:g.meta,n,v):""}else{let g=typeof u=="string"?ve(u,e)??{name:u}:u,P=(b=xe(g,e).find(p=>p.action==="list"))==null?void 0:b.route;return P?o({to:Me(P,g==null?void 0:g.meta,n,v),type:"path"}):""}},"listUrl");return{create:s((u,v="push",b={})=>{l(c(u,b),v)},"create"),createUrl:c,edit:s((u,v,b="push",g={})=>{l(d(u,v,g),b)},"edit"),editUrl:d,clone:s((u,v,b="push",g={})=>{l(m(u,v,g),b)},"clone"),cloneUrl:m,show:s((u,v,b="push",g={})=>{l(f(u,v,g),b)},"show"),showUrl:f,list:s((u,v="push",b={})=>{l(C(u,b),v)},"list"),listUrl:C,push:s((u,...v)=>{t==="legacy"?a.push(u,...v):o({to:u,type:"push"})},"push"),replace:s((u,...v)=>{t==="legacy"?a.replace(u,...v):o({to:u,type:"replace"})},"replace"),goBack:s(()=>{t==="legacy"?a.goBack():i()},"goBack")}},"useNavigation"),dn=Q(h("react")),Rl=Q(h("warn-once")),Tl=s(({resource:e,id:t,successNotification:r,errorNotification:a,meta:n,metaData:o,liveMode:i,onLiveEvent:l,dataProviderName:c,queryOptions:d,overtimeOptions:m}={})=>{let{resource:f,id:C,identifier:u}=G(e),{identifier:v}=G(),b=se(),g=s(()=>e&&e!==v?t:t??C,"getDefaultId")(),[P,p]=(0,dn.useState)(g);dn.default.useEffect(()=>{p(g)},[g]);let E=b({resource:f,meta:F(n,o)});(0,Rl.default)(!!e&&!t,`[useShow]: resource: "${u}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let L=Jr({resource:u,id:P??"",queryOptions:{enabled:P!==void 0,...d},successNotification:r,errorNotification:a,meta:E,metaData:E,liveMode:i,onLiveEvent:l,dataProviderName:c}),{elapsedTime:A}=me({isLoading:L.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{queryResult:L,showId:P,setShowId:p,overtime:{elapsedTime:A}}},"useShow"),Bt=h("react"),Ol=h("papaparse"),Al=Q(h("lodash/chunk")),$l=s(({resourceName:e,resource:t,mapData:r=s(m=>m,"mapData"),paparseOptions:a,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:o,meta:i,metaData:l,onProgress:c,dataProviderName:d}={})=>{let[m,f]=(0,Bt.useState)(0),[C,u]=(0,Bt.useState)(0),[v,b]=(0,Bt.useState)(!1),{resource:g,identifier:P}=G(t??e),p=se(),E=ii(),L=Zr(),A=p({resource:g,meta:F(i,l)}),w;n===1?w=L:w=E;let y=s(()=>{u(0),f(0),b(!1)},"handleCleanup"),q=s(N=>{let M={succeeded:N.filter(x=>x.type==="success"),errored:N.filter(x=>x.type==="error")};o==null||o(M),b(!1)},"handleFinish");(0,Bt.useEffect)(()=>{c==null||c({totalAmount:C,processedAmount:m})},[C,m]);let D=s(({file:N})=>(y(),new Promise(M=>{b(!0),(0,Ol.parse)(N,{complete:async({data:x})=>{let S=Dn(x,r);if(u(S.length),n===1){let T=S.map(O=>s(async()=>({response:await L.mutateAsync({resource:P??"",values:O,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:A,metaData:A}),value:O}),"fn")),R=await ka(T,({response:O,value:k})=>(f(U=>U+1),{response:[O.data],type:"success",request:[k]}),(O,k)=>({response:[O],type:"error",request:[S[k]]}));M(R)}else{let T=(0,Al.default)(S,n),R=T.map(k=>s(async()=>({response:await E.mutateAsync({resource:P??"",values:k,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:A,metaData:A}),value:k,currentBatchLength:k.length}),"fn")),O=await ka(R,({response:k,currentBatchLength:U,value:W})=>(f(I=>I+U),{response:k.data,type:"success",request:W}),(k,U)=>({response:[k],type:"error",request:T[U]}));M(O)}},...a})}).then(M=>(q(M),M))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:N=>{N.target.files&&N.target.files.length>0&&D({file:N.target.files[0]})}},mutationResult:w,isLoading:v,handleChange:D}},"useImport"),qr=h("react"),Il=s(({defaultVisible:e=!1}={})=>{let[t,r]=(0,qr.useState)(e),a=(0,qr.useCallback)(()=>r(!0),[t]),n=(0,qr.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:n}},"useModal"),Fl=s(({resource:e,action:t,meta:r,legacy:a})=>ir()({resource:e,action:t,meta:r,legacy:a}),"useToPath"),cn=Q(h("react")),or=s(()=>{let e=(0,cn.useContext)(Mt);return e!=null&&e.Link?e.Link:s(({to:t,...r})=>cn.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),Ql=h("react"),Ei=Q(h("react")),et={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Kl=Ei.default.createContext(et),ra=Kl,Ul=s(({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i})=>Ei.default.createElement(ra.Provider,{value:{useHistory:t??et.useHistory,useLocation:r??et.useLocation,useParams:a??et.useParams,Prompt:n??et.Prompt,Link:o??et.Link,routes:i??et.routes}},e),"LegacyRouterContextProvider"),qe=s(()=>{let e=(0,Ql.useContext)(ra),{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i}=e??et;return{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i}},"useRouterContext"),Wl=h("@tanstack/react-query"),jl=h("react"),Ci=Q(h("react")),Tt=Ci.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),zl=s(({can:e,children:t,options:r})=>Ci.default.createElement(Tt.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),aa=s(e=>{if(!e)return;let{icon:t,list:r,edit:a,create:n,show:o,clone:i,children:l,meta:c,options:d,...m}=e,{icon:f,...C}=c??{},{icon:u,...v}=d??{};return{...m,...c?{meta:C}:{},...d?{options:v}:{}}},"sanitizeResource"),Bl=J(),wi=s(({action:e,resource:t,params:r,queryOptions:a})=>{let{can:n}=(0,jl.useContext)(Tt),{keys:o,preferLegacyKeys:i}=Z(),{resource:l,...c}=r??{},d=aa(l),m=(0,Wl.useQuery)(o().access().resource(t).action(e).params({params:{...c,resource:d},enabled:a==null?void 0:a.enabled}).get(i),()=>(n==null?void 0:n({action:e,resource:t,params:{...c,resource:d}}))??Promise.resolve({can:!0}),{enabled:typeof n<"u",...a,meta:{...a==null?void 0:a.meta,...(0,Bl.getXRay)("useCan",i)},retry:!1});return typeof n>"u"?{data:{can:!0}}:m},"useCan"),mn=Q(h("react")),_l=s(()=>{let{can:e}=mn.default.useContext(Tt);return{can:mn.default.useMemo(()=>e?s(async({params:t,...r})=>{let a=t!=null&&t.resource?aa(t.resource):void 0;return e({...r,...t?{params:{...t,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),yt=h("react"),Hl=Q(h("lodash/uniqBy")),Gl=Q(h("lodash/debounce")),_t=Q(h("lodash/get")),Vl=s(e=>{let[t,r]=(0,yt.useState)([]),[a,n]=(0,yt.useState)([]),[o,i]=(0,yt.useState)([]),{resource:l,sort:c,sorters:d,filters:m=[],optionLabel:f="title",optionValue:C="id",debounce:u=300,successNotification:v,errorNotification:b,defaultValueQueryOptions:g,queryOptions:P,fetchSize:p,pagination:E,hasPagination:L=!1,liveMode:A,defaultValue:w=[],onLiveEvent:y,onSearch:q,liveParams:D,meta:N,metaData:M,dataProviderName:x,overtimeOptions:S}=e,{resource:T,identifier:R}=G(l),O=se()({resource:T,meta:F(N,M)}),k=Array.isArray(w)?w:[w],U=(0,yt.useCallback)(z=>{i(z.data.map(X=>({label:(0,_t.default)(X,f),value:(0,_t.default)(X,C)})))},[f,C]),W=g??P,I=ai({resource:R,ids:k,queryOptions:{...W,enabled:k.length>0&&((W==null?void 0:W.enabled)??!0),onSuccess:z=>{var X;U(z),(X=W==null?void 0:W.onSuccess)==null||X.call(W,z)}},meta:O,metaData:O,liveMode:"off",dataProviderName:x}),j=(0,yt.useCallback)(z=>{n(z.data.map(X=>({label:(0,_t.default)(X,f),value:(0,_t.default)(X,C)})))},[f,C]),K=Yr({resource:R,sorters:F(d,c),filters:m.concat(t),pagination:{current:E==null?void 0:E.current,pageSize:(E==null?void 0:E.pageSize)??p,mode:E==null?void 0:E.mode},hasPagination:L,queryOptions:{...P,onSuccess:z=>{var X;j(z),(X=P==null?void 0:P.onSuccess)==null||X.call(P,z)}},successNotification:v,errorNotification:b,meta:O,metaData:O,liveMode:A,liveParams:D,onLiveEvent:y,dataProviderName:x}),B=s(z=>{if(q){r(q(z));return}if(z)r([{field:f,operator:"contains",value:z}]);else{r([]);return}},"onSearch"),{elapsedTime:$}=me({isLoading:K.isFetching||I.isFetching,interval:S==null?void 0:S.interval,onInterval:S==null?void 0:S.onInterval}),_=(0,yt.useMemo)(()=>(0,Hl.default)([...a,...o],"value"),[a,o]);return{queryResult:K,defaultValueQueryResult:I,options:_,onSearch:(0,Gl.default)(B,u),overtime:{elapsedTime:$}}},"useSelect"),st=Q(h("react")),vn=Q(h("qs")),Ht=Q(h("lodash/differenceWith")),Gt=Q(h("lodash/isEqual")),Xl=Q(h("warn-once")),pn=[],fn=[];function Li({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:n,permanentSorter:o=fn,defaultSetFilterBehavior:i,initialFilter:l,permanentFilter:c=pn,filters:d,sorters:m,syncWithLocation:f,resource:C,successNotification:u,errorNotification:v,queryOptions:b,liveMode:g,onLiveEvent:P,liveParams:p,meta:E,metaData:L,dataProviderName:A,overtimeOptions:w}={}){var y,q,D,N,M;let{syncWithLocation:x}=Jn(),S=f??x,T=gi(g),R=ce(),{useLocation:O}=qe(),{search:k,pathname:U}=O(),W=se(),I=We(),j=((d==null?void 0:d.mode)||"server")==="server",K=((m==null?void 0:m.mode)||"server")==="server",B=r===!1?"off":"server",$=((a==null?void 0:a.mode)??B)!=="off",_=F(a==null?void 0:a.current,e),z=F(a==null?void 0:a.pageSize,t),X=F(E,L),{parsedCurrent:pe,parsedPageSize:fe,parsedSorter:Ce,parsedFilters:$t}=Br(k??"?"),It=F(d==null?void 0:d.initial,l),Ie=F(d==null?void 0:d.permanent,c)??pn,Ft=F(m==null?void 0:m.initial,n),Xe=F(m==null?void 0:m.permanent,o)??fn,Ye=F(d==null?void 0:d.defaultBehavior,i)??"merge",it,Je,pt,ft;S?(it=((y=I==null?void 0:I.params)==null?void 0:y.current)||pe||_||1,Je=((q=I==null?void 0:I.params)==null?void 0:q.pageSize)||fe||z||10,pt=((D=I==null?void 0:I.params)==null?void 0:D.sorters)||(Ce.length?Ce:Ft),ft=((N=I==null?void 0:I.params)==null?void 0:N.filters)||($t.length?$t:It)):(it=_||1,Je=z||10,pt=Ft,ft=It);let{replace:Qt}=Ae(),St=Oe(),{resource:vr,identifier:ne}=G(C),Fe=W({resource:vr,meta:X});st.default.useEffect(()=>{(0,Xl.default)(typeof ne>"u","useTable: `resource` is not defined.")},[ne]);let[ie,ze]=(0,st.useState)(Fr(Xe,pt??[])),[le,Qe]=(0,st.useState)(Ir(Ie,ft??[])),[Ke,Be]=(0,st.useState)(it),[_e,la]=(0,st.useState)(Je),_i=s(({pagination:{current:oe,pageSize:ke},sorter:Kt,filters:Ut})=>{if(R==="new")return St({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...$?{current:oe,pageSize:ke}:{},sorters:Kt,filters:Ut,...ua()}})??"";{let xt=vn.default.parse(k==null?void 0:k.substring(1)),Ji=Ar({pagination:{pageSize:ke,current:oe},sorters:ie??Kt,filters:Ut,...xt});return`${U??""}?${Ji??""}`}},"createLinkForSyncWithLocation");(0,st.useEffect)(()=>{k===""&&(Be(it),la(Je),ze(Fr(Xe,pt??[])),Qe(Ir(Ie,ft??[])))},[k]);let ua=s(()=>{if(R==="new"){let{sorters:oe,filters:ke,pageSize:Kt,current:Ut,...xt}=(I==null?void 0:I.params)??{};return xt}else{let{sorter:oe,filters:ke,pageSize:Kt,current:Ut,...xt}=vn.default.parse(k,{ignoreQueryPrefix:!0});return xt}},"currentQueryParams");(0,st.useEffect)(()=>{if(S){let oe=ua();if(R==="new")St({type:"replace",options:{keepQuery:!0},query:{...$?{pageSize:_e,current:Ke}:{},sorters:(0,Ht.default)(ie,Xe,Gt.default),filters:(0,Ht.default)(le,Ie,Gt.default)}});else{let ke=Ar({...$?{pagination:{pageSize:_e,current:Ke}}:{},sorters:(0,Ht.default)(ie,Xe,Gt.default),filters:(0,Ht.default)(le,Ie,Gt.default),...oe});return Qt==null?void 0:Qt(`${U}?${ke}`,void 0,{shallow:!0})}}},[S,Ke,_e,ie,le]);let pr=Yr({resource:ne,hasPagination:r,pagination:{current:Ke,pageSize:_e,mode:a==null?void 0:a.mode},filters:j?Dt(Ie,le):void 0,sorters:K?$r(Xe,ie):void 0,queryOptions:b,successNotification:u,errorNotification:v,meta:Fe,metaData:Fe,liveMode:T,liveParams:p,onLiveEvent:P,dataProviderName:A}),Hi=s(oe=>{Qe(ke=>Dt(Ie,oe,ke))},"setFiltersAsMerge"),Gi=s(oe=>{Qe(Dt(Ie,oe))},"setFiltersAsReplace"),Vi=s(oe=>{Qe(ke=>Dt(Ie,oe(ke)))},"setFiltersWithSetter"),Xi=s((oe,ke=Ye)=>{typeof oe=="function"?Vi(oe):ke==="replace"?Gi(oe):Hi(oe)},"setFiltersFn"),da=s(oe=>{ze(()=>$r(Xe,oe))},"setSortWithUnion"),{elapsedTime:Yi}=me({isLoading:pr.isFetching,interval:w==null?void 0:w.interval,onInterval:w==null?void 0:w.onInterval});return{tableQueryResult:pr,sorters:ie,setSorters:da,sorter:ie,setSorter:da,filters:le,setFilters:Xi,current:Ke,setCurrent:Be,pageSize:_e,setPageSize:la,pageCount:_e?Math.ceil((((M=pr.data)==null?void 0:M.total)??0)/_e):1,createLinkForSyncWithLocation:_i,overtime:{elapsedTime:Yi}}}s(Li,"useTable");var gn=h("react"),kr=h("@tanstack/react-query"),Si=Q(h("react")),sr=Si.default.createContext({}),Yl=s(({create:e,get:t,update:r,children:a})=>Si.default.createElement(sr.Provider,{value:{create:e,get:t,update:r}},a),"AuditLogContextProvider"),yn=J(),mt=s(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,kr.useQueryClient)(),a=(0,gn.useContext)(sr),{keys:n,preferLegacyKeys:o}=Z(),i=de(),{resources:l}=(0,gn.useContext)(kt),{data:c,refetch:d,isLoading:m}=_r({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy),queryOptions:{enabled:!!(a!=null&&a.create)}}),f=(0,kr.useMutation)(async u=>{var v,b,g,P,p;let E=ve(u.resource,l),L=F((v=E==null?void 0:E.meta)==null?void 0:v.audit,(b=E==null?void 0:E.options)==null?void 0:b.audit,(P=(g=E==null?void 0:E.options)==null?void 0:g.auditLog)==null?void 0:P.permissions);if(L&&!jo(L,u.action))return;let A;return m&&a!=null&&a.create&&(A=await d()),await((p=a.create)==null?void 0:p.call(a,{...u,author:c??(A==null?void 0:A.data)}))},{mutationKey:n().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,yn.getXRay)("useLog",o)}}),C=(0,kr.useMutation)(async u=>{var v;return await((v=a.update)==null?void 0:v.call(a,u))},{onSuccess:u=>{u!=null&&u.resource&&r.invalidateQueries(n().audit().resource((u==null?void 0:u.resource)??"").action("list").get(o))},mutationKey:n().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,yn.getXRay)("useLog",o)}});return{log:f,rename:C}},"useLog"),Jl=h("react"),Zl=h("@tanstack/react-query"),eu=J(),tu=s(({resource:e,action:t,meta:r,author:a,metaData:n,queryOptions:o})=>{let{get:i}=(0,Jl.useContext)(sr),{keys:l,preferLegacyKeys:c}=Z();return(0,Zl.useQuery)(l().audit().resource(e).action("list").params(r).get(c),()=>(i==null?void 0:i({resource:e,action:t,author:a,meta:r,metaData:n}))??Promise.resolve([]),{enabled:typeof i<"u",...o,retry:!1,meta:{...o==null?void 0:o.meta,...(0,eu.getXRay)("useLogList",c)}})},"useLogList"),ru=h("react"),au=Q(h("warn-once")),nu=s(({meta:e={}}={})=>{let t=ce(),{i18nProvider:r}=(0,ru.useContext)(ct),a=We(),n=ee(),{resources:o,resource:i,action:l}=G(),{options:{textTransformers:c}}=be(),d=[];if(!(i!=null&&i.name))return{breadcrumbs:d};let m=s(f=>{var C,u,v,b,g,P;let p=typeof f=="string"?ve(f,o,t==="legacy")??{name:f}:f;if(p){let E=F((C=p==null?void 0:p.meta)==null?void 0:C.parent,p==null?void 0:p.parentName);E&&m(E);let L=xe(p,o,t==="legacy").find(y=>y.action==="list"),A=(u=L==null?void 0:L.resource)!=null&&u.list?L==null?void 0:L.route:void 0,w=A?t==="legacy"?A:Me(A,p==null?void 0:p.meta,a,e):void 0;d.push({label:F((v=p.meta)==null?void 0:v.label,(b=p.options)==null?void 0:b.label)??n(`${p.name}.${p.name}`,c.humanize(p.name)),href:w,icon:F((g=p.meta)==null?void 0:g.icon,(P=p.options)==null?void 0:P.icon,p.icon)})}},"addBreadcrumb");if(m(i),l&&l!=="list"){let f=`actions.${l}`,C=n(f);typeof r<"u"&&C===f?((0,au.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${l}" action. Please add "actions.${l}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),d.push({label:n(`buttons.${l}`,c.humanize(l))})):d.push({label:n(f,c.humanize(l))})}return{breadcrumbs:d}},"useBreadcrumb"),Mr=Q(h("react")),Jt=s((e,t,r=!1)=>{let a=[],n=tt(e,t);for(;n;)a.push(n),n=tt(n,t);return a.reverse(),`/${[...a,e].map(o=>He((r?o.route:void 0)??o.identifier??o.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),iu=s((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{let o=[],i=tt(n,e);for(;i;)o.push(i),i=tt(i,e);o.reverse();let l=r;o.forEach(d=>{let m=(t?d.route:void 0)??d.identifier??d.name;l.children[m]||(l.children[m]={item:d,children:{}}),l=l.children[m]});let c=(t?n.route:void 0)??n.identifier??n.name;l.children[c]||(l.children[c]={item:n,children:{}})});let a=s(n=>{let o=[];return Object.keys(n.children).forEach(i=>{let l=Jt(n.children[i].item,e,t),c={...n.children[i].item,key:l,children:a(n.children[i])};o.push(c)}),o},"flatten");return a(r)},"createTree"),hn=s(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),ou=s(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=ee(),a=ir(),n=ce(),{resource:o,resources:i}=G(),{pathname:l}=We(),{useLocation:c}=qe(),{pathname:d}=c(),m=zr(),f=`/${((n==="legacy"?hn(d):l?hn(l):void 0)??"").replace(/^\//,"")}`,C=o?Jt(o,i,n==="legacy"):f??"",u=Mr.default.useMemo(()=>{if(!o)return[];let g=tt(o,i),P=[Jt(o,i)];for(;g;)P.push(Jt(g,i)),g=tt(g,i);return P},[]),v=Mr.default.useCallback(g=>{var P,p,E,L,A,w;if((((P=g==null?void 0:g.meta)==null?void 0:P.hide)??((p=g==null?void 0:g.options)==null?void 0:p.hide))||!(g!=null&&g.list)&&g.children.length===0)return;let y=g.list?a({resource:g,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&y&&y.match(/(\/|^):(.+?)(\/|$){1}/)))return{...g,route:y,icon:F((E=g.meta)==null?void 0:E.icon,(L=g.options)==null?void 0:L.icon,g.icon),label:F((A=g==null?void 0:g.meta)==null?void 0:A.label,(w=g==null?void 0:g.options)==null?void 0:w.label)??r(`${g.name}.${g.name}`,m(g.name,"plural"))}},[n,e,r,t]),b=Mr.default.useMemo(()=>{let g=iu(i,n==="legacy"),P=s(p=>p.flatMap(E=>{let L=P(E.children),A=v({...E,children:L});return A?[A]:[]}),"prepare");return P(g)},[i,n,v]);return{defaultOpenKeys:u,selectedKey:C,menuItems:b}},"useMenu"),se=s(()=>{let{params:e}=We();return s(({resource:t,meta:r}={})=>{let{meta:a}=aa(t)??{meta:{}},{filters:n,sorters:o,current:i,pageSize:l,...c}=e??{};return{...a,...c,...r}},"getMetaFn")},"useMeta"),su=s(()=>{let[e,t]=(0,ot.useState)(),r=ee(),{push:a}=Ae(),n=Oe(),o=ce(),{resource:i,action:l}=G();return(0,ot.useEffect)(()=>{i&&l&&t(r("pages.error.info",{action:l,resource:i.name},`You may have forgotten to add the "${l}" component to "${i.name}" resource.`))},[i,l]),ot.default.createElement(ot.default.Fragment,null,ot.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&ot.default.createElement("p",null,e),ot.default.createElement("button",{onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),ue=Q(h("react")),xi=s(()=>{let[e,t]=(0,ue.useState)(""),[r,a]=(0,ue.useState)(""),n=ee(),o=de(),{mutate:i}=ar({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy)});return ue.default.createElement(ue.default.Fragment,null,ue.default.createElement("h1",null,n("pages.login.title","Sign in your account")),ue.default.createElement("form",{onSubmit:l=>{l.preventDefault(),i({username:e,password:r})}},ue.default.createElement("table",null,ue.default.createElement("tbody",null,ue.default.createElement("tr",null,ue.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),ue.default.createElement("td",null,ue.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:l=>t(l.target.value)}))),ue.default.createElement("tr",null,ue.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),ue.default.createElement("td",null,ue.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:l=>a(l.target.value)}))))),ue.default.createElement("br",null),ue.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),ht=Q(h("react")),Y=Q(h("react")),lu=s(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:i,formProps:l,title:c=void 0,hideForm:d})=>{let m=ce(),f=or(),{Link:C}=qe(),u=m==="legacy"?C:f,[v,b]=(0,Y.useState)(""),[g,P]=(0,Y.useState)(""),[p,E]=(0,Y.useState)(!1),L=ee(),A=de(),{mutate:w}=ar({v3LegacyAuthProviderCompatible:!!(A!=null&&A.isLegacy)}),y=s((N,M)=>Y.default.createElement(u,{to:N},M),"renderLink"),q=s(()=>e?e.map(N=>Y.default.createElement("div",{key:N.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Y.default.createElement("button",{onClick:()=>w({providerName:N.name}),style:{display:"flex",alignItems:"center"}},N==null?void 0:N.icon,N.label??Y.default.createElement("label",null,N.label)))):null,"renderProviders"),D=Y.default.createElement("div",{...n},Y.default.createElement("h1",{style:{textAlign:"center"}},L("pages.login.title","Sign in to your account")),q(),!d&&Y.default.createElement(Y.default.Fragment,null,Y.default.createElement("hr",null),Y.default.createElement("form",{onSubmit:N=>{N.preventDefault(),w({email:v,password:g,remember:p})},...l},Y.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Y.default.createElement("label",{htmlFor:"email-input"},L("pages.login.fields.email","Email")),Y.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:v,onChange:N=>b(N.target.value)}),Y.default.createElement("label",{htmlFor:"password-input"},L("pages.login.fields.password","Password")),Y.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:g,onChange:N=>P(N.target.value)}),a??Y.default.createElement(Y.default.Fragment,null,Y.default.createElement("label",{htmlFor:"remember-me-input"},L("pages.login.buttons.rememberMe","Remember me"),Y.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:p,value:p.toString(),onChange:()=>{E(!p)}}))),Y.default.createElement("br",null),r??y("/forgot-password",L("pages.login.buttons.forgotPassword","Forgot password?")),Y.default.createElement("input",{type:"submit",value:L("pages.login.signin","Sign in")}),t??Y.default.createElement("span",null,L("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",y("/register",L("pages.login.register","Sign up")))))),t!==!1&&d&&Y.default.createElement("div",{style:{textAlign:"center"}},L("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",y("/register",L("pages.login.register","Sign up"))));return Y.default.createElement("div",{...o},i?i(D,c):D)},"LoginPage"),te=Q(h("react")),uu=s(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o,title:i=void 0,hideForm:l})=>{let c=ce(),d=or(),{Link:m}=qe(),f=c==="legacy"?m:d,[C,u]=(0,te.useState)(""),[v,b]=(0,te.useState)(""),g=ee(),P=de(),{mutate:p,isLoading:E}=Gr({v3LegacyAuthProviderCompatible:!!(P!=null&&P.isLegacy)}),L=s((y,q)=>te.default.createElement(f,{to:y},q),"renderLink"),A=s(()=>e?e.map(y=>te.default.createElement("div",{key:y.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},te.default.createElement("button",{onClick:()=>p({providerName:y.name}),style:{display:"flex",alignItems:"center"}},y==null?void 0:y.icon,y.label??te.default.createElement("label",null,y.label)))):null,"renderProviders"),w=te.default.createElement("div",{...a},te.default.createElement("h1",{style:{textAlign:"center"}},g("pages.register.title","Sign up for your account")),A(),!l&&te.default.createElement(te.default.Fragment,null,te.default.createElement("hr",null),te.default.createElement("form",{onSubmit:y=>{y.preventDefault(),p({email:C,password:v})},...o},te.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},te.default.createElement("label",{htmlFor:"email-input"},g("pages.register.fields.email","Email")),te.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:C,onChange:y=>u(y.target.value)}),te.default.createElement("label",{htmlFor:"password-input"},g("pages.register.fields.password","Password")),te.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:v,onChange:y=>b(y.target.value)}),te.default.createElement("input",{type:"submit",value:g("pages.register.buttons.submit","Sign up"),disabled:E}),t??te.default.createElement(te.default.Fragment,null,te.default.createElement("span",null,g("pages.login.buttons.haveAccount","Have an account?")," ",L("/login",g("pages.login.signin","Sign in"))))))),t!==!1&&l&&te.default.createElement("div",{style:{textAlign:"center"}},g("pages.login.buttons.haveAccount","Have an account?")," ",L("/login",g("pages.login.signin","Sign in"))));return te.default.createElement("div",{...r},n?n(w,i):w)},"RegisterPage"),we=Q(h("react")),du=s(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n,title:o=void 0})=>{let i=ee(),l=ce(),c=or(),{Link:d}=qe(),m=l==="legacy"?d:c,[f,C]=(0,we.useState)(""),{mutate:u,isLoading:v}=Vr(),b=s((P,p)=>we.default.createElement(m,{to:P},p),"renderLink"),g=we.default.createElement("div",{...r},we.default.createElement("h1",{style:{textAlign:"center"}},i("pages.forgotPassword.title","Forgot your password?")),we.default.createElement("hr",null),we.default.createElement("form",{onSubmit:P=>{P.preventDefault(),u({email:f})},...n},we.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},we.default.createElement("label",{htmlFor:"email-input"},i("pages.forgotPassword.fields.email","Email")),we.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:f,onChange:P=>C(P.target.value)}),we.default.createElement("input",{type:"submit",disabled:v,value:i("pages.forgotPassword.buttons.submit","Send reset instructions")}),we.default.createElement("br",null),e??we.default.createElement("span",null,i("pages.register.buttons.haveAccount","Have an account? ")," ",b("/login",i("pages.login.signin","Sign in"))))));return we.default.createElement("div",{...t},a?a(g,o):g)},"ForgotPasswordPage"),Le=Q(h("react")),cu=s(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:n=void 0})=>{let o=ee(),i=de(),{mutate:l,isLoading:c}=Xr({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)}),[d,m]=(0,Le.useState)(""),[f,C]=(0,Le.useState)(""),u=Le.default.createElement("div",{...t},Le.default.createElement("h1",{style:{textAlign:"center"}},o("pages.updatePassword.title","Update Password")),Le.default.createElement("hr",null),Le.default.createElement("form",{onSubmit:v=>{v.preventDefault(),l({password:d,confirmPassword:f})},...a},Le.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Le.default.createElement("label",{htmlFor:"password-input"},o("pages.updatePassword.fields.password","New Password")),Le.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:d,onChange:v=>m(v.target.value)}),Le.default.createElement("label",{htmlFor:"confirm-password-input"},o("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Le.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:f,onChange:v=>C(v.target.value)}),Le.default.createElement("input",{type:"submit",disabled:c,value:o("pages.updatePassword.buttons.submit","Update")}))));return Le.default.createElement("div",{...e},r?r(u,n):u)},"UpdatePasswordPage"),mu=s(e=>{let{type:t}=e;return ht.default.createElement(ht.default.Fragment,null,s(()=>{switch(t){case"register":return ht.default.createElement(uu,{...e});case"forgotPassword":return ht.default.createElement(du,{...e});case"updatePassword":return ht.default.createElement(cu,{...e});default:return ht.default.createElement(lu,{...e})}},"renderView")())},"AuthPage"),he=Q(h("react")),Di=s(()=>he.default.createElement(he.default.Fragment,null,he.default.createElement("h1",null,"Welcome on board"),he.default.createElement("p",null,"Your configuration is completed."),he.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",he.default.createElement("code",null,"`resources`")," property of ",he.default.createElement("code",null,"`<Refine>`")),he.default.createElement("div",{style:{display:"flex",gap:8}},he.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},he.default.createElement("button",null,"Documentation")),he.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},he.default.createElement("button",null,"Examples")),he.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},he.default.createElement("button",null,"Community")))),"ReadyPage"),ae=Q(h("react")),vu=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],pu=s(()=>{let e=Ra("(max-width: 1010px)"),t=Ra("(max-width: 650px)"),r=s(()=>t?"1, 280px":e?"2, 280px":"4, 1fr","getGridTemplateColumns"),a=s(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),n=s(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return ae.default.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},ae.default.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},ae.default.createElement("div",{style:{zIndex:2,position:"absolute",width:t?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),ae.default.createElement("div",{style:{height:t?"40px":"80px"}}),ae.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},ae.default.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:t?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:t?112:224,height:t?58:116}})),ae.default.createElement("div",{style:{height:t?"120px":e?"270px":"40vh",minHeight:t?"120px":"270px"}}),ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},ae.default.createElement("h1",{style:{fontSize:a(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),ae.default.createElement("h4",{style:{fontSize:n(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),ae.default.createElement("div",{style:{height:"64px"}}),ae.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},vu.map(o=>ae.default.createElement(fu,{key:`welcome-page-${o.title}`,card:o})))))},"WelcomePage"),fu=s(({card:e})=>{let{title:t,description:r,iconUrl:a,link:n}=e,[o,i]=(0,ae.useState)(!1);return ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},ae.default.createElement("div",{style:{display:"flex",alignItems:"center"}},ae.default.createElement("a",{onPointerEnter:()=>i(!0),onPointerLeave:()=>i(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:n},ae.default.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${a})`}}),ae.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),ae.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...o&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},ae.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),ae.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),re=Q(h("react")),Rr=h("@tanstack/react-query"),gu=J(),Pn=Q(h("react")),lt=h("react"),yu="4.46.1",hu=s(()=>{var e;let t=ri(),r=(0,lt.useContext)(sr),a=(0,lt.useContext)(qt),n=(0,lt.useContext)(ra),o=(0,lt.useContext)(ea),{i18nProvider:i}=(0,lt.useContext)(ct),l=(0,lt.useContext)(ta),c=(0,lt.useContext)(Tt),{resources:d}=G(),m=be(),f=!!r.create||!!r.get||!!r.update,C=!!(a!=null&&a.publish)||!!(a!=null&&a.subscribe)||!!(a!=null&&a.unsubscribe),u=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,v=!!o,b=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),g=!!l.close||!!l.open,P=!!c.can,p=(e=m==null?void 0:m.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:f,live:C,router:u,data:v,i18n:b,notification:g,accessControl:P},version:yu,resourceCount:d.length,projectId:p}},"useTelemetryData"),Pu=s(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),bu=s(e=>{let t=new Image;t.src=e},"throughImage"),Eu=s(e=>{fetch(e)},"throughFetch"),Cu=s(e=>{typeof Image<"u"?bu(e):typeof fetch<"u"&&Eu(e)},"transport"),wu=s(()=>{let e=hu(),t=Pn.default.useRef(!1);return Pn.default.useEffect(()=>{if(t.current)return;let r=Pu(e);r&&(Cu(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),Lu=s(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),bn=Q(h("react")),Su=s(e=>{let t=bn.default.useRef(!1);bn.default.useEffect(()=>{t.current===!1&&e&&Lu(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),xu=s(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:n,notificationProvider:o,accessControlProvider:i,auditLogProvider:l,resources:c,DashboardPage:d,ReadyPage:m,LoginPage:f,catchAll:C,children:u,liveProvider:v,i18nProvider:b,Title:g,Layout:P,Sider:p,Header:E,Footer:L,OffLayoutArea:A,onLiveEvent:w,options:y})=>{let{optionsWithDefaults:q,disableTelemetryWithDefault:D,reactQueryWithDefaults:N}=Jo({options:y}),M=ui(()=>{var T;return N.clientConfig instanceof Rr.QueryClient?N.clientConfig:new Rr.QueryClient({...N.clientConfig,defaultOptions:{...N.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(T=N.clientConfig.defaultOptions)==null?void 0:T.queries}}})},[N.clientConfig]);(0,gu.useQuerySubscription)(M);let x=re.default.useMemo(()=>typeof o=="function"?o:()=>o??{},[o])();if(Su(n),a&&!n&&(c??[]).length===0)return m?re.default.createElement(m,null):re.default.createElement(Di,null);let{RouterComponent:S=re.default.Fragment}=n?{}:a??{};return re.default.createElement(Rr.QueryClientProvider,{client:M},re.default.createElement(hl,{...x},re.default.createElement(rs,{...e??{},isProvided:!!e},re.default.createElement(as,{...t??{},isProvided:!!t},re.default.createElement(Ys,{...r},re.default.createElement(tl,{liveProvider:v},re.default.createElement(dl,{value:a&&!n?"legacy":"new"},re.default.createElement(ml,{router:n},re.default.createElement(Ul,{...a},re.default.createElement(ul,{resources:c??[]},re.default.createElement(bl,{i18nProvider:b},re.default.createElement(zl,{...i??{}},re.default.createElement(Yl,{...l??{}},re.default.createElement(Rs,null,re.default.createElement(Yo,{mutationMode:q.mutationMode,warnWhenUnsavedChanges:q.warnWhenUnsavedChanges,syncWithLocation:q.syncWithLocation,Title:g,undoableTimeout:q.undoableTimeout,catchAll:C,DashboardPage:d,LoginPage:f,Layout:P,Sider:p,Footer:L,Header:E,OffLayoutArea:A,hasDashboard:!!d,liveMode:q.liveMode,onLiveEvent:w,options:q},re.default.createElement(is,null,re.default.createElement(S,null,u,!D&&re.default.createElement(wu,null),re.default.createElement(ki,null))))))))))))))))))},"Refine"),En=h("react"),Ni=s(({notification:e})=>{let t=ee(),{notificationDispatch:r}=Ct(),{open:a}=at(),[n,o]=(0,En.useState)(),i=s(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:yr(e.seconds)},`You have ${yr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:yr(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let l=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(l)}},"cancelNotification");return(0,En.useEffect)(()=>{i()},[e]),null},"UndoableQueue"),er=Q(h("react")),Du=s(({children:e,Layout:t,Sider:r,Header:a,Title:n,Footer:o,OffLayoutArea:i})=>{let{Layout:l,Footer:c,Header:d,Sider:m,Title:f,OffLayoutArea:C}=be();return er.default.createElement(t??l,{Sider:r??m,Header:a??d,Footer:o??c,Title:n??f,OffLayoutArea:i??C},e,er.default.createElement(Nu,null))},"LayoutWrapper"),Nu=s(()=>{let{Prompt:e}=qe(),t=ee(),{warnWhen:r,setWarnWhen:a}=jr(),n=s(o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue),"warnWhenListener");return(0,er.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),er.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},"UnsavedPrompt"),Re=Q(h("react"));function qi({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:n}){var o;let i=de(),l=ce(),c=!!(i!=null&&i.isProvided),d=!!(i!=null&&i.isLegacy),m=l==="legacy",f=We(),C=Oe(),{useLocation:u}=qe(),v=u(),{isFetching:b,isSuccess:g,data:{authenticated:P,redirectTo:p}={}}=nr({v3LegacyAuthProviderCompatible:d}),E=c?d?g:P:!0;if(!c)return Re.default.createElement(Re.default.Fragment,null,r??null);if(b)return Re.default.createElement(Re.default.Fragment,null,n??null);if(E)return Re.default.createElement(Re.default.Fragment,null,r??null);{if(typeof a<"u")return Re.default.createElement(Re.default.Fragment,null,a??null);let L=d?typeof e=="string"?e:"/login":typeof e=="string"?e:p,A=`${m?v==null?void 0:v.pathname:f.pathname}`.replace(/(\?.*|#.*)$/,"");if(L)if(m){let w=t?`?to=${encodeURIComponent(A)}`:"";return Re.default.createElement(ku,{to:`${L}${w}`})}else return Re.default.createElement(qu,{config:{to:L,query:t?{to:(o=f.params)!=null&&o.to?f.params.to:C({to:A,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"}});return null}}s(qi,"Authenticated");var qu=s(({config:e})=>{let t=Oe();return Re.default.useEffect(()=>{t(e)},[t,e]),null},"Redirect"),ku=s(({to:e})=>{let{replace:t}=Ae();return Re.default.useEffect(()=>{t(e)},[t,e]),null},"RedirectLegacy"),Mu=h("react"),ki=s(()=>{let{useLocation:e}=qe(),{checkAuth:t}=Te(),r=e();return(0,Mu.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),ut=Q(h("react")),Ru=s(({resource:e,action:t,params:r,fallback:a,onUnauthorized:n,children:o,...i})=>{let{resource:l,id:c,action:d}=G(e),{identifier:m}=G(),f=s(()=>{let g=(r==null?void 0:r.id)??c;return e&&e!==m?r==null?void 0:r.id:g},"getDefaultId")(),C=e??(l==null?void 0:l.name),u=t??d??"",v=r??{id:f,resource:l},{data:b}=wi({resource:C,action:u,params:v});return(0,ut.useEffect)(()=>{n&&(b==null?void 0:b.can)===!1&&n({resource:C,action:u,reason:b==null?void 0:b.reason,params:v})},[b==null?void 0:b.can]),b!=null&&b.can?ut.default.isValidElement(o)?ut.default.cloneElement(o,i):ut.default.createElement(ut.default.Fragment,null,o):(b==null?void 0:b.can)===!1?ut.default.createElement(ut.default.Fragment,null,a??null):null},"CanAccess"),V=Q(h("react")),Tu=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `],Ou="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub",Au=s(()=>((0,V.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Tu.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),V.default.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},V.default.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26"}},V.default.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},V.default.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},V.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},V.default.createElement(Vt,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),V.default.createElement(Vt,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),V.default.createElement(Cn,{style:{position:"absolute",right:"10px"},id:"3"})),V.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},V.default.createElement(Vt,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),V.default.createElement(Vt,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),V.default.createElement(Cn,{style:{position:"absolute",right:"-70px"},id:"6"})))),V.default.createElement($u,{text:Ou})))),"GitHubBanner"),$u=s(({text:e})=>V.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},V.default.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},V.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"),V.default.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},e),V.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"))),"Text"),Vt=s(({style:e,...t})=>V.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},V.default.createElement("circle",{cx:40,r:40,fill:`url(#${t.id}-a)`,fillOpacity:.5}),V.default.createElement("defs",null,V.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#47EBEB"}),V.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),Cn=s(({style:e,...t})=>V.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...t,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},V.default.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${t.id}-a)`,fillOpacity:.5}),V.default.createElement("defs",null,V.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#47EBEB"}),V.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig"),Se=Q(h("react")),Iu=s(({status:e,elements:{success:t=Se.default.createElement(Xt,{key:"autoSave.success",defaultMessage:"saved"}),error:r=Se.default.createElement(Xt,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:a=Se.default.createElement(Xt,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:n=Se.default.createElement(Xt,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return Se.default.createElement(Se.default.Fragment,null,t);case"error":return Se.default.createElement(Se.default.Fragment,null,r);case"loading":return Se.default.createElement(Se.default.Fragment,null,a);default:return Se.default.createElement(Se.default.Fragment,null,n)}},"AutoSaveIndicator"),Xt=s(({key:e,defaultMessage:t})=>{let r=ee();return Se.default.createElement("span",null,r(e,t))},"Message")});var lr=ye(h("react")),ur=ye(vt()),wt=h("react"),Ot=h("qs"),$e=h("react-router-dom");var na=e=>{if(typeof e>"u")return e;let t=Number(e);return`${t}`===e?t:e};var Ri={addQueryPrefix:!0,skipNulls:!0,arrayFormat:"indices",encode:!1,encodeValuesOnly:!0},Fu={go:()=>{let{search:e,hash:t}=(0,$e.useLocation)(),r=(0,$e.useNavigate)();return(0,wt.useCallback)(({to:n,type:o,query:i,hash:l,options:{keepQuery:c,keepHash:d}={}})=>{let m={...c&&e&&(0,Ot.parse)(e,{ignoreQueryPrefix:!0}),...i};m.to&&(m.to=encodeURIComponent(`${m.to}`));let f=Object.keys(m).length>0,C=`#${(l||d&&t||"").replace(/^#/,"")}`,u=C.length>1,b=`${n||""}${f?(0,Ot.stringify)(m,Ri):""}${u?C:""}`;return o==="path"?b:r(b,{replace:o==="replace"})},[t,e,r])},back:()=>{let e=(0,$e.useNavigate)();return(0,wt.useCallback)(()=>{e(-1)},[e])},parse:()=>{var c;let e=(0,$e.useParams)(),{pathname:t,search:r}=(0,$e.useLocation)(),{resources:a}=(0,wt.useContext)(ur.ResourceContext),{resource:n,action:o,matchedRoute:i}=lr.default.useMemo(()=>(0,ur.matchResourceFromRoute)(t,a),[a,t]);return Object.entries(e).length===0&&i&&(e=((c=(0,$e.matchPath)(i,t))==null?void 0:c.params)||{}),(0,wt.useCallback)(()=>{let d=(0,Ot.parse)(r,{ignoreQueryPrefix:!0}),m={...e,...d};return{...n&&{resource:n},...o&&{action:o},...(e==null?void 0:e.id)&&{id:decodeURIComponent(e.id)},pathname:t,params:{...m,current:na(m.current),pageSize:na(m.pageSize),to:m.to?decodeURIComponent(m.to):void 0}}},[t,r,e,n,o])},Link:lr.default.forwardRef(function(t,r){return lr.default.createElement($e.Link,{...t,ref:r})})};var oa=ye(h("react")),Ai=ye(vt());var ia=ye(h("react")),Ti=h("react-router-dom"),Qu=(e,t)=>{let{name:r,list:a,create:n,show:o,edit:i}=e;if(typeof a=="string"&&t==="list")return a;if(typeof a=="object"&&t==="list")return a.path;if(typeof n=="string"&&t==="create")return n;if(typeof n=="object"&&t==="create")return n.path;if(typeof o=="string"&&t==="show")return o;if(typeof o=="object"&&t==="show")return o.path;if(typeof i=="string"&&t==="edit")return i;if(typeof i=="object"&&t==="edit")return i.path;let l=`/${r}`,c=`${["edit","create","clone","show"].includes(t)?t:""}`,d=`${["edit","show","clone"].includes(t)?":id":""}`;return[l,c,d].filter(Boolean).join("/")},Oi=e=>e.flatMap(r=>{let a=[];return["list","show","edit","create"].forEach(n=>{let o=r[n];if(typeof o<"u"&&typeof o!="string"){let i=typeof o=="function"?o:o.component,l=Qu(r,n);a.push({action:n,element:i,path:l}),n==="create"&&a.push({action:"clone",element:i,path:l})}}),a.map(({action:n,element:o,path:i})=>{let l=ia.default.createElement(o,null);return ia.default.createElement(Ti.Route,{key:`${n}-${i}`,path:i,element:l})})});var $i=h("react-router-dom"),Ku=({children:e})=>{let{resources:t}=(0,Ai.useResource)(),r=oa.default.useMemo(()=>Oi(t),[t]);return e?e(r):oa.default.createElement($i.Routes,null,r)};var dr=ye(vt()),Ii=ye(h("react")),Fi=h("react-router-dom"),Uu=({resource:e,meta:t})=>{let r=(0,dr.useGetToPath)(),{resource:a,resources:n}=(0,dr.useResource)(e),o=a||n.find(i=>i.list);if(o){let i=r({resource:o,action:"list",meta:t});return i?Ii.default.createElement(Fi.Navigate,{to:i}):(console.warn("No resource is found to navigate to."),null)}else return console.warn("No resource is found to navigate to."),null};var sa=ye(h("react")),cr=ye(vt());var Lt=ye(h("react")),Qi=h("react-router-dom");function Wu(e,t=!0){let{navigator:r}=Lt.default.useContext(Qi.UNSAFE_NavigationContext);Lt.default.useEffect(()=>{if(!t)return;let a=r.go,n=r.push;return r.push=(...o)=>{e()!==!1&&n(...o)},r.go=(...o)=>{e()!==!1&&a(...o)},()=>{r.push=n,r.go=a}},[r,e,t])}function Ki(e,t=!0,r,a=!1){let n=Lt.default.useCallback(i=>(i.preventDefault(),i.returnValue=e,i.returnValue),[e]);Lt.default.useEffect(()=>(t&&!a&&window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}),[n,t,a]);let o=Lt.default.useCallback(()=>{let i=window.confirm(e);return i&&r&&r(),i},[e]);Wu(o,t)}var Ui=h("react-router-dom"),ju=({translationKey:e="warnWhenUnsavedChanges",message:t="Are you sure you want to leave? You have unsaved changes."})=>{let r=(0,cr.useTranslate)(),{pathname:a}=(0,Ui.useLocation)(),{warnWhen:n,setWarnWhen:o}=(0,cr.useWarnAboutChange)();sa.default.useEffect(()=>()=>o==null?void 0:o(!1),[a]);let i=sa.default.useMemo(()=>r(e,t),[e,t,r]);return Ki(i,n,()=>{o==null||o(!1)}),null};var Wi=ye(h("react")),mr=h("react-router-dom"),zu=({to:e})=>{let{pathname:t,search:r}=(0,mr.useLocation)(),a=`${t}${r}`,n=a.length>1?`?to=${encodeURIComponent(a)}`:"";return Wi.default.createElement(mr.Navigate,{to:`${e}${n}`})};var nt=ye(vt()),At=ye(h("react")),ji=h("react-router-dom");function Bu({handler:e}){var f;let t=(0,ji.useLocation)(),{action:r,id:a,params:n,pathname:o,resource:i}=(0,nt.useParsed)(),l=(0,nt.useTranslate)(),c=(0,nt.useUserFriendlyName)(),d=(i==null?void 0:i.identifier)??(i==null?void 0:i.name),m=(i==null?void 0:i.label)??((f=i==null?void 0:i.meta)==null?void 0:f.label)??c(d,r==="list"?"plural":"singular");return(0,At.useLayoutEffect)(()=>{let C=(0,nt.generateDefaultDocumentTitle)(l,i,r,a+"",m);e?document.title=e({action:r,resource:i,params:n,pathname:o,autoGeneratedTitle:C}):document.title=C},[t]),At.default.createElement(At.default.Fragment,null)}var zi=ye(vt()),Bi=h("react"),_u=e=>{let t=(0,zi.useTranslate)();return(0,Bi.useEffect)(()=>{e&&(typeof e=="string"?document.title=t(e):document.title=t(e.i18nKey))},[e]),r=>{typeof r=="string"?document.title=t(r):document.title=t(r.i18nKey)}};})();
//# sourceMappingURL=index.js.map
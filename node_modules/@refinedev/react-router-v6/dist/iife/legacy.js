(()=>{var Qn=Object.create;var na=Object.defineProperty;var Kn=Object.getOwnPropertyDescriptor;var Un=Object.getOwnPropertyNames;var Wn=Object.getPrototypeOf,jn=Object.prototype.hasOwnProperty;var b=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var mr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var zn=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Un(t))!jn.call(e,o)&&o!==r&&na(e,o,{get:()=>t[o],enumerable:!(a=Kn(t,o))||a.enumerable});return e};var kt=(e,t,r)=>(r=e!=null?Qn(Wn(e)):{},zn(t||!e||!e.__esModule?na(r,"default",{value:e,enumerable:!0}):r,e));var jt=mr((ku,va)=>{var Bn=Object.create,Wt=Object.defineProperty,Hn=Object.getOwnPropertyDescriptor,_n=Object.getOwnPropertyNames,Gn=Object.getPrototypeOf,Xn=Object.prototype.hasOwnProperty,Vn=(e,t)=>{for(var r in t)Wt(e,r,{get:t[r],enumerable:!0})},ia=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _n(t))!Xn.call(e,o)&&o!==r&&Wt(e,o,{get:()=>t[o],enumerable:!(a=Hn(t,o))||a.enumerable});return e},Yn=(e,t,r)=>(r=e!=null?Bn(Gn(e)):{},ia(t||!e||!e.__esModule?Wt(r,"default",{value:e,enumerable:!0}):r,e)),Jn=e=>ia(Wt({},"__esModule",{value:!0}),e),sa={};Vn(sa,{DevToolsContext:()=>ma,DevToolsContextProvider:()=>ei,DevtoolsEvent:()=>la,hooksByScope:()=>Zn,receive:()=>ca,scopes:()=>ua,send:()=>da});va.exports=Jn(sa);var la=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(la||{}),ua={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},Zn=Object.entries(ua).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),yt=Yn(b("react"));async function da(e,t,r){if(e.readyState!==e.OPEN){await new Promise(a=>{let o=()=>{e.send(JSON.stringify({event:t,payload:r})),a(),e.removeEventListener("open",o)};e.addEventListener("open",o)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}function ca(e,t,r){let a=o=>{let{event:i,payload:n}=JSON.parse(o.data);t===i&&r(n)};return e.addEventListener("message",a),()=>{e.removeEventListener("message",a)}}var ma=yt.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),ei=({__devtools:e,port:t,children:r})=>{let[a,o]=yt.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[i,n]=yt.default.useState(null);yt.default.useEffect(()=>{let m=new WebSocket(`${a.secure?"wss":"ws"}://localhost:${a.port}`),d=ca(m,"devtools:handshake",v=>{o(g=>({...g,devtoolsUrl:v.url})),d()});return m.addEventListener("open",()=>{a.__devtools||da(m,"devtools:init",{url:window.location.origin})}),n(m),()=>{d(),m.close(1e3,window.location.origin)}},[]);let l=yt.default.useMemo(()=>({...a,ws:i}),[a,i]);return yt.default.createElement(ma.Provider,{value:l},r)}});var ee=mr((Ru,Pa)=>{var ti=Object.create,zt=Object.defineProperty,ri=Object.getOwnPropertyDescriptor,ai=Object.getOwnPropertyNames,oi=Object.getPrototypeOf,ni=Object.prototype.hasOwnProperty,ii=(e,t)=>{for(var r in t)zt(e,r,{get:t[r],enumerable:!0})},pa=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ai(t))!ni.call(e,o)&&o!==r&&zt(e,o,{get:()=>t[o],enumerable:!(a=ri(t,o))||a.enumerable});return e},fa=(e,t,r)=>(r=e!=null?ti(oi(e)):{},pa(t||!e||!e.__esModule?zt(r,"default",{value:e,enumerable:!0}):r,e)),si=e=>pa(zt({},"__esModule",{value:!0}),e),ga={};ii(ga,{getTrace:()=>ha,getXRay:()=>pi,useQuerySubscription:()=>fi});Pa.exports=si(ga);var li=fa(b("error-stack-parser")),ui="renderWithHooks",di=e=>{let t=e.findIndex(r=>r.functionName===ui);return t!==-1?e.slice(0,t):e},ya=/node_modules\/refinedev\/(?<name>.*?)\//,ci=e=>e?!!e.match(ya):!1,mi=e=>{var t;if(!e)return;let r=e.match(ya),a=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(a)return`@refinedev/${a}`};function ha(){return[];try{let e=new Error,t=li.default.parse(e);return di(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:ci(r.fileName),packageName:mi(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}var vr=jt(),vi=(e,t)=>{if(vr.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(vr.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(vr.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null};function pi(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}var qu=jt(),Mu=fa(b("react")),Nu=jt(),fi=()=>({})});var ta=mr((Ou,xn)=>{var gi=Object.create,Mt=Object.defineProperty,yi=Object.getOwnPropertyDescriptor,hi=Object.getOwnPropertyNames,Pi=Object.getPrototypeOf,Ei=Object.prototype.hasOwnProperty,s=(e,t)=>Mt(e,"name",{value:t,configurable:!0}),bi=(e,t)=>{for(var r in t)Mt(e,r,{get:t[r],enumerable:!0})},yo=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hi(t))!Ei.call(e,o)&&o!==r&&Mt(e,o,{get:()=>t[o],enumerable:!(a=yi(t,o))||a.enumerable});return e},Q=(e,t,r)=>(r=e!=null?gi(Pi(e)):{},yo(t||!e||!e.__esModule?Mt(r,"default",{value:e,enumerable:!0}):r,e)),Ci=e=>yo(Mt({},"__esModule",{value:!0}),e),ho={};bi(ho,{AccessControlContext:()=>At,AuthPage:()=>Yl,Authenticated:()=>Ln,AutoSaveIndicator:()=>Cu,CanAccess:()=>yu,ErrorComponent:()=>Hl,GitHubBanner:()=>Eu,KeyBuilder:()=>Fr,LayoutWrapper:()=>mu,LoginPage:()=>bn,ReadyPage:()=>Cn,Refine:()=>cu,ResourceContext:()=>Rt,RouteChangeHandler:()=>Sn,TranslationContext:()=>mt,UndoableQueue:()=>wn,WelcomePage:()=>Zl,createTreeView:()=>Ti,file2Base64:()=>es,flattenObjectKeys:()=>Nr,generateDefaultDocumentTitle:()=>zo,getDefaultFilter:()=>Zi,getDefaultSortOrder:()=>Ji,getNextPageParam:()=>Fo,getPreviousPageParam:()=>Qo,handleUseParams:()=>xi,importCSVMapper:()=>bo,keys:()=>tt,legacyResourceTransform:()=>Ko,matchResourceFromRoute:()=>Oi,parseTableParams:()=>Wr,parseTableParamsFromQuery:()=>Yi,pickDataProvider:()=>X,pickNotDeprecated:()=>F,propertyPathToArray:()=>Vi,queryKeys:()=>Di,routeGenerator:()=>To,setInitialFilters:()=>Tr,setInitialSorters:()=>Ar,stringifyTableParams:()=>Rr,unionFilters:()=>qt,unionSorters:()=>Or,useActiveAuthProvider:()=>ve,useApiUrl:()=>ks,useAuthenticated:()=>is,useBack:()=>fn,useBreadcrumb:()=>jl,useCan:()=>hn,useCanWithoutCache:()=>Nl,useCancelNotification:()=>wt,useCheckError:()=>ss,useCreate:()=>Vr,useCreateMany:()=>Zo,useCustom:()=>Ns,useCustomMutation:()=>Ts,useDataProvider:()=>Pe,useDelete:()=>bs,useDeleteMany:()=>Ds,useExport:()=>dl,useForgotPassword:()=>Hr,useForm:()=>vl,useGetIdentity:()=>jr,useGetLocale:()=>sl,useGetToPath:()=>nr,useGo:()=>Ie,useHandleNotification:()=>Me,useImport:()=>bl,useInfiniteList:()=>Qs,useInvalidate:()=>Ve,useIsAuthenticated:()=>or,useIsExistAuthentication:()=>Vo,useLink:()=>ir,useList:()=>Gr,useLiveMode:()=>cn,useLoadingOvertime:()=>fe,useLog:()=>vt,useLogList:()=>Kl,useLogin:()=>ar,useLogout:()=>Zt,useMany:()=>Yo,useMenu:()=>Bl,useMeta:()=>de,useModal:()=>Cl,useMutationMode:()=>Ct,useNavigation:()=>$e,useNotification:()=>nt,useOnError:()=>we,useOne:()=>Xr,useParse:()=>un,useParsed:()=>je,usePermissions:()=>Xo,usePublish:()=>ct,useRedirectionAfterSubmission:()=>pn,useRefineContext:()=>Ce,useRegister:()=>Br,useResource:()=>V,useResourceSubscription:()=>Tt,useResourceWithRoute:()=>dn,useRouterContext:()=>Ne,useRouterType:()=>pe,useSelect:()=>Tl,useSetLocale:()=>il,useShow:()=>hl,useSubscription:()=>Zs,useSyncWithLocation:()=>Ho,useTable:()=>Pn,useTitle:()=>_i,useToPath:()=>wl,useTranslate:()=>re,useUpdate:()=>Ir,useUpdateMany:()=>Ss,useUpdatePassword:()=>_r,useUserFriendlyName:()=>Ur,useWarnAboutChange:()=>Kr,userFriendlyResourceName:()=>Co});xn.exports=Ci(ho);var st=Q(b("react")),Ea=b("@tanstack/react-query"),ba=ee(),$r=Q(b("qs")),Po=Q(b("lodash/unionWith")),Eo=Q(b("lodash/differenceWith")),wi=Q(b("warn-once")),pr=s(e=>e/1e3,"userFriendlySecond"),Li=Q(b("lodash/zip")),Si=Q(b("lodash/fromPairs")),bo=s((e,t=r=>r)=>{let[r,...a]=e;return a.map(o=>(0,Si.default)((0,Li.default)(r,o))).map((o,i,n)=>t.call(void 0,o,i,n))},"importCSVMapper"),Ca=Q(b("pluralize")),Co=s((e="",t)=>{let r=Ao(e);return t==="singular"?Ca.default.singular(r):Ca.default.plural(r)},"userFriendlyResourceName"),xi=s((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),F=s((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function ze(e,t){return e.findIndex((r,a)=>a<=e.length-t.length&&t.every((o,i)=>e[a+i]===o))}s(ze,"arrayFindIndex");function wo(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(ze(e,["auth","login"])!==-1)return["useLogin"];if(ze(e,["auth","logout"])!==-1)return["useLogout"];if(ze(e,["auth","identity"])!==-1)return["getUserIdentity"];if(ze(e,["auth","register"])!==-1)return["useRegister"];if(ze(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(ze(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(ze(e,["auth","onError"])!==-1)return["useCheckError"];if(ze(e,["auth","permissions"])!==-1)return["usePermissions"];if(ze(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}s(wo,"convertToLegacy");var qe=class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return wo(this.segments)}get(e){return e?this.legacy():this.segments}};s(qe,"BaseKeyBuilder");var Xe=class extends qe{constructor(e){super(e)}params(e){return new qe([...this.segments,e])}};s(Xe,"ParamsKeyBuilder");var Lo=class extends qe{constructor(e){super(e)}id(e){return new Xe([...this.segments,e?String(e):void 0])}};s(Lo,"DataIdRequiringKeyBuilder");var So=class extends qe{constructor(e){super(e)}ids(...e){return new Xe([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}};s(So,"DataIdsRequiringKeyBuilder");var xo=class extends qe{constructor(e){super(e)}action(e){if(e==="one")return new Lo([...this.segments,e]);if(e==="many")return new So([...this.segments,e]);if(["list","infinite"].includes(e))return new Xe([...this.segments,e]);throw new Error("Invalid action type")}};s(xo,"DataResourceKeyBuilder");var Do=class extends qe{constructor(e){super(e)}resource(e){return new xo([...this.segments,e])}mutation(e){return new Xe([...e==="custom"?this.segments:[this.segments[0]],e])}};s(Do,"DataKeyBuilder");var ko=class extends qe{constructor(e){super(e)}action(e){return new Xe([...this.segments,e])}};s(ko,"AuthKeyBuilder");var qo=class extends qe{constructor(e){super(e)}action(e){return new Xe([...this.segments,e])}};s(qo,"AccessResourceKeyBuilder");var Mo=class extends qe{constructor(e){super(e)}resource(e){return new qo([...this.segments,e])}};s(Mo,"AccessKeyBuilder");var No=class extends qe{constructor(e){super(e)}action(e){return new Xe([...this.segments,e])}};s(No,"AuditActionKeyBuilder");var Ro=class extends qe{constructor(e){super(e)}resource(e){return new No([...this.segments,e])}action(e){return new Xe([...this.segments,e])}};s(Ro,"AuditKeyBuilder");var Fr=class extends qe{constructor(e){super(e)}data(e){return new Do(["data",e||"default"])}auth(){return new ko(["auth"])}access(){return new Mo(["access"])}audit(){return new Ro(["audit"])}};s(Fr,"KeyBuilder");var tt=s(()=>new Fr([]),"keys"),Di=s((e,t,r,a)=>{let o=t||"default",i={all:[o],resourceAll:[o,e||""],list:n=>[...i.resourceAll,"list",{...n,...F(r,a)||{}}],many:n=>[...i.resourceAll,"getMany",n&&n.map(String),{...F(r,a)||{}}].filter(l=>l!==void 0),detail:n=>[...i.resourceAll,"detail",n==null?void 0:n.toString(),{...F(r,a)||{}}],logList:n=>["logList",e,n,a].filter(l=>l!==void 0)};return i},"queryKeys"),tr=s(e=>(t,r,a,o)=>{let i=r||"default";return{all:tt().data(i).get(e),resourceAll:tt().data(r).resource(t??"").get(e),list:n=>tt().data(r).resource(t??"").action("list").params({...n,...F(a,o)||{}}).get(e),many:n=>tt().data(r).resource(t??"").action("many").ids(...n??[]).params({...F(a,o)||{}}).get(e),detail:n=>tt().data(r).resource(t??"").action("one").id(n??"").params({...F(a,o)||{}}).get(e),logList:n=>[...tt().audit().resource(t).action("list").params(n).get(e),o].filter(l=>l!==void 0)}},"queryKeysReplacement"),ki=s((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),Qr=s(e=>e.startsWith(":"),"isParameter"),Et=s(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),qi=s((e,t)=>{let r=Et(e),a=Et(t);return r.length===a.length},"isSegmentCountsSame"),Ge=s(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),Mi=s((e,t)=>{let r=Ge(e),a=Ge(t);if(!qi(r,a))return!1;let o=Et(r);return Et(a).every((i,n)=>Qr(i)||i===o[n])},"checkBySegments"),Ni=s((e,t,r)=>{let a=Ge(r||""),o=`${a}${a?"/":""}${e}`;return t==="list"?o=`${o}`:t==="create"?o=`${o}/create`:t==="edit"?o=`${o}/edit/:id`:t==="show"?o=`${o}/show/:id`:t==="clone"&&(o=`${o}/clone/:id`),`/${o.replace(/^\//,"")}`},"getDefaultActionPath"),at=s((e,t)=>{var r,a;let o=F((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return o?t.find(i=>(i.identifier??i.name)===o)??{name:o}:void 0},"getParentResource"),Oo=s((e,t,r)=>{let a=[],o=at(e,t);for(;o;)a.push(o),o=at(o,t);if(a.length!==0)return`/${a.reverse().map(i=>{var n;let l=r?((n=i.options)==null?void 0:n.route)??i.name:i.name;return Ge(l)}).join("/")}`},"getParentPrefixForResource"),ke=s((e,t,r)=>{let a=[],o=["list","show","edit","create","clone"],i=Oo(e,t,r);return o.forEach(n=>{var l,m;let d=r&&n==="clone"?e.create:e[n],v;typeof d=="function"||r?v=Ni(r?((l=e.meta)==null?void 0:l.route)??((m=e.options)==null?void 0:m.route)??e.name:e.name,n,r?i:void 0):typeof d=="string"?v=d:typeof d=="object"&&(v=d.path),v&&a.push({action:n,resource:e,route:`/${v.replace(/^\//,"")}`})}),a},"getActionRoutesFromResource"),Ri=s(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(i=>({...i,splitted:Et(Ge(i.route))})),a=((t=r[0])==null?void 0:t.splitted.length)??0,o=[...r];for(let i=0;i<a;i++){let n=o.filter(l=>!Qr(l.splitted[i]));if(n.length!==0){if(n.length===1){o=n;break}o=n}}return o[0]},"pickMatchedRoute"),Oi=s((e,t)=>{let r=t.flatMap(o=>ke(o,t)).filter(o=>Mi(e,o.route)),a=Ri(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},"matchResourceFromRoute"),To=s((e,t)=>{var r;let a,o=Oo(e,t,!0);if(o){let i=F(e.meta,e.options);a=`${o}/${(i==null?void 0:i.route)??e.name}`}else a=((r=e.options)==null?void 0:r.route)??e.name;return`/${a.replace(/^\//,"")}`},"routeGenerator"),Ti=s(e=>{var t;let r=[],a={},o={},i,n;for(let l=0;l<e.length;l++){i=e[l];let m=i.route??((t=F(i==null?void 0:i.meta,i.options))==null?void 0:t.route)??"";a[m]=i,a[m].children=[],o[i.name]=i,o[i.name].children=[]}for(let l in a)a.hasOwnProperty(l)&&(n=a[l],n.parentName&&o[n.parentName]?o[n.parentName].children.push(n):r.push(n));return r},"createTreeView"),Ao=s(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),Io=Q(b("react")),wa=Q(b("pluralize")),Ai=Q(b("react")),$o=s(({children:e})=>Ai.default.createElement("div",null,e),"DefaultLayout"),be={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:Ao,plural:wa.default.plural,singular:wa.default.singular},disableServerSideValidation:!1},ot=Io.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:$o,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:be}),Ii=s(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:o,children:i,DashboardPage:n,Title:l,Layout:m=$o,Header:d,Sider:v,Footer:g,OffLayoutArea:C,LoginPage:u=bn,catchAll:f,liveMode:P="off",onLiveEvent:p,options:y})=>Io.default.createElement(ot.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:l,undoableTimeout:o,Layout:m,Header:d,Sider:v,Footer:g,OffLayoutArea:C,DashboardPage:n,LoginPage:u,catchAll:f,liveMode:P,onLiveEvent:p,options:y}},i),"RefineContextProvider"),$i=s(({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:o,reactQueryDevtoolConfig:i,syncWithLocation:n,undoableTimeout:l,warnWhenUnsavedChanges:m}={})=>{var d,v,g,C,u,f,P,p;let y={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??a??be.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??l??be.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??n??be.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??m??be.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??be.liveMode,redirect:{afterCreate:((d=e==null?void 0:e.redirect)==null?void 0:d.afterCreate)??be.redirect.afterCreate,afterClone:((v=e==null?void 0:e.redirect)==null?void 0:v.afterClone)??be.redirect.afterClone,afterEdit:((g=e==null?void 0:e.redirect)==null?void 0:g.afterEdit)??be.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??be.overtime,textTransformers:{humanize:((C=e==null?void 0:e.textTransformers)==null?void 0:C.humanize)??be.textTransformers.humanize,plural:((u=e==null?void 0:e.textTransformers)==null?void 0:u.plural)??be.textTransformers.plural,singular:((f=e==null?void 0:e.textTransformers)==null?void 0:f.singular)??be.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??be.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},c=(e==null?void 0:e.disableTelemetry)??t??!1,E={clientConfig:((P=e==null?void 0:e.reactQuery)==null?void 0:P.clientConfig)??o??{},devtoolConfig:((p=e==null?void 0:e.reactQuery)==null?void 0:p.devtoolConfig)??i??{}};return{optionsWithDefaults:y,disableTelemetryWithDefault:c,reactQueryWithDefaults:E}},"handleRefineOptions"),Fi=s(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),La=s(async(e,t,r)=>{let a=[];for(let[o,i]of e.entries())try{let n=await i();a.push(t(n,o))}catch(n){a.push(r(n,o))}return a},"sequentialPromises"),ge=s((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(i=>Ge(i.route??"")===Ge(e))||t.find(i=>i.name===e);let a=t.find(o=>o.identifier===e);return a||(a=t.find(o=>o.name===e)),a},"pickResource"),X=s((e,t,r)=>{if(t)return t;let a=ge(e,r),o=F(a==null?void 0:a.meta,a==null?void 0:a.options);return o!=null&&o.dataProviderName?o.dataProviderName:"default"},"pickDataProvider"),rr=s(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),Fo=s(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,o=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/o);return a<i?Number(a)+1:void 0},"getNextPageParam"),Qo=s(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},"getPreviousPageParam"),Ko=s(e=>{let t=[];return e.forEach(r=>{var a,o;t.push({...r,label:((a=r.meta)==null?void 0:a.label)??((o=r.options)==null?void 0:o.label),route:To(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),Qi=s(e=>Et(Ge(e)).flatMap(t=>Qr(t)?[t.slice(1)]:[]),"pickRouteParams"),Ki=s((e,t={})=>e.reduce((r,a)=>{let o=t[a];return typeof o<"u"&&(r[a]=o),r},{}),"prepareRouteParams"),Oe=s((e,t={},r={},a={})=>{let o=Qi(e),i=Ki(o,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...a});return e.replace(/:([^\/]+)/g,(n,l)=>{let m=i[l];return typeof m<"u"?`${m}`:n})},"composeRoute"),bt=Q(b("react")),Uo=bt.default.createContext({}),Ui=s(({children:e,isProvided:t,...r})=>{let{replace:a}=$e(),o=s(async m=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,m))}catch(v){return Promise.reject(v)}},"loginFunc"),i=s(async m=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,m))}catch(v){return Promise.reject(v)}},"registerFunc"),n=s(async m=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,m))}catch(v){return Promise.reject(v)}},"logoutFunc"),l=s(async m=>{var d;try{return await((d=r.checkAuth)==null?void 0:d.call(r,m)),Promise.resolve()}catch(v){return v!=null&&v.redirectPath&&a(v.redirectPath),Promise.reject(v)}},"checkAuthFunc");return bt.default.createElement(Uo.Provider,{value:{...r,login:o,logout:n,checkAuth:l,register:i,isProvided:t}},e)},"LegacyAuthContextProvider"),Wo=bt.default.createContext({}),Wi=s(({children:e,isProvided:t,...r})=>{let a=s(async d=>{var v;try{return await((v=r.login)==null?void 0:v.call(r,d))}catch(g){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleLogin"),o=s(async d=>{var v;try{return await((v=r.register)==null?void 0:v.call(r,d))}catch(g){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleRegister"),i=s(async d=>{var v;try{return await((v=r.logout)==null?void 0:v.call(r,d))}catch(g){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleLogout"),n=s(async d=>{var v;try{let g=await((v=r.check)==null?void 0:v.call(r,d));return Promise.resolve(g)}catch(g){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleCheck"),l=s(async d=>{var v;try{let g=await((v=r.forgotPassword)==null?void 0:v.call(r,d));return Promise.resolve(g)}catch(g){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleForgotPassword"),m=s(async d=>{var v;try{let g=await((v=r.updatePassword)==null?void 0:v.call(r,d));return Promise.resolve(g)}catch(g){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleUpdatePassword");return bt.default.createElement(Wo.Provider,{value:{...r,login:a,logout:i,check:n,register:o,forgotPassword:l,updatePassword:m,isProvided:t}},e)},"AuthBindingsContextProvider"),Ae=s(()=>bt.default.useContext(Uo),"useLegacyAuthContext"),We=s(()=>bt.default.useContext(Wo),"useAuthBindingsContext"),ve=s(()=>{let e=Ae(),t=We();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),jo=s(({hasPagination:e,pagination:t,configPagination:r}={})=>{let a=e===!1?"off":"server",o=(t==null?void 0:t.mode)??a,i=F(t==null?void 0:t.current,r==null?void 0:r.current)??1,n=F(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:i,pageSize:n,mode:o}},"handlePaginationParams"),Sa=b("react"),xa=s(e=>{let[t,r]=(0,Sa.useState)(!1);return(0,Sa.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&r(a.matches);let o=s(()=>r(a.matches),"listener");return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[t,e]),t},"useMediaQuery"),fr=s((e,t,r,a)=>{let o=a?e(t,a,r):e(t,r);return o===t||typeof o>"u"?r??t:o},"safeTranslate");function zo(e,t,r,a,o){var i;let n={create:"Create new ",clone:`#${a??""} Clone `,edit:`#${a??""} Edit `,show:`#${a??""} Show `,list:""},l=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),m=(t==null?void 0:t.label)??((i=t==null?void 0:t.meta)==null?void 0:i.label)??Co(l,r==="list"?"plural":"singular"),d=o??m,v=fr(e,"documentTitle.default","refine"),g=fr(e,"documentTitle.suffix"," | refine"),C=v;return r&&l&&(C=fr(e,`documentTitle.${l}.${r}`,`${n[r]??""}${d}${g}`,{id:a})),C}s(zo,"generateDefaultDocumentTitle");var ji=b("react"),Ct=s(()=>{let{mutationMode:e,undoableTimeout:t}=(0,ji.useContext)(ot);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),Da=b("react"),Mr=Q(b("react")),Bo=Mr.default.createContext({}),zi=s(({children:e})=>{let[t,r]=(0,Mr.useState)(!1);return Mr.default.createElement(Bo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),Kr=s(()=>{let{warnWhenUnsavedChanges:e}=(0,Da.useContext)(ot),{warnWhen:t,setWarnWhen:r}=(0,Da.useContext)(Bo);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),Bi=b("react"),Ho=s(()=>{let{syncWithLocation:e}=(0,Bi.useContext)(ot);return{syncWithLocation:e}},"useSyncWithLocation"),Hi=b("react"),_i=s(()=>{let{Title:e}=(0,Hi.useContext)(ot);return e},"useTitle"),Gi=b("react"),Ce=s(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:o,Title:i,hasDashboard:n,mutationMode:l,syncWithLocation:m,undoableTimeout:d,warnWhenUnsavedChanges:v,DashboardPage:g,LoginPage:C,catchAll:u,options:f}=(0,Gi.useContext)(ot);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:o,Title:i,hasDashboard:n,mutationMode:l,syncWithLocation:m,undoableTimeout:d,warnWhenUnsavedChanges:v,DashboardPage:g,LoginPage:C,catchAll:u,options:f}},"useRefineContext"),Ur=s(()=>{let{options:{textTransformers:e}}=Ce();return s((t="",r)=>{let a=e.humanize(t);return r==="singular"?e.singular(a):e.plural(a)},"getFriendlyName")},"useUserFriendlyName"),ka=s(e=>typeof e=="object"&&e!==null,"isNested"),Xi=s(e=>Array.isArray(e),"isArray"),Nr=s((e,t="")=>ka(e)?Object.keys(e).reduce((r,a)=>{let o=t.length?t+".":"";return ka(e[a])&&Object.keys(e[a]).length?Xi(e[a])&&e[a].length?e[a].forEach((i,n)=>{Object.assign(r,Nr(i,o+a+"."+n))}):Object.assign(r,Nr(e[a],o+a)):r[o+a]=e[a],r},{}):{[t]:e},"flattenObjectKeys"),Vi=s(e=>e.split(".").map(t=>isNaN(Number(t))?t:Number(t)),"propertyPathToArray"),Wr=s(e=>{let{current:t,pageSize:r,sorter:a,sorters:o,filters:i}=$r.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:F(o,a)??[],parsedFilters:i??[]}},"parseTableParams"),Yi=s(e=>{let t=$r.default.stringify(e);return Wr(`/${t}`)},"parseTableParamsFromQuery"),Rr=s(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:o,filters:i,...n}=e;return $r.default.stringify({...n,...r||{},sorters:F(o,a),filters:i},t)},"stringifyTableParams"),_o=s((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),Go=s((e,t)=>e.field==t.field,"compareSorters"),qt=s((e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,wi.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Po.default)(e,t,r,_o).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),"unionFilters"),Or=s((e,t)=>(0,Po.default)(e,t,Go).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Tr=s((e,t)=>[...(0,Eo.default)(t,e,_o),...e],"setInitialFilters"),Ar=s((e,t)=>[...(0,Eo.default)(t,e,Go),...e],"setInitialSorters"),Ji=s((e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},"getDefaultSortOrder"),Zi=s((e,t,r="eq")=>{let a=t==null?void 0:t.find(o=>{if(o.operator!=="or"&&o.operator!=="and"&&"field"in o){let{operator:i,field:n}=o;return n===e&&i===r}});if(a)return a.value||[]},"getDefaultFilter"),es=s(e=>new Promise((t,r)=>{let a=new FileReader,o=s(()=>{a.result&&(a.removeEventListener("load",o,!1),t(a.result))},"resultHandler");a.addEventListener("load",o,!1),a.readAsDataURL(e.originFileObj),a.onerror=i=>(a.removeEventListener("load",o,!1),r(i))}),"file2Base64"),te=s(()=>{let{options:{useNewQueryKeys:e}}=Ce();return{keys:tt,preferLegacyKeys:!e}},"useKeys");function Xo({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=Ae(),{getPermissions:a}=We(),{keys:o,preferLegacyKeys:i}=te(),n=(0,Ea.useQuery)(o().auth().action("permissions").get(i),a??(()=>Promise.resolve(void 0)),{enabled:!e&&!!a,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,ba.getXRay)("usePermissions",i)}}),l=(0,Ea.useQuery)([...o().auth().action("permissions").get(i),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ba.getXRay)("usePermissions",i)}});return e?l:n}s(Xo,"usePermissions");var qa=b("@tanstack/react-query"),Ma=ee();function jr({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=Ae(),{getIdentity:a}=We(),{keys:o,preferLegacyKeys:i}=te(),n=(0,qa.useQuery)(o().auth().action("identity").get(i),a??(()=>Promise.resolve({})),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ma.getXRay)("useGetIdentity",i)}}),l=(0,qa.useQuery)([...o().auth().action("identity").get(i),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ma.getXRay)("useGetIdentity",i)}});return e?l:n}s(jr,"useGetIdentity");var Na=b("@tanstack/react-query"),Ra=ee(),ts=b("@tanstack/react-query"),zr=s(()=>{let e=(0,ts.useQueryClient)(),{keys:t,preferLegacyKeys:r}=te();return s(async()=>{await Promise.all(["check","identity","permissions"].map(a=>e.invalidateQueries(t().auth().action(a).get(r))))},"invalidate")},"useInvalidateAuthStore");function Zt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=zr(),a=pe(),o=Ie(),{push:i}=$e(),{open:n,close:l}=nt(),{logout:m}=Ae(),{logout:d}=We(),{keys:v,preferLegacyKeys:g}=te(),C=(0,Na.useMutation)(v().auth().action("logout").get(g),d,{onSuccess:async(f,P)=>{let{success:p,error:y,redirectTo:c}=f,{redirectPath:E}=P??{},L=E??c;p&&(l==null||l("useLogout-error")),(y||!p)&&(n==null||n(gr(y))),L!==!1&&(a==="legacy"?i(L??"/login"):L&&o({to:L})),await r()},onError:f=>{n==null||n(gr(f))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ra.getXRay)("useLogout",g)}}),u=(0,Na.useMutation)([...v().auth().action("logout").get(g),"v3LegacyAuthProviderCompatible"],m,{onSuccess:async(f,P)=>{let p=(P==null?void 0:P.redirectPath)??f;if(p!==!1){if(p){a==="legacy"?i(p):o({to:p});return}a==="legacy"?i("/login"):o({to:"/login"}),await r()}},onError:f=>{n==null||n(gr(f))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ra.getXRay)("useLogout",g)}});return e?u:C}s(Zt,"useLogout");var gr=s(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),rs=Q(b("react")),Oa=b("@tanstack/react-query"),Ta=ee(),as=Q(b("qs"));function ar({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=zr(),a=pe(),o=Ie(),{replace:i}=$e(),n=je(),{useLocation:l}=Ne(),{search:m}=l(),{close:d,open:v}=nt(),{login:g}=Ae(),{login:C}=We(),{keys:u,preferLegacyKeys:f}=te(),P=rs.default.useMemo(()=>{var c;return a==="legacy"?as.default.parse(m,{ignoreQueryPrefix:!0}).to:(c=n.params)==null?void 0:c.to},[a,n.params,m]),p=(0,Oa.useMutation)(u().auth().action("login").get(f),C,{onSuccess:async({success:c,redirectTo:E,error:L})=>{c&&(d==null||d("login-error")),(L||!c)&&(v==null||v(yr(L))),P&&c?a==="legacy"?i(P):o({to:P,type:"replace"}):E?a==="legacy"?i(E):o({to:E,type:"replace"}):a==="legacy"&&i("/"),await r()},onError:c=>{v==null||v(yr(c))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ta.getXRay)("useLogin",f)}}),y=(0,Oa.useMutation)([...u().auth().action("login").get(f),"v3LegacyAuthProviderCompatible"],g,{onSuccess:async c=>{P&&i(P),c!==!1&&!P&&(typeof c=="string"?a==="legacy"?i(c):o({to:c,type:"replace"}):a==="legacy"?i("/"):o({to:"/",type:"replace"})),await r(),d==null||d("login-error")},onError:c=>{v==null||v(yr(c))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ta.getXRay)("useLogin",f)}});return e?y:p}s(ar,"useLogin");var yr=s(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),Aa=b("@tanstack/react-query"),Ia=ee();function Br({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=zr(),a=pe(),o=Ie(),{replace:i}=$e(),{register:n}=Ae(),{register:l}=We(),{close:m,open:d}=nt(),{keys:v,preferLegacyKeys:g}=te(),C=(0,Aa.useMutation)(v().auth().action("register").get(g),l,{onSuccess:async({success:f,redirectTo:P,error:p})=>{f&&(m==null||m("register-error")),(p||!f)&&(d==null||d(hr(p))),P?a==="legacy"?i(P):o({to:P,type:"replace"}):a==="legacy"&&i("/"),await r()},onError:f=>{d==null||d(hr(f))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ia.getXRay)("useRegister",g)}}),u=(0,Aa.useMutation)([...v().auth().action("register").get(g),"v3LegacyAuthProviderCompatible"],n,{onSuccess:async f=>{f!==!1&&(f?a==="legacy"?i(f):o({to:f,type:"replace"}):a==="legacy"?i("/"):o({to:"/",type:"replace"}),await r(),m==null||m("register-error"))},onError:f=>{d==null||d(hr(f))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ia.getXRay)("useRegister",g)}});return e?u:C}s(Br,"useRegister");var hr=s(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),$a=b("@tanstack/react-query"),Fa=ee();function Hr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=pe(),a=Ie(),{replace:o}=$e(),{forgotPassword:i}=Ae(),{forgotPassword:n}=We(),{close:l,open:m}=nt(),{keys:d,preferLegacyKeys:v}=te(),g=(0,$a.useMutation)(d().auth().action("forgotPassword").get(v),n,{onSuccess:({success:u,redirectTo:f,error:P})=>{u&&(l==null||l("forgot-password-error")),(P||!u)&&(m==null||m(Pr(P))),f&&(r==="legacy"?o(f):a({to:f,type:"replace"}))},onError:u=>{m==null||m(Pr(u))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Fa.getXRay)("useForgotPassword",v)}}),C=(0,$a.useMutation)([...d().auth().action("forgotPassword").get(v),"v3LegacyAuthProviderCompatible"],i,{onSuccess:u=>{u!==!1&&u&&(r==="legacy"?o(u):a({to:u,type:"replace"})),l==null||l("forgot-password-error")},onError:u=>{m==null||m(Pr(u))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Fa.getXRay)("useForgotPassword",v)}});return e?C:g}s(Hr,"useForgotPassword");var Pr=s(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),os=Q(b("react")),Qa=b("@tanstack/react-query"),Ka=ee(),ns=Q(b("qs"));function _r({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=pe(),a=Ie(),{replace:o}=$e(),{updatePassword:i}=Ae(),{updatePassword:n}=We(),{close:l,open:m}=nt(),{keys:d,preferLegacyKeys:v}=te(),g=je(),{useLocation:C}=Ne(),{search:u}=C(),f=os.default.useMemo(()=>r==="legacy"?ns.default.parse(u,{ignoreQueryPrefix:!0})??{}:g.params??{},[u,g,r]),P=(0,Qa.useMutation)(d().auth().action("updatePassword").get(v),async y=>n==null?void 0:n({...f,...y}),{onSuccess:({success:y,redirectTo:c,error:E})=>{y&&(l==null||l("update-password-error")),(E||!y)&&(m==null||m(Er(E))),c&&(r==="legacy"?o(c):a({to:c,type:"replace"}))},onError:y=>{m==null||m(Er(y))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ka.getXRay)("useUpdatePassword",v)}}),p=(0,Qa.useMutation)([...d().auth().action("updatePassword").get(v),"v3LegacyAuthProviderCompatible"],async y=>i==null?void 0:i({...f,...y}),{onSuccess:y=>{y!==!1&&y&&(r==="legacy"?o(y):a({to:y,type:"replace"})),l==null||l("update-password-error")},onError:y=>{m==null||m(Er(y))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ka.getXRay)("useUpdatePassword",v)}});return e?p:P}s(_r,"useUpdatePassword");var Er=s(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),Ua=b("@tanstack/react-query"),Wa=ee();function or({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=Ae(),{check:a}=We(),{keys:o,preferLegacyKeys:i}=te(),n=(0,Ua.useQuery)(o().auth().action("check").params(t).get(i),async()=>await(a==null?void 0:a(t))??{},{retry:!1,enabled:!e,meta:{...(0,Wa.getXRay)("useIsAuthenticated",i)}}),l=(0,Ua.useQuery)([...o().auth().action("check").params(t).get(i),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,Wa.getXRay)("useIsAuthenticated",i)}});return e?l:n}s(or,"useIsAuthenticated");var is=or,ja=b("@tanstack/react-query"),za=ee();function we({v3LegacyAuthProviderCompatible:e=!1}={}){let t=pe(),r=Ie(),{replace:a}=$e(),{checkError:o}=Ae(),{onError:i}=We(),{keys:n,preferLegacyKeys:l}=te(),{mutate:m}=Zt({v3LegacyAuthProviderCompatible:!!e}),{mutate:d}=Zt({v3LegacyAuthProviderCompatible:!!e}),v=(0,ja.useMutation)(n().auth().action("onError").get(l),i,{onSuccess:({logout:C,redirectTo:u})=>{if(C){d({redirectPath:u});return}if(u){t==="legacy"?a(u):r({to:u,type:"replace"});return}},meta:{...(0,za.getXRay)("useOnError",l)}}),g=(0,ja.useMutation)([...n().auth().action("onError").get(l),"v3LegacyAuthProviderCompatible"],o,{onError:C=>{m({redirectPath:C})},meta:{...(0,za.getXRay)("useOnError",l)}});return e?g:v}s(we,"useOnError");var ss=we,Vo=s(()=>{let{isProvided:e}=Ae(),{isProvided:t}=We();return!!(t||e)},"useIsExistAuthentication"),ls=ee(),us=b("@tanstack/react-query"),br=b("react"),fe=s(({isLoading:e,interval:t,onInterval:r})=>{let[a,o]=(0,br.useState)(void 0),{options:i}=Ce(),{overtime:n}=i,l=t??n.interval,m=r??(n==null?void 0:n.onInterval);return(0,br.useEffect)(()=>{let d;return e&&(d=setInterval(()=>{o(v=>v===void 0?l:v+l)},l)),()=>{clearInterval(d),o(void 0)}},[e,l]),(0,br.useEffect)(()=>{m&&a&&m(a)},[a]),{elapsedTime:a}},"useLoadingOvertime"),Gr=s(({resource:e,config:t,filters:r,hasPagination:a,pagination:o,sorters:i,queryOptions:n,successNotification:l,errorNotification:m,meta:d,metaData:v,liveMode:g,onLiveEvent:C,liveParams:u,dataProviderName:f,overtimeOptions:P}={})=>{let{resources:p,resource:y,identifier:c}=V(e),E=Pe(),L=re(),A=ve(),{mutate:w}=we({v3LegacyAuthProviderCompatible:!!(A!=null&&A.isLegacy)}),h=Me(),q=de(),{keys:D,preferLegacyKeys:k}=te(),N=X(c,f,p),x=F(d,v),S=F(r,t==null?void 0:t.filters),O=F(i,t==null?void 0:t.sort),R=F(a,t==null?void 0:t.hasPagination),T=jo({pagination:o,configPagination:t==null?void 0:t.pagination,hasPagination:R}),M=T.mode==="server",U=q({resource:y,meta:x}),W={meta:U,metaData:U,filters:S,hasPagination:M,pagination:T,sorters:O,config:{...t,sort:O}},$=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,{getList:z}=E(N);Tt({resource:c,types:["*"],params:{meta:U,metaData:U,pagination:T,hasPagination:M,sort:O,sorters:O,filters:S,subscriptionType:"useList",...u},channel:`resources/${y==null?void 0:y.name}`,enabled:$,liveMode:g,onLiveEvent:C,dataProviderName:N,meta:{...d,dataProviderName:f}});let K=(0,us.useQuery)(D().data(N).resource(c??"").action("list").params({...x||{},filters:S,hasPagination:M,...M&&{pagination:T},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(k),({queryKey:I,pageParam:_,signal:B})=>z({resource:(y==null?void 0:y.name)??"",pagination:T,hasPagination:M,filters:S,sort:O,sorters:O,meta:{...U,queryContext:{queryKey:I,pageParam:_,signal:B}},metaData:{...U,queryContext:{queryKey:I,pageParam:_,signal:B}}}),{...n,enabled:typeof(n==null?void 0:n.enabled)<"u"?n==null?void 0:n.enabled:!!(y!=null&&y.name),select:I=>{var _;let B=I,{current:J,mode:ye,pageSize:he}=T;return ye==="client"&&(B={...B,data:B.data.slice((J-1)*he,J*he),total:B.total}),n!=null&&n.select?(_=n==null?void 0:n.select)==null?void 0:_.call(n,B):B},onSuccess:I=>{var _;(_=n==null?void 0:n.onSuccess)==null||_.call(n,I);let B=typeof l=="function"?l(I,W,c):l;h(B)},onError:I=>{var _;w(I),(_=n==null?void 0:n.onError)==null||_.call(n,I);let B=typeof m=="function"?m(I,W,c):m;h(B,{key:`${c}-useList-notification`,message:L("notifications.error",{statusCode:I.statusCode},`Error (status code: ${I.statusCode})`),description:I.message,type:"error"})},meta:{...n==null?void 0:n.meta,...(0,ls.getXRay)("useList",k)}}),{elapsedTime:H}=fe({isLoading:K.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{...K,overtime:{elapsedTime:H}}},"useList"),ds=ee(),cs=b("@tanstack/react-query"),Xr=s(({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:o,meta:i,metaData:n,liveMode:l,onLiveEvent:m,liveParams:d,dataProviderName:v,overtimeOptions:g})=>{let{resources:C,resource:u,identifier:f}=V(e),P=Pe(),p=re(),y=ve(),{mutate:c}=we({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),E=Me(),L=de(),{keys:A,preferLegacyKeys:w}=te(),h=F(i,n),q=X(f,v,C),{getOne:D}=P(q),k=L({resource:u,meta:h});Tt({resource:f,types:["*"],channel:`resources/${u==null?void 0:u.name}`,params:{ids:t?[t]:[],id:t,meta:k,metaData:k,subscriptionType:"useOne",...d},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(u==null?void 0:u.name)<"u"&&typeof t<"u",liveMode:l,onLiveEvent:m,dataProviderName:q,meta:{...i,dataProviderName:v}});let N=(0,cs.useQuery)(A().data(q).resource(f??"").action("one").id(t??"").params({...h||{}}).get(w),({queryKey:S,pageParam:O,signal:R})=>D({resource:(u==null?void 0:u.name)??"",id:t,meta:{...k,queryContext:{queryKey:S,pageParam:O,signal:R}},metaData:{...k,queryContext:{queryKey:S,pageParam:O,signal:R}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:S=>{var O;(O=r==null?void 0:r.onSuccess)==null||O.call(r,S);let R=typeof a=="function"?a(S,{id:t,...k},f):a;E(R)},onError:S=>{var O;c(S),(O=r==null?void 0:r.onError)==null||O.call(r,S);let R=typeof o=="function"?o(S,{id:t,...k},f):o;E(R,{key:`${t}-${f}-getOne-notification`,message:p("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,ds.getXRay)("useOne",w)}}),{elapsedTime:x}=fe({isLoading:N.isFetching,interval:g==null?void 0:g.interval,onInterval:g==null?void 0:g.onInterval});return{...N,overtime:{elapsedTime:x}}},"useOne"),ms=ee(),vs=b("@tanstack/react-query"),Yo=s(({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:o,meta:i,metaData:n,liveMode:l,onLiveEvent:m,liveParams:d,dataProviderName:v,overtimeOptions:g})=>{let{resources:C,resource:u,identifier:f}=V(e),P=Pe(),p=re(),y=ve(),{mutate:c}=we({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),E=Me(),L=de(),{keys:A,preferLegacyKeys:w}=te(),h=F(i,n),q=X(f,v,C),D=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:k,getOne:N}=P(q),x=L({resource:u,meta:h});Tt({resource:f,types:["*"],params:{ids:t,meta:x,metaData:x,subscriptionType:"useMany",...d},channel:`resources/${u.name}`,enabled:D,liveMode:l,onLiveEvent:m,dataProviderName:q,meta:{...i,dataProviderName:v}});let S=(0,vs.useQuery)(A().data(q).resource(f).action("many").ids(...t).params({...h||{}}).get(w),({queryKey:R,pageParam:T,signal:M})=>k?k({resource:u==null?void 0:u.name,ids:t,meta:{...x,queryContext:{queryKey:R,pageParam:T,signal:M}},metaData:{...x,queryContext:{queryKey:R,pageParam:T,signal:M}}}):rr(t.map(U=>N({resource:u==null?void 0:u.name,id:U,meta:{...x,queryContext:{queryKey:R,pageParam:T,signal:M}},metaData:{...x,queryContext:{queryKey:R,pageParam:T,signal:M}}}))),{...r,onSuccess:R=>{var T;(T=r==null?void 0:r.onSuccess)==null||T.call(r,R);let M=typeof a=="function"?a(R,t,f):a;E(M)},onError:R=>{var T;c(R),(T=r==null?void 0:r.onError)==null||T.call(r,R);let M=typeof o=="function"?o(R,t,f):o;E(M,{key:`${t[0]}-${f}-getMany-notification`,message:p("notifications.error",{statusCode:R.statusCode},`Error (status code: ${R.statusCode})`),description:R.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,ms.getXRay)("useMany",w)}}),{elapsedTime:O}=fe({isLoading:S.isFetching,interval:g==null?void 0:g.interval,onInterval:g==null?void 0:g.onInterval});return{...S,overtime:{elapsedTime:O}}},"useMany"),ps=ee(),Ba=b("@tanstack/react-query"),Yt=Q(b("react")),Cr=Q(b("lodash/isEqual")),Jo=Yt.default.createContext({notifications:[],notificationDispatch:()=>!1}),fs=[],gs=s((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Cr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Cr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Cr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),ys=s(({children:e})=>{let[t,r]=(0,Yt.useReducer)(gs,fs),a={notifications:t,notificationDispatch:r};return Yt.default.createElement(Jo.Provider,{value:a},e,typeof window<"u"&&t.map(o=>Yt.default.createElement(wn,{key:`${o.id}-${o.resource}-queue`,notification:o})))},"UndoableQueueContextProvider"),Ir=s(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=V(),o=(0,Ba.useQueryClient)(),i=Pe(),{mutationMode:n,undoableTimeout:l}=Ct(),m=re(),d=ve(),{mutate:v}=we({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),g=ct(),{log:C}=vt(),{notificationDispatch:u}=wt(),f=Me(),P=Ve(),p=de(),{options:{textTransformers:y}}=Ce(),{keys:c,preferLegacyKeys:E}=te(),L=(0,Ba.useMutation)(({id:w,values:h,resource:q,mutationMode:D,undoableTimeout:k,onCancel:N,meta:x,metaData:S,dataProviderName:O})=>{let{resource:R,identifier:T}=a(q),M=p({resource:R,meta:F(x,S)}),U=D??n,W=k??l;return U!=="undoable"?i(X(T,O,r)).update({resource:R.name,id:w,variables:h,meta:M,metaData:M}):new Promise(($,z)=>{let K=s(()=>{i(X(T,O,r)).update({resource:R.name,id:w,variables:h,meta:M,metaData:M}).then(I=>$(I)).catch(I=>z(I))},"doMutation"),H=s(()=>{z({message:"mutationCancelled"})},"cancelMutation");N&&N(H),u({type:"ADD",payload:{id:w,resource:T,cancelMutation:H,doMutation:K,seconds:W,isSilent:!!N}})})},{onMutate:async({resource:w,id:h,mutationMode:q,values:D,dataProviderName:k,meta:N,metaData:x,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:O}=a(w),{gqlMutation:R,gqlQuery:T,...M}=F(N,x)??{},U=tr(E)(O,X(O,k,r),M),W=c().data(X(O,k,r)).resource(O),$=o.getQueriesData(W.get(E)),z=q??n;return await o.cancelQueries(W.get(E),void 0,{silent:!0}),z!=="pessimistic"&&(S.list&&o.setQueriesData(W.action("list").params(M??{}).get(E),K=>{if(typeof S.list=="function")return S.list(K,D,h);if(!K)return null;let H=K.data.map(I=>{var _;return((_=I.id)==null?void 0:_.toString())===(h==null?void 0:h.toString())?{id:h,...I,...D}:I});return{...K,data:H}}),S.many&&o.setQueriesData(W.action("many").get(E),K=>{if(typeof S.many=="function")return S.many(K,D,h);if(!K)return null;let H=K.data.map(I=>{var _;return((_=I.id)==null?void 0:_.toString())===(h==null?void 0:h.toString())&&(I={id:h,...I,...D}),I});return{...K,data:H}}),S.detail&&o.setQueriesData(W.action("one").id(h).params(M??{}).get(E),K=>typeof S.detail=="function"?S.detail(K,D,h):K?{...K,data:{...K.data,...D}}:null)),{previousQueries:$,queryKey:U}},onSettled:(w,h,{id:q,resource:D,dataProviderName:k,invalidates:N=["list","many","detail"]})=>{let{identifier:x}=a(D);P({resource:x,dataProviderName:X(x,k,r),invalidates:N,id:q}),u({type:"REMOVE",payload:{id:q,resource:x}})},onSuccess:(w,{id:h,resource:q,successNotification:D,dataProviderName:k,values:N,meta:x,metaData:S},O)=>{var R;let{resource:T,identifier:M}=a(q),U=y.singular(M),W=X(M,k,r),$=p({resource:T,meta:F(x,S)}),z=typeof D=="function"?D(w,{id:h,values:N},M):D;f(z,{key:`${h}-${M}-notification`,description:m("notifications.success","Successful"),message:m("notifications.editSuccess",{resource:m(`${M}.${M}`,U)},`Successfully updated ${U}`),type:"success"}),g==null||g({channel:`resources/${T.name}`,type:"updated",payload:{ids:(R=w.data)!=null&&R.id?[w.data.id]:void 0},date:new Date,meta:{...$,dataProviderName:W}});let K;if(O){let J=o.getQueryData(O.queryKey.detail(h));K=Object.keys(N||{}).reduce((ye,he)=>{var Le;return ye[he]=(Le=J==null?void 0:J.data)==null?void 0:Le[he],ye},{})}let{fields:H,operation:I,variables:_,...B}=$||{};C==null||C.mutate({action:"update",resource:T.name,data:N,previousData:K,meta:{id:h,dataProviderName:W,...B}})},onError:(w,{id:h,resource:q,errorNotification:D,values:k},N)=>{let{identifier:x}=a(q);if(N)for(let S of N.previousQueries)o.setQueryData(S[0],S[1]);if(w.message!=="mutationCancelled"){v==null||v(w);let S=y.singular(x),O=typeof D=="function"?D(w,{id:h,values:k},x):D;f(O,{key:`${h}-${x}-notification`,message:m("notifications.editError",{resource:m(`${x}.${x}`,S),statusCode:w.statusCode},`Error when updating ${S} (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:c().data().mutation("update").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,ps.getXRay)("useUpdate",E)}}),{elapsedTime:A}=fe({isLoading:L.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...L,overtime:{elapsedTime:A}}},"useUpdate"),hs=ee(),Ps=b("@tanstack/react-query"),Vr=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=we({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=Pe(),i=Ve(),{resources:n,select:l}=V(),m=re(),d=ct(),{log:v}=vt(),g=Me(),C=de(),{options:{textTransformers:u}}=Ce(),{keys:f,preferLegacyKeys:P}=te(),p=(0,Ps.useMutation)(({resource:c,values:E,meta:L,metaData:A,dataProviderName:w})=>{let{resource:h,identifier:q}=l(c),D=C({resource:h,meta:F(L,A)});return o(X(q,w,n)).create({resource:h.name,variables:E,meta:D,metaData:D})},{onSuccess:(c,{resource:E,successNotification:L,dataProviderName:A,invalidates:w=["list","many"],values:h,meta:q,metaData:D})=>{var k,N;let{resource:x,identifier:S}=l(E),O=u.singular(S),R=X(S,A,n),T=C({resource:x,meta:F(q,D)}),M=typeof L=="function"?L(c,h,S):L;g(M,{key:`create-${S}-notification`,message:m("notifications.createSuccess",{resource:m(`${S}.${S}`,O)},`Successfully created ${O}`),description:m("notifications.success","Success"),type:"success"}),i({resource:S,dataProviderName:R,invalidates:w}),d==null||d({channel:`resources/${x.name}`,type:"created",payload:{ids:(k=c==null?void 0:c.data)!=null&&k.id?[c.data.id]:void 0},date:new Date,meta:{...T,dataProviderName:R}});let{fields:U,operation:W,variables:$,...z}=T||{};v==null||v.mutate({action:"create",resource:x.name,data:h,meta:{dataProviderName:R,id:((N=c==null?void 0:c.data)==null?void 0:N.id)??void 0,...z}})},onError:(c,{resource:E,errorNotification:L,values:A})=>{a(c);let{identifier:w}=l(E),h=u.singular(w),q=typeof L=="function"?L(c,A,w):L;g(q,{key:`create-${w}-notification`,description:c.message,message:m("notifications.createError",{resource:m(`${w}.${w}`,h),statusCode:c.statusCode},`There was an error creating ${h} (status code: ${c.statusCode})`),type:"error"})},mutationKey:f().data().mutation("create").get(P),...e,meta:{...e==null?void 0:e.meta,...(0,hs.getXRay)("useCreate",P)}}),{elapsedTime:y}=fe({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:y}}},"useCreate"),Es=ee(),Ha=b("@tanstack/react-query"),bs=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=we({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=Pe(),{resources:i,select:n}=V(),l=(0,Ha.useQueryClient)(),{mutationMode:m,undoableTimeout:d}=Ct(),{notificationDispatch:v}=wt(),g=re(),C=ct(),{log:u}=vt(),f=Me(),P=Ve(),p=de(),{options:{textTransformers:y}}=Ce(),{keys:c,preferLegacyKeys:E}=te(),L=(0,Ha.useMutation)(({id:w,mutationMode:h,undoableTimeout:q,resource:D,onCancel:k,meta:N,metaData:x,dataProviderName:S,values:O})=>{let{resource:R,identifier:T}=n(D),M=p({resource:R,meta:F(N,x)}),U=h??m,W=q??d;return U!=="undoable"?o(X(T,S,i)).deleteOne({resource:R.name,id:w,meta:M,metaData:M,variables:O}):new Promise(($,z)=>{let K=s(()=>{o(X(T,S,i)).deleteOne({resource:R.name,id:w,meta:M,metaData:M,variables:O}).then(I=>$(I)).catch(I=>z(I))},"doMutation"),H=s(()=>{z({message:"mutationCancelled"})},"cancelMutation");k&&k(H),v({type:"ADD",payload:{id:w,resource:T,cancelMutation:H,doMutation:K,seconds:W,isSilent:!!k}})})},{onMutate:async({id:w,resource:h,mutationMode:q,dataProviderName:D,meta:k,metaData:N})=>{let{identifier:x}=n(h),{gqlMutation:S,gqlQuery:O,...R}=F(k,N)??{},T=tr(E)(x,X(x,D,i),R),M=c().data(X(x,D,i)).resource(x),U=q??m;await l.cancelQueries(M.get(E),void 0,{silent:!0});let W=l.getQueriesData(M.get(E));return U!=="pessimistic"&&(l.setQueriesData(M.action("list").params(R??{}).get(E),$=>$?{data:$.data.filter(z=>{var K;return((K=z.id)==null?void 0:K.toString())!==w.toString()}),total:$.total-1}:null),l.setQueriesData(M.action("many").get(E),$=>{if(!$)return null;let z=$.data.filter(K=>{var H;return((H=K.id)==null?void 0:H.toString())!==(w==null?void 0:w.toString())});return{...$,data:z}})),{previousQueries:W,queryKey:T}},onSettled:(w,h,{id:q,resource:D,dataProviderName:k,invalidates:N=["list","many"]})=>{let{identifier:x}=n(D);P({resource:x,dataProviderName:X(x,k,i),invalidates:N}),v({type:"REMOVE",payload:{id:q,resource:x}})},onSuccess:(w,{id:h,resource:q,successNotification:D,dataProviderName:k,meta:N,metaData:x},S)=>{let{resource:O,identifier:R}=n(q),T=y.singular(R),M=X(R,k,i),U=p({resource:O,meta:F(N,x)});l.removeQueries(S==null?void 0:S.queryKey.detail(h));let W=typeof D=="function"?D(w,h,R):D;f(W,{key:`${h}-${R}-notification`,description:g("notifications.success","Success"),message:g("notifications.deleteSuccess",{resource:g(`${R}.${R}`,T)},`Successfully deleted a ${T}`),type:"success"}),C==null||C({channel:`resources/${O.name}`,type:"deleted",payload:{ids:[h]},date:new Date,meta:{...U,dataProviderName:M}});let{fields:$,operation:z,variables:K,...H}=U||{};u==null||u.mutate({action:"delete",resource:O.name,meta:{id:h,dataProviderName:M,...H}}),l.removeQueries(S==null?void 0:S.queryKey.detail(h))},onError:(w,{id:h,resource:q,errorNotification:D},k)=>{let{identifier:N}=n(q);if(k)for(let x of k.previousQueries)l.setQueryData(x[0],x[1]);if(w.message!=="mutationCancelled"){a(w);let x=y.singular(N),S=typeof D=="function"?D(w,h,N):D;f(S,{key:`${h}-${N}-notification`,message:g("notifications.deleteError",{resource:x,statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:c().data().mutation("delete").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,Es.getXRay)("useDelete",E)}}),{elapsedTime:A}=fe({isLoading:L.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...L,overtime:{elapsedTime:A}}},"useDelete"),Cs=ee(),ws=b("@tanstack/react-query"),Zo=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Pe(),{resources:a,select:o}=V(),i=re(),n=ct(),l=Me(),m=Ve(),{log:d}=vt(),v=de(),{options:{textTransformers:g}}=Ce(),{keys:C,preferLegacyKeys:u}=te(),f=(0,ws.useMutation)(({resource:p,values:y,meta:c,metaData:E,dataProviderName:L})=>{let{resource:A,identifier:w}=o(p),h=v({resource:A,meta:F(c,E)}),q=r(X(w,L,a));return q.createMany?q.createMany({resource:A.name,variables:y,meta:h,metaData:h}):rr(y.map(D=>q.create({resource:A.name,variables:D,meta:h,metaData:h})))},{onSuccess:(p,{resource:y,successNotification:c,dataProviderName:E,invalidates:L=["list","many"],values:A,meta:w,metaData:h})=>{let{resource:q,identifier:D}=o(y),k=g.plural(D),N=X(D,E,a),x=v({resource:q,meta:F(w,h)}),S=typeof c=="function"?c(p,A,D):c;l(S,{key:`createMany-${D}-notification`,message:i("notifications.createSuccess",{resource:i(`${D}.${D}`,D)},`Successfully created ${k}`),description:i("notifications.success","Success"),type:"success"}),m({resource:D,dataProviderName:N,invalidates:L});let O=p==null?void 0:p.data.filter(W=>(W==null?void 0:W.id)!==void 0).map(W=>W.id);n==null||n({channel:`resources/${q.name}`,type:"created",payload:{ids:O},date:new Date,meta:{...x,dataProviderName:N}});let{fields:R,operation:T,variables:M,...U}=x||{};d==null||d.mutate({action:"createMany",resource:q.name,data:A,meta:{dataProviderName:N,ids:O,...U}})},onError:(p,{resource:y,errorNotification:c,values:E})=>{let{identifier:L}=o(y),A=typeof c=="function"?c(p,E,L):c;l(A,{key:`createMany-${L}-notification`,description:p.message,message:i("notifications.createError",{resource:i(`${L}.${L}`,L),statusCode:p.statusCode},`There was an error creating ${L} (status code: ${p.statusCode}`),type:"error"})},mutationKey:C().data().mutation("createMany").get(u),...e,meta:{...e==null?void 0:e.meta,...(0,Cs.getXRay)("useCreateMany",u)}}),{elapsedTime:P}=fe({isLoading:f.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...f,overtime:{elapsedTime:P}}},"useCreateMany"),Ls=ee(),_a=b("@tanstack/react-query"),Ss=s(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=V(),o=(0,_a.useQueryClient)(),i=Pe(),n=re(),{mutationMode:l,undoableTimeout:m}=Ct(),d=ve(),{mutate:v}=we({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),{notificationDispatch:g}=wt(),C=ct(),u=Me(),f=Ve(),{log:P}=vt(),p=de(),{options:{textTransformers:y}}=Ce(),{keys:c,preferLegacyKeys:E}=te(),L=(0,_a.useMutation)(({ids:w,values:h,resource:q,onCancel:D,mutationMode:k,undoableTimeout:N,meta:x,metaData:S,dataProviderName:O})=>{let{resource:R,identifier:T}=a(q),M=p({resource:R,meta:F(x,S)}),U=k??l,W=N??m,$=i(X(T,O,r)),z=s(()=>$.updateMany?$.updateMany({resource:R.name,ids:w,variables:h,meta:M,metaData:M}):rr(w.map(K=>$.update({resource:R.name,id:K,variables:h,meta:M,metaData:M}))),"mutationFn");return U!=="undoable"?z():new Promise((K,H)=>{let I=s(()=>{z().then(B=>K(B)).catch(B=>H(B))},"doMutation"),_=s(()=>{H({message:"mutationCancelled"})},"cancelMutation");D&&D(_),g({type:"ADD",payload:{id:w,resource:T,cancelMutation:_,doMutation:I,seconds:W,isSilent:!!D}})})},{onMutate:async({resource:w,ids:h,values:q,mutationMode:D,dataProviderName:k,meta:N,metaData:x,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:O}=a(w),{gqlMutation:R,gqlQuery:T,...M}=F(N,x)??{},U=tr(E)(O,X(O,k,r),M),W=c().data(X(O,k,r)).resource(O),$=D??l;await o.cancelQueries(W.get(E),void 0,{silent:!0});let z=o.getQueriesData(W.get(E));if($!=="pessimistic"&&(S.list&&o.setQueriesData(W.action("list").params(M??{}).get(E),K=>{if(typeof S.list=="function")return S.list(K,q,h);if(!K)return null;let H=K.data.map(I=>I.id!==void 0&&h.filter(_=>_!==void 0).map(String).includes(I.id.toString())?{...I,...q}:I);return{...K,data:H}}),S.many&&o.setQueriesData(W.action("many").get(E),K=>{if(typeof S.many=="function")return S.many(K,q,h);if(!K)return null;let H=K.data.map(I=>I.id!==void 0&&h.filter(_=>_!==void 0).map(String).includes(I.id.toString())?{...I,...q}:I);return{...K,data:H}}),S.detail))for(let K of h)o.setQueriesData(W.action("one").id(K).params(M??{}).get(E),H=>{if(typeof S.detail=="function")return S.detail(H,q,K);if(!H)return null;let I={...H.data,...q};return{...H,data:I}});return{previousQueries:z,queryKey:U}},onSettled:(w,h,{ids:q,resource:D,dataProviderName:k})=>{let{identifier:N}=a(D);f({resource:N,invalidates:["list","many"],dataProviderName:X(N,k,r)}),q.forEach(x=>f({resource:N,invalidates:["detail"],dataProviderName:X(N,k,r),id:x})),g({type:"REMOVE",payload:{id:q,resource:N}})},onSuccess:(w,{ids:h,resource:q,meta:D,metaData:k,dataProviderName:N,successNotification:x,values:S},O)=>{let{resource:R,identifier:T}=a(q),M=y.singular(T),U=X(T,N,r),W=p({resource:R,meta:F(D,k)}),$=typeof x=="function"?x(w,{ids:h,values:S},T):x;u($,{key:`${h}-${T}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${T}.${T}`,T)},`Successfully updated ${M}`),type:"success"}),C==null||C({channel:`resources/${R.name}`,type:"updated",payload:{ids:h.map(String)},date:new Date,meta:{...W,dataProviderName:U}});let z=[];O&&h.forEach(B=>{let J=o.getQueryData(O.queryKey.detail(B));z.push(Object.keys(S||{}).reduce((ye,he)=>{var Le;return ye[he]=(Le=J==null?void 0:J.data)==null?void 0:Le[he],ye},{}))});let{fields:K,operation:H,variables:I,..._}=W||{};P==null||P.mutate({action:"updateMany",resource:R.name,data:S,previousData:z,meta:{ids:h,dataProviderName:U,..._}})},onError:(w,{ids:h,resource:q,errorNotification:D,values:k},N)=>{let{identifier:x}=a(q);if(N)for(let S of N.previousQueries)o.setQueryData(S[0],S[1]);if(w.message!=="mutationCancelled"){v==null||v(w);let S=y.singular(x),O=typeof D=="function"?D(w,{ids:h,values:k},x):D;u(O,{key:`${h}-${x}-updateMany-error-notification`,message:n("notifications.editError",{resource:S,statusCode:w.statusCode},`Error when updating ${S} (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:c().data().mutation("updateMany").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,Ls.getXRay)("useUpdateMany",E)}}),{elapsedTime:A}=fe({isLoading:L.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...L,overtime:{elapsedTime:A}}},"useUpdateMany"),xs=ee(),Ga=b("@tanstack/react-query"),Ds=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=we({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:o,undoableTimeout:i}=Ct(),n=Pe(),{notificationDispatch:l}=wt(),m=re(),d=ct(),v=Me(),g=Ve(),{log:C}=vt(),{resources:u,select:f}=V(),P=(0,Ga.useQueryClient)(),p=de(),{options:{textTransformers:y}}=Ce(),{keys:c,preferLegacyKeys:E}=te(),L=(0,Ga.useMutation)(({resource:w,ids:h,mutationMode:q,undoableTimeout:D,onCancel:k,meta:N,metaData:x,dataProviderName:S,values:O})=>{let{resource:R,identifier:T}=f(w),M=p({resource:R,meta:F(N,x)}),U=q??o,W=D??i,$=n(X(T,S,u)),z=s(()=>$.deleteMany?$.deleteMany({resource:R.name,ids:h,meta:M,metaData:M,variables:O}):rr(h.map(K=>$.deleteOne({resource:R.name,id:K,meta:M,metaData:M,variables:O}))),"mutationFn");return U!=="undoable"?z():new Promise((K,H)=>{let I=s(()=>{z().then(B=>K(B)).catch(B=>H(B))},"doMutation"),_=s(()=>{H({message:"mutationCancelled"})},"cancelMutation");k&&k(_),l({type:"ADD",payload:{id:h,resource:T,cancelMutation:_,doMutation:I,seconds:W,isSilent:!!k}})})},{onMutate:async({ids:w,resource:h,mutationMode:q,dataProviderName:D,meta:k,metaData:N})=>{let{identifier:x}=f(h),{gqlMutation:S,gqlQuery:O,...R}=F(k,N)??{},T=tr(E)(x,X(x,D,u),R),M=c().data(X(x,D,u)).resource(x),U=q??o;await P.cancelQueries(M.get(E),void 0,{silent:!0});let W=P.getQueriesData(M.get(E));if(U!=="pessimistic"){P.setQueriesData(M.action("list").params(R??{}).get(E),$=>$?{data:$.data.filter(z=>z.id&&!w.map(String).includes(z.id.toString())),total:$.total-1}:null),P.setQueriesData(M.action("many").get(E),$=>{if(!$)return null;let z=$.data.filter(K=>K.id?!w.map(String).includes(K.id.toString()):!1);return{...$,data:z}});for(let $ of w)P.setQueriesData(M.action("one").id($).params(R).get(E),z=>!z||z.data.id==$?null:{...z})}return{previousQueries:W,queryKey:T}},onSettled:(w,h,{resource:q,ids:D,dataProviderName:k,invalidates:N=["list","many"]})=>{let{identifier:x}=f(q);g({resource:x,dataProviderName:X(x,k,u),invalidates:N}),l({type:"REMOVE",payload:{id:D,resource:x}})},onSuccess:(w,{ids:h,resource:q,meta:D,metaData:k,dataProviderName:N,successNotification:x},S)=>{let{resource:O,identifier:R}=f(q),T=X(R,N,u),M=p({resource:O,meta:F(D,k)});h.forEach(H=>P.removeQueries(S==null?void 0:S.queryKey.detail(H)));let U=typeof x=="function"?x(w,h,R):x;v(U,{key:`${h}-${R}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${R}.${R}`,R)},`Successfully deleted ${R}`),type:"success"}),d==null||d({channel:`resources/${O.name}`,type:"deleted",payload:{ids:h},date:new Date,meta:{...M,dataProviderName:T}});let{fields:W,operation:$,variables:z,...K}=M||{};C==null||C.mutate({action:"deleteMany",resource:O.name,meta:{ids:h,dataProviderName:T,...K}}),h.forEach(H=>P.removeQueries(S==null?void 0:S.queryKey.detail(H)))},onError:(w,{ids:h,resource:q,errorNotification:D},k)=>{let{identifier:N}=f(q);if(k)for(let x of k.previousQueries)P.setQueryData(x[0],x[1]);if(w.message!=="mutationCancelled"){a(w);let x=y.singular(N),S=typeof D=="function"?D(w,h,N):D;v(S,{key:`${h}-${N}-notification`,message:m("notifications.deleteError",{resource:x,statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:c().data().mutation("deleteMany").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,xs.getXRay)("useDeleteMany",E)}}),{elapsedTime:A}=fe({isLoading:L.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...L,overtime:{elapsedTime:A}}},"useDeleteMany"),ks=s(e=>{var t;let r=Pe(),{resource:a}=V(),{getApiUrl:o}=r(e??((t=F(a==null?void 0:a.meta,a==null?void 0:a.options))==null?void 0:t.dataProviderName));return o()},"useApiUrl"),qs=b("@tanstack/react-query"),Ms=ee(),Ns=s(({url:e,method:t,config:r,queryOptions:a,successNotification:o,errorNotification:i,meta:n,metaData:l,dataProviderName:m,overtimeOptions:d})=>{let v=Pe(),g=ve(),{mutate:C}=we({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),u=re(),f=Me(),P=de(),{keys:p,preferLegacyKeys:y}=te(),c=F(n,l),{custom:E}=v(m),L=P({meta:c});if(E){let A=(0,qs.useQuery)({queryKey:p().data(m).mutation("custom").params({method:t,url:e,...r,...c||{}}).get(y),queryFn:({queryKey:h,pageParam:q,signal:D})=>E({url:e,method:t,...r,meta:{...L,queryContext:{queryKey:h,pageParam:q,signal:D}},metaData:{...L,queryContext:{queryKey:h,pageParam:q,signal:D}}}),...a,onSuccess:h=>{var q;(q=a==null?void 0:a.onSuccess)==null||q.call(a,h);let D=typeof o=="function"?o(h,{...r,...L}):o;f(D)},onError:h=>{var q;C(h),(q=a==null?void 0:a.onError)==null||q.call(a,h);let D=typeof i=="function"?i(h,{...r,...L}):i;f(D,{key:`${t}-notification`,message:u("notifications.error",{statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Ms.getXRay)("useCustom",y)}}),{elapsedTime:w}=fe({isLoading:A.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{...A,overtime:{elapsedTime:w}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),Rs=b("@tanstack/react-query"),Os=ee(),Ts=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=we({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=Me(),i=Pe(),n=re(),l=de(),{keys:m,preferLegacyKeys:d}=te(),v=(0,Rs.useMutation)(({url:C,method:u,values:f,meta:P,metaData:p,dataProviderName:y,config:c})=>{let E=l({meta:F(P,p)}),{custom:L}=i(y);if(L)return L({url:C,method:u,payload:f,meta:E,metaData:E,headers:{...c==null?void 0:c.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(C,{successNotification:u,config:f,meta:P,metaData:p})=>{let y=typeof u=="function"?u(C,{...f,...F(P,p)||{}}):u;o(y)},onError:(C,{errorNotification:u,method:f,config:P,meta:p,metaData:y})=>{a(C);let c=typeof u=="function"?u(C,{...P,...F(p,y)||{}}):u;o(c,{key:`${f}-notification`,message:n("notifications.error",{statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})},mutationKey:m().data().mutation("customMutation").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,Os.getXRay)("useCustomMutation",d)}}),{elapsedTime:g}=fe({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:g}}},"useCustomMutation"),Xa=b("react"),en=Q(b("react")),As=s(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),Yr=en.default.createContext(As()),Is=s(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},en.default.createElement(Yr.Provider,{value:r},e)},"DataContextProvider"),Pe=s(()=>{let e=(0,Xa.useContext)(Yr);return(0,Xa.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),$s=ee(),Fs=b("@tanstack/react-query"),Qs=s(({resource:e,config:t,filters:r,hasPagination:a,pagination:o,sorters:i,queryOptions:n,successNotification:l,errorNotification:m,meta:d,metaData:v,liveMode:g,onLiveEvent:C,liveParams:u,dataProviderName:f,overtimeOptions:P})=>{let{resources:p,resource:y,identifier:c}=V(e),E=Pe(),L=re(),A=ve(),{mutate:w}=we({v3LegacyAuthProviderCompatible:!!(A!=null&&A.isLegacy)}),h=Me(),q=de(),{keys:D,preferLegacyKeys:k}=te(),N=X(c,f,p),x=F(d,v),S=F(r,t==null?void 0:t.filters),O=F(i,t==null?void 0:t.sort),R=F(a,t==null?void 0:t.hasPagination),T=jo({pagination:o,configPagination:t==null?void 0:t.pagination,hasPagination:R}),M=T.mode==="server",U={meta:x,metaData:x,filters:S,hasPagination:M,pagination:T,sorters:O,config:{...t,sort:O}},W=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,$=q({resource:y,meta:x}),{getList:z}=E(N);Tt({resource:c,types:["*"],params:{meta:$,metaData:$,pagination:T,hasPagination:M,sort:O,sorters:O,filters:S,subscriptionType:"useList",...u},channel:`resources/${y.name}`,enabled:W,liveMode:g,onLiveEvent:C,dataProviderName:N,meta:{...$,dataProviderName:f}});let K=(0,Fs.useInfiniteQuery)(D().data(N).resource(c).action("infinite").params({...x||{},filters:S,hasPagination:M,...M&&{pagination:T},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(k),({queryKey:I,pageParam:_,signal:B})=>{let J={...T,current:_};return z({resource:y.name,pagination:J,hasPagination:M,filters:S,sort:O,sorters:O,meta:{...$,queryContext:{queryKey:I,pageParam:_,signal:B}},metaData:{...$,queryContext:{queryKey:I,pageParam:_,signal:B}}}).then(({data:ye,total:he,...Le})=>({data:ye,total:he,pagination:J,...Le}))},{getNextPageParam:I=>Fo(I),getPreviousPageParam:I=>Qo(I),...n,onSuccess:I=>{var _;(_=n==null?void 0:n.onSuccess)==null||_.call(n,I);let B=typeof l=="function"?l(I,U,c):l;h(B)},onError:I=>{var _;w(I),(_=n==null?void 0:n.onError)==null||_.call(n,I);let B=typeof m=="function"?m(I,U,c):m;h(B,{key:`${c}-useInfiniteList-notification`,message:L("notifications.error",{statusCode:I.statusCode},`Error (status code: ${I.statusCode})`),description:I.message,type:"error"})},meta:{...n==null?void 0:n.meta,...(0,$s.getXRay)("useInfiniteList",k)}}),{elapsedTime:H}=fe({isLoading:K.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{...K,overtime:{elapsedTime:H}}},"useInfiniteList"),tn=Q(b("react")),Nt=tn.default.createContext(void 0),Ks=s(({liveProvider:e,children:t})=>tn.default.createElement(Nt.Provider,{value:e},t),"LiveContextProvider"),Us=b("react"),Ws=b("@tanstack/react-query"),js=b("react"),rn=Q(b("react")),zs=b("react"),Bs=b("react"),Hs=Q(b("lodash/isEqual")),_s=s(e=>{let t=(0,Bs.useRef)(e);return(0,Hs.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),an=s((e,t)=>{let r=_s(t);return(0,zs.useMemo)(e,r)},"useDeepMemo"),Rt=rn.default.createContext({resources:[]}),Gs=s(({resources:e,children:t})=>{let r=an(()=>Ko(e??[]),[e]);return rn.default.createElement(Rt.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),on=Q(b("react")),nn=on.default.createContext("new"),Xs=nn.Provider,pe=s(()=>on.default.useContext(nn),"useRouterType"),Vs=Q(b("react")),sn=Q(b("react")),ln={},Ot=(0,sn.createContext)(ln),Ys=s(({children:e,router:t})=>sn.default.createElement(Ot.Provider,{value:t??ln},e),"RouterBindingsProvider"),Va=Q(b("react")),un=s(()=>{let e=(0,Va.useContext)(Ot);return Va.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),je=s(()=>{let e=un();return Vs.default.useMemo(()=>e(),[e])},"useParsed");function V(e){let{resources:t}=(0,js.useContext)(Rt),r=pe(),a=je(),o={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},i=s((g,C=!0)=>{let u=ge(g,t,r==="legacy");if(u)return{resource:u,identifier:u.identifier??u.name};if(C){let f={name:g,identifier:g},P=f.identifier??f.name;return{resource:f,identifier:P}}},"select"),n=dn(),{useParams:l}=Ne(),m=l();if(r==="legacy"){let g=o.resourceNameOrRouteName?o.resourceNameOrRouteName:m.resource,C=g?n(g):void 0,u=(o==null?void 0:o.recordItemId)??m.id,f=m.action,P=(o==null?void 0:o.resourceName)??(C==null?void 0:C.name),p=(C==null?void 0:C.identifier)??(C==null?void 0:C.name);return{resources:t,resource:C,resourceName:P,id:u,action:f,select:i,identifier:p}}let d,v=typeof e=="string"?e:o==null?void 0:o.resourceNameOrRouteName;if(v){let g=ge(v,t);g?d=g:d={name:v}}else a!=null&&a.resource&&(d=a.resource);return{resources:t,resource:d,resourceName:d==null?void 0:d.name,id:a.id,action:a.action,select:i,identifier:(d==null?void 0:d.identifier)??(d==null?void 0:d.name)}}s(V,"useResource");var Ya=b("react"),dn=s(()=>{let{resources:e}=(0,Ya.useContext)(Rt);return(0,Ya.useCallback)(t=>ge(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),Ve=s(()=>{let{resources:e}=V(),t=(0,Ws.useQueryClient)(),{keys:r,preferLegacyKeys:a}=te();return(0,Us.useCallback)(async({resource:o,dataProviderName:i,invalidates:n,id:l,invalidationFilters:m={type:"all",refetchType:"active"},invalidationOptions:d={cancelRefetch:!1}})=>{if(n===!1)return;let v=X(o,i,e),g=r().data(v).resource(o??"");await Promise.all(n.map(C=>{switch(C){case"all":return t.invalidateQueries(r().data(v).get(a),m,d);case"list":return t.invalidateQueries(g.action("list").get(a),m,d);case"many":return t.invalidateQueries(g.action("many").get(a),m,d);case"resourceAll":return t.invalidateQueries(g.get(a),m,d);case"detail":return t.invalidateQueries(g.action("one").id(l||"").get(a),m,d);default:return}}))},[])},"useInvalidate"),wr=b("react"),Tt=s(({resource:e,params:t,channel:r,types:a,enabled:o=!0,liveMode:i,onLiveEvent:n,dataProviderName:l,meta:m})=>{var d;let{resource:v,identifier:g}=V(e),C=(0,wr.useContext)(Nt),{liveMode:u,onLiveEvent:f}=(0,wr.useContext)(ot),P=i??u,p=Ve(),y=l??(m==null?void 0:m.dataProviderName)??((d=v==null?void 0:v.meta)==null?void 0:d.dataProviderName);(0,wr.useEffect)(()=>{let c,E=s(L=>{P==="auto"&&p({resource:g,dataProviderName:y,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),n==null||n(L),f==null||f(L)},"callback");return P&&P!=="off"&&o&&(c=C==null?void 0:C.subscribe({channel:r,params:{resource:v==null?void 0:v.name,...t},types:a,callback:E,dataProviderName:y,meta:{...m,dataProviderName:y}})),()=>{c&&(C==null||C.unsubscribe(c))}},[o])},"useResourceSubscription"),Js=b("react"),cn=s(e=>{let{liveMode:t}=(0,Js.useContext)(ot);return e??t},"useLiveMode"),Ja=b("react"),Zs=s(({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:o,dataProviderName:i="default",meta:n})=>{let l=(0,Ja.useContext)(Nt);(0,Ja.useEffect)(()=>{let m;return a&&(m=l==null?void 0:l.subscribe({channel:t,params:e,types:r,callback:o,dataProviderName:i,meta:{...n,dataProviderName:i}})),()=>{m&&(l==null||l.unsubscribe(m))}},[a])},"useSubscription"),el=b("react"),ct=s(()=>{let e=(0,el.useContext)(Nt);return e==null?void 0:e.publish},"usePublish"),tl=b("react"),wt=s(()=>{let{notifications:e,notificationDispatch:t}=(0,tl.useContext)(Jo);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),rl=b("react"),mn=Q(b("react")),Jr=(0,mn.createContext)({}),al=s(({open:e,close:t,children:r})=>mn.default.createElement(Jr.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),nt=s(()=>{let{open:e,close:t}=(0,rl.useContext)(Jr);return{open:e,close:t}},"useNotification"),ol=b("react"),Me=s(()=>{let{open:e}=nt();return(0,ol.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),Za=b("react"),vn=Q(b("react")),mt=vn.default.createContext({}),nl=s(({children:e,i18nProvider:t})=>vn.default.createElement(mt.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),il=s(()=>{let{i18nProvider:e}=(0,Za.useContext)(mt);return(0,Za.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),eo=b("react"),re=s(()=>{let{i18nProvider:e}=(0,eo.useContext)(mt);return(0,eo.useMemo)(()=>{function t(r,a,o){return(e==null?void 0:e.translate(r,a,o))??o??(typeof a=="string"&&typeof o>"u"?a:r)}return s(t,"translate"),t},[e])},"useTranslate"),to=b("react"),sl=s(()=>{let{i18nProvider:e}=(0,to.useContext)(mt);return(0,to.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),ll=b("react"),ul=b("export-to-csv-fix-source-map"),dl=s(({resourceName:e,resource:t,sorter:r,sorters:a,filters:o,maxItemCount:i,pageSize:n=20,mapData:l=s(u=>u,"mapData"),exportOptions:m,meta:d,metaData:v,dataProviderName:g,onError:C}={})=>{let[u,f]=(0,ll.useState)(!1),P=Pe(),p=de(),{resource:y,resources:c,identifier:E}=V(F(t,e)),L=`${Ur()(E,"plural")}-${new Date().toLocaleString()}`,{getList:A}=P(X(E,g,c)),w=p({resource:y,meta:F(d,v)});return{isLoading:u,triggerExport:s(async()=>{f(!0);let h=[],q=1,D=!0;for(;D;)try{let{data:k,total:N}=await A({resource:(y==null?void 0:y.name)??"",filters:o,sort:F(a,r),sorters:F(a,r),pagination:{current:q,pageSize:n,mode:"server"},meta:w,metaData:w});q++,h.push(...k),i&&h.length>=i&&(h=h.slice(0,i),D=!1),N===h.length&&(D=!1)}catch(k){f(!1),D=!1,C==null||C(k);return}new ul.ExportToCsv({filename:L,useKeysAsHeaders:!0,...m}).generateCsv(h.map(l)),f(!1)},"triggerExport")}},"useExport"),Lr=Q(b("react")),cl=Q(b("warn-once")),ml=Q(b("lodash/debounce")),vl=s(({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:o,redirect:i,successNotification:n,errorNotification:l,meta:m,metaData:d,queryMeta:v,mutationMeta:g,mutationMode:C,liveMode:u,onLiveEvent:f,liveParams:P,undoableTimeout:p,dataProviderName:y,invalidates:c,queryOptions:E,createMutationOptions:L,updateMutationOptions:A,overtimeOptions:w,autoSave:h,optimisticUpdateMap:q}={})=>{let D=Ve(),{options:k}=Ce(),N=de(),{resource:x,id:S,action:O,identifier:R}=V(e),{identifier:T}=V(),M=s(()=>e&&e!==T?r:r??S,"getDefaultId")(),[U,W]=Lr.default.useState(M);Lr.default.useEffect(()=>{W(M)},[M]);let $=s(()=>t||(O==="edit"||O==="clone"?O:"create"),"getAction")(),z=N({resource:x,meta:F(m,d)}),{mutationMode:K}=Ct(),H=C??K,I=$==="create",_=$==="edit",B=$==="clone";(0,cl.default)((B||_)&&!!e&&!r&&(E==null?void 0:E.enabled)!==!1,`[useForm]: action: "${$}", resource: "${R}", id: ${U} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let J=Fi({redirectFromProps:i,action:$,redirectOptions:k.redirect}),ye=Xr({resource:R,id:U??"",queryOptions:{enabled:U!==void 0&&(_||B),...E},liveMode:u,onLiveEvent:f,liveParams:P,meta:{...z,...v},metaData:{...z,...v},dataProviderName:y}),{isFetching:he}=ye,Le=Vr({mutationOptions:L}),{mutate:It,isLoading:$t}=Le,Fe=Ir({mutationOptions:A}),{mutate:Ft,isLoading:Je}=Fe,Ze=Ir({}),{setWarnWhen:it}=Kr(),et=pn(),ft=s(async se=>{it(!1);let Qe=s(le=>{et({redirect:J,resource:x,id:le,meta:F(m,d)})},"onSuccess");return H!=="pessimistic"&&setTimeout(()=>{Qe()}),new Promise((le,Be)=>{if(H!=="pessimistic"&&le(),!!x)return It({values:se,resource:R??x.name,successNotification:n,errorNotification:l,meta:{...z,...g},metaData:{...z,...g},dataProviderName:y,invalidates:c},{onSuccess:(ce,Ke,Ue)=>{var He;a&&a(ce,se,Ue);let _e=(He=ce==null?void 0:ce.data)==null?void 0:He.id;Qe(_e),le(ce)},onError:(ce,Ke,Ue)=>{if(o)return o(ce,se,Ue);Be()}})})},"onFinishCreate");Lr.default.useEffect(()=>()=>{h!=null&&h.invalidateOnUnmount&&Ze.status==="success"&&D({id:U,invalidates:c||["list","many","detail"],dataProviderName:y,resource:R})},[h==null?void 0:h.invalidateOnUnmount,Ze.status]);let gt=s(se=>{if(!x||!_)return;let Qe={id:U??"",values:se,resource:R??x.name,successNotification:!1,errorNotification:!1,meta:{...z,...g},metaData:{...z,...g},dataProviderName:y,invalidates:[],mutationMode:"pessimistic"};return Ze.mutate(Qe,{onSuccess:(le,Be,ce)=>{a&&a(le,se,ce,!0)},onError:(le,Be,ce)=>{if(o)return o(le,se,ce,!0)}})},"onFinishAutoSaveMutation"),Qt=(0,ml.default)(se=>gt(se),(h==null?void 0:h.debounce)||1e3),xt=I||B?{formLoading:he||$t,mutationResult:Le,onFinish:ft}:{formLoading:he||Je,mutationResult:Fe,onFinish:s(async se=>{if(it(!1),!x)return;let Qe={id:U??"",values:se,resource:R??x.name,mutationMode:H,undoableTimeout:p,successNotification:n,errorNotification:l,meta:{...z,...g},metaData:{...z,...g},dataProviderName:y,invalidates:c,optimisticUpdateMap:q},le=s(()=>{et({redirect:J,resource:x,id:U,meta:F(m,d)})},"onSuccess");return H!=="pessimistic"&&setTimeout(()=>{le()}),new Promise((Be,ce)=>(H!=="pessimistic"&&Be(),setTimeout(()=>{Ft(Qe,{onSuccess:(Ke,Ue,He)=>{a&&a(Ke,se,He),H==="pessimistic"&&le(),Be(Ke)},onError:(Ke,Ue,He)=>{if(o)return o(Ke,se,He);ce()}})})))},"onFinishUpdate")},{elapsedTime:dr}=fe({isLoading:xt.mutationResult.isLoading||ye.isFetching,interval:w==null?void 0:w.interval,onInterval:w==null?void 0:w.onInterval});return{...xt,queryResult:ye,onFinishAutoSave:Qt,autoSaveProps:{status:Ze.status,data:Ze.data,error:Ze.error},id:U,setId:W,redirect:(se,Qe)=>{et({redirect:se!==void 0?se:_?"list":"edit",resource:x,id:Qe??U,meta:F(m,d)})},overtime:{elapsedTime:dr}}},"useForm"),pl=b("react"),pn=s(()=>{let{show:e,edit:t,list:r,create:a}=$e();return(0,pl.useCallback)(({redirect:o,resource:i,id:n,meta:l={}})=>{if(o&&i)return i.show&&o==="show"&&n?e(i,n,void 0,l):i.edit&&o==="edit"&&n?t(i,n,void 0,l):i.create&&o==="create"?a(i,void 0,l):r(i,"push",l)},[])},"useRedirectionAfterSubmission"),Sr=Q(b("react")),fl=Q(b("react")),nr=s(()=>{let e=pe(),{resource:t,resources:r}=V(),a=je();return fl.default.useCallback(({resource:o,action:i,meta:n})=>{var l;let m=o||t;if(!m)return;let d=(l=ke(m,r,e==="legacy").find(v=>v.action===i))==null?void 0:l.route;return d?Oe(d,m==null?void 0:m.meta,a,n):void 0},[r,t,a])},"useGetToPath"),Ie=s(()=>{let e=(0,Sr.useContext)(Ot),{select:t}=V(),r=nr(),a=Sr.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,Sr.useCallback)(o=>{if(typeof o.to!="object")return a({...o,to:o.to});let{resource:i}=t(o.to.resource);gl(o.to,i);let n=r({resource:i,action:o.to.action,meta:{id:o.to.id}});return a({...o,to:n})},[t,a])},"useGo"),gl=s((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors"),ro=Q(b("react")),fn=s(()=>{let e=(0,ro.useContext)(Ot);return ro.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),$e=s(()=>{let{resources:e}=V(),t=pe(),{useHistory:r}=Ne(),a=r(),o=je(),i=Ie(),n=fn(),l=s((u,f="push")=>{t==="legacy"?a[f](u):i({to:u,type:f})},"handleUrl"),m=s((u,f={})=>{var P;if(t==="legacy"){let p=typeof u=="string"?ge(u,e,!0)??{name:u,route:u}:u,y=ke(p,e,!0).find(c=>c.action==="create");return y?Oe(y.route,p==null?void 0:p.meta,o,f):""}else{let p=typeof u=="string"?ge(u,e)??{name:u}:u,y=(P=ke(p,e).find(c=>c.action==="create"))==null?void 0:P.route;return y?i({to:Oe(y,p==null?void 0:p.meta,o,f),type:"path"}):""}},"createUrl"),d=s((u,f,P={})=>{var p;let y=encodeURIComponent(f);if(t==="legacy"){let c=typeof u=="string"?ge(u,e,!0)??{name:u,route:u}:u,E=ke(c,e,!0).find(L=>L.action==="edit");return E?Oe(E.route,c==null?void 0:c.meta,o,{...P,id:y}):""}else{let c=typeof u=="string"?ge(u,e)??{name:u}:u,E=(p=ke(c,e).find(L=>L.action==="edit"))==null?void 0:p.route;return E?i({to:Oe(E,c==null?void 0:c.meta,o,{...P,id:y}),type:"path"}):""}},"editUrl"),v=s((u,f,P={})=>{var p;let y=encodeURIComponent(f);if(t==="legacy"){let c=typeof u=="string"?ge(u,e,!0)??{name:u,route:u}:u,E=ke(c,e,!0).find(L=>L.action==="clone");return E?Oe(E.route,c==null?void 0:c.meta,o,{...P,id:y}):""}else{let c=typeof u=="string"?ge(u,e)??{name:u}:u,E=(p=ke(c,e).find(L=>L.action==="clone"))==null?void 0:p.route;return E?i({to:Oe(E,c==null?void 0:c.meta,o,{...P,id:y}),type:"path"}):""}},"cloneUrl"),g=s((u,f,P={})=>{var p;let y=encodeURIComponent(f);if(t==="legacy"){let c=typeof u=="string"?ge(u,e,!0)??{name:u,route:u}:u,E=ke(c,e,!0).find(L=>L.action==="show");return E?Oe(E.route,c==null?void 0:c.meta,o,{...P,id:y}):""}else{let c=typeof u=="string"?ge(u,e)??{name:u}:u,E=(p=ke(c,e).find(L=>L.action==="show"))==null?void 0:p.route;return E?i({to:Oe(E,c==null?void 0:c.meta,o,{...P,id:y}),type:"path"}):""}},"showUrl"),C=s((u,f={})=>{var P;if(t==="legacy"){let p=typeof u=="string"?ge(u,e,!0)??{name:u,route:u}:u,y=ke(p,e,!0).find(c=>c.action==="list");return y?Oe(y.route,p==null?void 0:p.meta,o,f):""}else{let p=typeof u=="string"?ge(u,e)??{name:u}:u,y=(P=ke(p,e).find(c=>c.action==="list"))==null?void 0:P.route;return y?i({to:Oe(y,p==null?void 0:p.meta,o,f),type:"path"}):""}},"listUrl");return{create:s((u,f="push",P={})=>{l(m(u,P),f)},"create"),createUrl:m,edit:s((u,f,P="push",p={})=>{l(d(u,f,p),P)},"edit"),editUrl:d,clone:s((u,f,P="push",p={})=>{l(v(u,f,p),P)},"clone"),cloneUrl:v,show:s((u,f,P="push",p={})=>{l(g(u,f,p),P)},"show"),showUrl:g,list:s((u,f="push",P={})=>{l(C(u,P),f)},"list"),listUrl:C,push:s((u,...f)=>{t==="legacy"?a.push(u,...f):i({to:u,type:"push"})},"push"),replace:s((u,...f)=>{t==="legacy"?a.replace(u,...f):i({to:u,type:"replace"})},"replace"),goBack:s(()=>{t==="legacy"?a.goBack():n()},"goBack")}},"useNavigation"),ao=Q(b("react")),yl=Q(b("warn-once")),hl=s(({resource:e,id:t,successNotification:r,errorNotification:a,meta:o,metaData:i,liveMode:n,onLiveEvent:l,dataProviderName:m,queryOptions:d,overtimeOptions:v}={})=>{let{resource:g,id:C,identifier:u}=V(e),{identifier:f}=V(),P=de(),p=s(()=>e&&e!==f?t:t??C,"getDefaultId")(),[y,c]=(0,ao.useState)(p);ao.default.useEffect(()=>{c(p)},[p]);let E=P({resource:g,meta:F(o,i)});(0,yl.default)(!!e&&!t,`[useShow]: resource: "${u}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let L=Xr({resource:u,id:y??"",queryOptions:{enabled:y!==void 0,...d},successNotification:r,errorNotification:a,meta:E,metaData:E,liveMode:n,onLiveEvent:l,dataProviderName:m}),{elapsedTime:A}=fe({isLoading:L.isFetching,interval:v==null?void 0:v.interval,onInterval:v==null?void 0:v.onInterval});return{queryResult:L,showId:y,setShowId:c,overtime:{elapsedTime:A}}},"useShow"),Bt=b("react"),Pl=b("papaparse"),El=Q(b("lodash/chunk")),bl=s(({resourceName:e,resource:t,mapData:r=s(v=>v,"mapData"),paparseOptions:a,batchSize:o=Number.MAX_SAFE_INTEGER,onFinish:i,meta:n,metaData:l,onProgress:m,dataProviderName:d}={})=>{let[v,g]=(0,Bt.useState)(0),[C,u]=(0,Bt.useState)(0),[f,P]=(0,Bt.useState)(!1),{resource:p,identifier:y}=V(t??e),c=de(),E=Zo(),L=Vr(),A=c({resource:p,meta:F(n,l)}),w;o===1?w=L:w=E;let h=s(()=>{u(0),g(0),P(!1)},"handleCleanup"),q=s(k=>{let N={succeeded:k.filter(x=>x.type==="success"),errored:k.filter(x=>x.type==="error")};i==null||i(N),P(!1)},"handleFinish");(0,Bt.useEffect)(()=>{m==null||m({totalAmount:C,processedAmount:v})},[C,v]);let D=s(({file:k})=>(h(),new Promise(N=>{P(!0),(0,Pl.parse)(k,{complete:async({data:x})=>{let S=bo(x,r);if(u(S.length),o===1){let O=S.map(T=>s(async()=>({response:await L.mutateAsync({resource:y??"",values:T,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:A,metaData:A}),value:T}),"fn")),R=await La(O,({response:T,value:M})=>(g(U=>U+1),{response:[T.data],type:"success",request:[M]}),(T,M)=>({response:[T],type:"error",request:[S[M]]}));N(R)}else{let O=(0,El.default)(S,o),R=O.map(M=>s(async()=>({response:await E.mutateAsync({resource:y??"",values:M,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:A,metaData:A}),value:M,currentBatchLength:M.length}),"fn")),T=await La(R,({response:M,currentBatchLength:U,value:W})=>(g($=>$+U),{response:M.data,type:"success",request:W}),(M,U)=>({response:[M],type:"error",request:O[U]}));N(T)}},...a})}).then(N=>(q(N),N))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:k=>{k.target.files&&k.target.files.length>0&&D({file:k.target.files[0]})}},mutationResult:w,isLoading:f,handleChange:D}},"useImport"),xr=b("react"),Cl=s(({defaultVisible:e=!1}={})=>{let[t,r]=(0,xr.useState)(e),a=(0,xr.useCallback)(()=>r(!0),[t]),o=(0,xr.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:o}},"useModal"),wl=s(({resource:e,action:t,meta:r,legacy:a})=>nr()({resource:e,action:t,meta:r,legacy:a}),"useToPath"),oo=Q(b("react")),ir=s(()=>{let e=(0,oo.useContext)(Ot);return e!=null&&e.Link?e.Link:s(({to:t,...r})=>oo.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),Ll=b("react"),gn=Q(b("react")),rt={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Sl=gn.default.createContext(rt),Zr=Sl,xl=s(({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:o,Link:i,routes:n})=>gn.default.createElement(Zr.Provider,{value:{useHistory:t??rt.useHistory,useLocation:r??rt.useLocation,useParams:a??rt.useParams,Prompt:o??rt.Prompt,Link:i??rt.Link,routes:n??rt.routes}},e),"LegacyRouterContextProvider"),Ne=s(()=>{let e=(0,Ll.useContext)(Zr),{useHistory:t,useLocation:r,useParams:a,Prompt:o,Link:i,routes:n}=e??rt;return{useHistory:t,useLocation:r,useParams:a,Prompt:o,Link:i,routes:n}},"useRouterContext"),Dl=b("@tanstack/react-query"),kl=b("react"),yn=Q(b("react")),At=yn.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),ql=s(({can:e,children:t,options:r})=>yn.default.createElement(At.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),ea=s(e=>{if(!e)return;let{icon:t,list:r,edit:a,create:o,show:i,clone:n,children:l,meta:m,options:d,...v}=e,{icon:g,...C}=m??{},{icon:u,...f}=d??{};return{...v,...m?{meta:C}:{},...d?{options:f}:{}}},"sanitizeResource"),Ml=ee(),hn=s(({action:e,resource:t,params:r,queryOptions:a})=>{let{can:o}=(0,kl.useContext)(At),{keys:i,preferLegacyKeys:n}=te(),{resource:l,...m}=r??{},d=ea(l),v=(0,Dl.useQuery)(i().access().resource(t).action(e).params({params:{...m,resource:d},enabled:a==null?void 0:a.enabled}).get(n),()=>(o==null?void 0:o({action:e,resource:t,params:{...m,resource:d}}))??Promise.resolve({can:!0}),{enabled:typeof o<"u",...a,meta:{...a==null?void 0:a.meta,...(0,Ml.getXRay)("useCan",n)},retry:!1});return typeof o>"u"?{data:{can:!0}}:v},"useCan"),no=Q(b("react")),Nl=s(()=>{let{can:e}=no.default.useContext(At);return{can:no.default.useMemo(()=>e?s(async({params:t,...r})=>{let a=t!=null&&t.resource?ea(t.resource):void 0;return e({...r,...t?{params:{...t,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),ht=b("react"),Rl=Q(b("lodash/uniqBy")),Ol=Q(b("lodash/debounce")),Ht=Q(b("lodash/get")),Tl=s(e=>{let[t,r]=(0,ht.useState)([]),[a,o]=(0,ht.useState)([]),[i,n]=(0,ht.useState)([]),{resource:l,sort:m,sorters:d,filters:v=[],optionLabel:g="title",optionValue:C="id",debounce:u=300,successNotification:f,errorNotification:P,defaultValueQueryOptions:p,queryOptions:y,fetchSize:c,pagination:E,hasPagination:L=!1,liveMode:A,defaultValue:w=[],onLiveEvent:h,onSearch:q,liveParams:D,meta:k,metaData:N,dataProviderName:x,overtimeOptions:S}=e,{resource:O,identifier:R}=V(l),T=de()({resource:O,meta:F(k,N)}),M=Array.isArray(w)?w:[w],U=(0,ht.useCallback)(B=>{n(B.data.map(J=>({label:(0,Ht.default)(J,g),value:(0,Ht.default)(J,C)})))},[g,C]),W=p??y,$=Yo({resource:R,ids:M,queryOptions:{...W,enabled:M.length>0&&((W==null?void 0:W.enabled)??!0),onSuccess:B=>{var J;U(B),(J=W==null?void 0:W.onSuccess)==null||J.call(W,B)}},meta:T,metaData:T,liveMode:"off",dataProviderName:x}),z=(0,ht.useCallback)(B=>{o(B.data.map(J=>({label:(0,Ht.default)(J,g),value:(0,Ht.default)(J,C)})))},[g,C]),K=Gr({resource:R,sorters:F(d,m),filters:v.concat(t),pagination:{current:E==null?void 0:E.current,pageSize:(E==null?void 0:E.pageSize)??c,mode:E==null?void 0:E.mode},hasPagination:L,queryOptions:{...y,onSuccess:B=>{var J;z(B),(J=y==null?void 0:y.onSuccess)==null||J.call(y,B)}},successNotification:f,errorNotification:P,meta:T,metaData:T,liveMode:A,liveParams:D,onLiveEvent:h,dataProviderName:x}),H=s(B=>{if(q){r(q(B));return}if(B)r([{field:g,operator:"contains",value:B}]);else{r([]);return}},"onSearch"),{elapsedTime:I}=fe({isLoading:K.isFetching||$.isFetching,interval:S==null?void 0:S.interval,onInterval:S==null?void 0:S.onInterval}),_=(0,ht.useMemo)(()=>(0,Rl.default)([...a,...i],"value"),[a,i]);return{queryResult:K,defaultValueQueryResult:$,options:_,onSearch:(0,Ol.default)(H,u),overtime:{elapsedTime:I}}},"useSelect"),lt=Q(b("react")),io=Q(b("qs")),_t=Q(b("lodash/differenceWith")),Gt=Q(b("lodash/isEqual")),Al=Q(b("warn-once")),so=[],lo=[];function Pn({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:o,permanentSorter:i=lo,defaultSetFilterBehavior:n,initialFilter:l,permanentFilter:m=so,filters:d,sorters:v,syncWithLocation:g,resource:C,successNotification:u,errorNotification:f,queryOptions:P,liveMode:p,onLiveEvent:y,liveParams:c,meta:E,metaData:L,dataProviderName:A,overtimeOptions:w}={}){var h,q,D,k,N;let{syncWithLocation:x}=Ho(),S=g??x,O=cn(p),R=pe(),{useLocation:T}=Ne(),{search:M,pathname:U}=T(),W=de(),$=je(),z=((d==null?void 0:d.mode)||"server")==="server",K=((v==null?void 0:v.mode)||"server")==="server",H=r===!1?"off":"server",I=((a==null?void 0:a.mode)??H)!=="off",_=F(a==null?void 0:a.current,e),B=F(a==null?void 0:a.pageSize,t),J=F(E,L),{parsedCurrent:ye,parsedPageSize:he,parsedSorter:Le,parsedFilters:It}=Wr(M??"?"),$t=F(d==null?void 0:d.initial,l),Fe=F(d==null?void 0:d.permanent,m)??so,Ft=F(v==null?void 0:v.initial,o),Je=F(v==null?void 0:v.permanent,i)??lo,Ze=F(d==null?void 0:d.defaultBehavior,n)??"merge",it,et,ft,gt;S?(it=((h=$==null?void 0:$.params)==null?void 0:h.current)||ye||_||1,et=((q=$==null?void 0:$.params)==null?void 0:q.pageSize)||he||B||10,ft=((D=$==null?void 0:$.params)==null?void 0:D.sorters)||(Le.length?Le:Ft),gt=((k=$==null?void 0:$.params)==null?void 0:k.filters)||(It.length?It:$t)):(it=_||1,et=B||10,ft=Ft,gt=$t);let{replace:Qt}=$e(),xt=Ie(),{resource:dr,identifier:se}=V(C),Qe=W({resource:dr,meta:J});lt.default.useEffect(()=>{(0,Al.default)(typeof se>"u","useTable: `resource` is not defined.")},[se]);let[le,Be]=(0,lt.useState)(Ar(Je,ft??[])),[ce,Ke]=(0,lt.useState)(Tr(Fe,gt??[])),[Ue,He]=(0,lt.useState)(it),[_e,ra]=(0,lt.useState)(et),Rn=s(({pagination:{current:ue,pageSize:Re},sorter:Kt,filters:Ut})=>{if(R==="new")return xt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...I?{current:ue,pageSize:Re}:{},sorters:Kt,filters:Ut,...aa()}})??"";{let Dt=io.default.parse(M==null?void 0:M.substring(1)),Fn=Rr({pagination:{pageSize:Re,current:ue},sorters:le??Kt,filters:Ut,...Dt});return`${U??""}?${Fn??""}`}},"createLinkForSyncWithLocation");(0,lt.useEffect)(()=>{M===""&&(He(it),ra(et),Be(Ar(Je,ft??[])),Ke(Tr(Fe,gt??[])))},[M]);let aa=s(()=>{if(R==="new"){let{sorters:ue,filters:Re,pageSize:Kt,current:Ut,...Dt}=($==null?void 0:$.params)??{};return Dt}else{let{sorter:ue,filters:Re,pageSize:Kt,current:Ut,...Dt}=io.default.parse(M,{ignoreQueryPrefix:!0});return Dt}},"currentQueryParams");(0,lt.useEffect)(()=>{if(S){let ue=aa();if(R==="new")xt({type:"replace",options:{keepQuery:!0},query:{...I?{pageSize:_e,current:Ue}:{},sorters:(0,_t.default)(le,Je,Gt.default),filters:(0,_t.default)(ce,Fe,Gt.default)}});else{let Re=Rr({...I?{pagination:{pageSize:_e,current:Ue}}:{},sorters:(0,_t.default)(le,Je,Gt.default),filters:(0,_t.default)(ce,Fe,Gt.default),...ue});return Qt==null?void 0:Qt(`${U}?${Re}`,void 0,{shallow:!0})}}},[S,Ue,_e,le,ce]);let cr=Gr({resource:se,hasPagination:r,pagination:{current:Ue,pageSize:_e,mode:a==null?void 0:a.mode},filters:z?qt(Fe,ce):void 0,sorters:K?Or(Je,le):void 0,queryOptions:P,successNotification:u,errorNotification:f,meta:Qe,metaData:Qe,liveMode:O,liveParams:c,onLiveEvent:y,dataProviderName:A}),On=s(ue=>{Ke(Re=>qt(Fe,ue,Re))},"setFiltersAsMerge"),Tn=s(ue=>{Ke(qt(Fe,ue))},"setFiltersAsReplace"),An=s(ue=>{Ke(Re=>qt(Fe,ue(Re)))},"setFiltersWithSetter"),In=s((ue,Re=Ze)=>{typeof ue=="function"?An(ue):Re==="replace"?Tn(ue):On(ue)},"setFiltersFn"),oa=s(ue=>{Be(()=>Or(Je,ue))},"setSortWithUnion"),{elapsedTime:$n}=fe({isLoading:cr.isFetching,interval:w==null?void 0:w.interval,onInterval:w==null?void 0:w.onInterval});return{tableQueryResult:cr,sorters:le,setSorters:oa,sorter:le,setSorter:oa,filters:ce,setFilters:In,current:Ue,setCurrent:He,pageSize:_e,setPageSize:ra,pageCount:_e?Math.ceil((((N=cr.data)==null?void 0:N.total)??0)/_e):1,createLinkForSyncWithLocation:Rn,overtime:{elapsedTime:$n}}}s(Pn,"useTable");var uo=b("react"),Dr=b("@tanstack/react-query"),En=Q(b("react")),sr=En.default.createContext({}),Il=s(({create:e,get:t,update:r,children:a})=>En.default.createElement(sr.Provider,{value:{create:e,get:t,update:r}},a),"AuditLogContextProvider"),co=ee(),vt=s(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Dr.useQueryClient)(),a=(0,uo.useContext)(sr),{keys:o,preferLegacyKeys:i}=te(),n=ve(),{resources:l}=(0,uo.useContext)(Rt),{data:m,refetch:d,isLoading:v}=jr({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy),queryOptions:{enabled:!!(a!=null&&a.create)}}),g=(0,Dr.useMutation)(async u=>{var f,P,p,y,c;let E=ge(u.resource,l),L=F((f=E==null?void 0:E.meta)==null?void 0:f.audit,(P=E==null?void 0:E.options)==null?void 0:P.audit,(y=(p=E==null?void 0:E.options)==null?void 0:p.auditLog)==null?void 0:y.permissions);if(L&&!ki(L,u.action))return;let A;return v&&a!=null&&a.create&&(A=await d()),await((c=a.create)==null?void 0:c.call(a,{...u,author:m??(A==null?void 0:A.data)}))},{mutationKey:o().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,co.getXRay)("useLog",i)}}),C=(0,Dr.useMutation)(async u=>{var f;return await((f=a.update)==null?void 0:f.call(a,u))},{onSuccess:u=>{u!=null&&u.resource&&r.invalidateQueries(o().audit().resource((u==null?void 0:u.resource)??"").action("list").get(i))},mutationKey:o().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,co.getXRay)("useLog",i)}});return{log:g,rename:C}},"useLog"),$l=b("react"),Fl=b("@tanstack/react-query"),Ql=ee(),Kl=s(({resource:e,action:t,meta:r,author:a,metaData:o,queryOptions:i})=>{let{get:n}=(0,$l.useContext)(sr),{keys:l,preferLegacyKeys:m}=te();return(0,Fl.useQuery)(l().audit().resource(e).action("list").params(r).get(m),()=>(n==null?void 0:n({resource:e,action:t,author:a,meta:r,metaData:o}))??Promise.resolve([]),{enabled:typeof n<"u",...i,retry:!1,meta:{...i==null?void 0:i.meta,...(0,Ql.getXRay)("useLogList",m)}})},"useLogList"),Ul=b("react"),Wl=Q(b("warn-once")),jl=s(({meta:e={}}={})=>{let t=pe(),{i18nProvider:r}=(0,Ul.useContext)(mt),a=je(),o=re(),{resources:i,resource:n,action:l}=V(),{options:{textTransformers:m}}=Ce(),d=[];if(!(n!=null&&n.name))return{breadcrumbs:d};let v=s(g=>{var C,u,f,P,p,y;let c=typeof g=="string"?ge(g,i,t==="legacy")??{name:g}:g;if(c){let E=F((C=c==null?void 0:c.meta)==null?void 0:C.parent,c==null?void 0:c.parentName);E&&v(E);let L=ke(c,i,t==="legacy").find(h=>h.action==="list"),A=(u=L==null?void 0:L.resource)!=null&&u.list?L==null?void 0:L.route:void 0,w=A?t==="legacy"?A:Oe(A,c==null?void 0:c.meta,a,e):void 0;d.push({label:F((f=c.meta)==null?void 0:f.label,(P=c.options)==null?void 0:P.label)??o(`${c.name}.${c.name}`,m.humanize(c.name)),href:w,icon:F((p=c.meta)==null?void 0:p.icon,(y=c.options)==null?void 0:y.icon,c.icon)})}},"addBreadcrumb");if(v(n),l&&l!=="list"){let g=`actions.${l}`,C=o(g);typeof r<"u"&&C===g?((0,Wl.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${l}" action. Please add "actions.${l}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),d.push({label:o(`buttons.${l}`,m.humanize(l))})):d.push({label:o(g,m.humanize(l))})}return{breadcrumbs:d}},"useBreadcrumb"),kr=Q(b("react")),Jt=s((e,t,r=!1)=>{let a=[],o=at(e,t);for(;o;)a.push(o),o=at(o,t);return a.reverse(),`/${[...a,e].map(i=>Ge((r?i.route:void 0)??i.identifier??i.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),zl=s((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(o=>{let i=[],n=at(o,e);for(;n;)i.push(n),n=at(n,e);i.reverse();let l=r;i.forEach(d=>{let v=(t?d.route:void 0)??d.identifier??d.name;l.children[v]||(l.children[v]={item:d,children:{}}),l=l.children[v]});let m=(t?o.route:void 0)??o.identifier??o.name;l.children[m]||(l.children[m]={item:o,children:{}})});let a=s(o=>{let i=[];return Object.keys(o.children).forEach(n=>{let l=Jt(o.children[n].item,e,t),m={...o.children[n].item,key:l,children:a(o.children[n])};i.push(m)}),i},"flatten");return a(r)},"createTree"),mo=s(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Bl=s(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=re(),a=nr(),o=pe(),{resource:i,resources:n}=V(),{pathname:l}=je(),{useLocation:m}=Ne(),{pathname:d}=m(),v=Ur(),g=`/${((o==="legacy"?mo(d):l?mo(l):void 0)??"").replace(/^\//,"")}`,C=i?Jt(i,n,o==="legacy"):g??"",u=kr.default.useMemo(()=>{if(!i)return[];let p=at(i,n),y=[Jt(i,n)];for(;p;)y.push(Jt(p,n)),p=at(p,n);return y},[]),f=kr.default.useCallback(p=>{var y,c,E,L,A,w;if((((y=p==null?void 0:p.meta)==null?void 0:y.hide)??((c=p==null?void 0:p.options)==null?void 0:c.hide))||!(p!=null&&p.list)&&p.children.length===0)return;let h=p.list?a({resource:p,action:"list",legacy:o==="legacy",meta:e}):void 0;if(!(t&&h&&h.match(/(\/|^):(.+?)(\/|$){1}/)))return{...p,route:h,icon:F((E=p.meta)==null?void 0:E.icon,(L=p.options)==null?void 0:L.icon,p.icon),label:F((A=p==null?void 0:p.meta)==null?void 0:A.label,(w=p==null?void 0:p.options)==null?void 0:w.label)??r(`${p.name}.${p.name}`,v(p.name,"plural"))}},[o,e,r,t]),P=kr.default.useMemo(()=>{let p=zl(n,o==="legacy"),y=s(c=>c.flatMap(E=>{let L=y(E.children),A=f({...E,children:L});return A?[A]:[]}),"prepare");return y(p)},[n,o,f]);return{defaultOpenKeys:u,selectedKey:C,menuItems:P}},"useMenu"),de=s(()=>{let{params:e}=je();return s(({resource:t,meta:r}={})=>{let{meta:a}=ea(t)??{meta:{}},{filters:o,sorters:i,current:n,pageSize:l,...m}=e??{};return{...a,...m,...r}},"getMetaFn")},"useMeta"),Hl=s(()=>{let[e,t]=(0,st.useState)(),r=re(),{push:a}=$e(),o=Ie(),i=pe(),{resource:n,action:l}=V();return(0,st.useEffect)(()=>{n&&l&&t(r("pages.error.info",{action:l,resource:n.name},`You may have forgotten to add the "${l}" component to "${n.name}" resource.`))},[n,l]),st.default.createElement(st.default.Fragment,null,st.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&st.default.createElement("p",null,e),st.default.createElement("button",{onClick:()=>{i==="legacy"?a("/"):o({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),me=Q(b("react")),bn=s(()=>{let[e,t]=(0,me.useState)(""),[r,a]=(0,me.useState)(""),o=re(),i=ve(),{mutate:n}=ar({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)});return me.default.createElement(me.default.Fragment,null,me.default.createElement("h1",null,o("pages.login.title","Sign in your account")),me.default.createElement("form",{onSubmit:l=>{l.preventDefault(),n({username:e,password:r})}},me.default.createElement("table",null,me.default.createElement("tbody",null,me.default.createElement("tr",null,me.default.createElement("td",null,o("pages.login.username",void 0,"username"),":"),me.default.createElement("td",null,me.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:l=>t(l.target.value)}))),me.default.createElement("tr",null,me.default.createElement("td",null,o("pages.login.password",void 0,"password"),":"),me.default.createElement("td",null,me.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:l=>a(l.target.value)}))))),me.default.createElement("br",null),me.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),Pt=Q(b("react")),Z=Q(b("react")),_l=s(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:o,wrapperProps:i,renderContent:n,formProps:l,title:m=void 0,hideForm:d})=>{let v=pe(),g=ir(),{Link:C}=Ne(),u=v==="legacy"?C:g,[f,P]=(0,Z.useState)(""),[p,y]=(0,Z.useState)(""),[c,E]=(0,Z.useState)(!1),L=re(),A=ve(),{mutate:w}=ar({v3LegacyAuthProviderCompatible:!!(A!=null&&A.isLegacy)}),h=s((k,N)=>Z.default.createElement(u,{to:k},N),"renderLink"),q=s(()=>e?e.map(k=>Z.default.createElement("div",{key:k.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Z.default.createElement("button",{onClick:()=>w({providerName:k.name}),style:{display:"flex",alignItems:"center"}},k==null?void 0:k.icon,k.label??Z.default.createElement("label",null,k.label)))):null,"renderProviders"),D=Z.default.createElement("div",{...o},Z.default.createElement("h1",{style:{textAlign:"center"}},L("pages.login.title","Sign in to your account")),q(),!d&&Z.default.createElement(Z.default.Fragment,null,Z.default.createElement("hr",null),Z.default.createElement("form",{onSubmit:k=>{k.preventDefault(),w({email:f,password:p,remember:c})},...l},Z.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Z.default.createElement("label",{htmlFor:"email-input"},L("pages.login.fields.email","Email")),Z.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:f,onChange:k=>P(k.target.value)}),Z.default.createElement("label",{htmlFor:"password-input"},L("pages.login.fields.password","Password")),Z.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:p,onChange:k=>y(k.target.value)}),a??Z.default.createElement(Z.default.Fragment,null,Z.default.createElement("label",{htmlFor:"remember-me-input"},L("pages.login.buttons.rememberMe","Remember me"),Z.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:c,value:c.toString(),onChange:()=>{E(!c)}}))),Z.default.createElement("br",null),r??h("/forgot-password",L("pages.login.buttons.forgotPassword","Forgot password?")),Z.default.createElement("input",{type:"submit",value:L("pages.login.signin","Sign in")}),t??Z.default.createElement("span",null,L("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",h("/register",L("pages.login.register","Sign up")))))),t!==!1&&d&&Z.default.createElement("div",{style:{textAlign:"center"}},L("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",h("/register",L("pages.login.register","Sign up"))));return Z.default.createElement("div",{...i},n?n(D,m):D)},"LoginPage"),oe=Q(b("react")),Gl=s(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:o,formProps:i,title:n=void 0,hideForm:l})=>{let m=pe(),d=ir(),{Link:v}=Ne(),g=m==="legacy"?v:d,[C,u]=(0,oe.useState)(""),[f,P]=(0,oe.useState)(""),p=re(),y=ve(),{mutate:c,isLoading:E}=Br({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),L=s((h,q)=>oe.default.createElement(g,{to:h},q),"renderLink"),A=s(()=>e?e.map(h=>oe.default.createElement("div",{key:h.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},oe.default.createElement("button",{onClick:()=>c({providerName:h.name}),style:{display:"flex",alignItems:"center"}},h==null?void 0:h.icon,h.label??oe.default.createElement("label",null,h.label)))):null,"renderProviders"),w=oe.default.createElement("div",{...a},oe.default.createElement("h1",{style:{textAlign:"center"}},p("pages.register.title","Sign up for your account")),A(),!l&&oe.default.createElement(oe.default.Fragment,null,oe.default.createElement("hr",null),oe.default.createElement("form",{onSubmit:h=>{h.preventDefault(),c({email:C,password:f})},...i},oe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},oe.default.createElement("label",{htmlFor:"email-input"},p("pages.register.fields.email","Email")),oe.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:C,onChange:h=>u(h.target.value)}),oe.default.createElement("label",{htmlFor:"password-input"},p("pages.register.fields.password","Password")),oe.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:f,onChange:h=>P(h.target.value)}),oe.default.createElement("input",{type:"submit",value:p("pages.register.buttons.submit","Sign up"),disabled:E}),t??oe.default.createElement(oe.default.Fragment,null,oe.default.createElement("span",null,p("pages.login.buttons.haveAccount","Have an account?")," ",L("/login",p("pages.login.signin","Sign in"))))))),t!==!1&&l&&oe.default.createElement("div",{style:{textAlign:"center"}},p("pages.login.buttons.haveAccount","Have an account?")," ",L("/login",p("pages.login.signin","Sign in"))));return oe.default.createElement("div",{...r},o?o(w,n):w)},"RegisterPage"),Se=Q(b("react")),Xl=s(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:o,title:i=void 0})=>{let n=re(),l=pe(),m=ir(),{Link:d}=Ne(),v=l==="legacy"?d:m,[g,C]=(0,Se.useState)(""),{mutate:u,isLoading:f}=Hr(),P=s((y,c)=>Se.default.createElement(v,{to:y},c),"renderLink"),p=Se.default.createElement("div",{...r},Se.default.createElement("h1",{style:{textAlign:"center"}},n("pages.forgotPassword.title","Forgot your password?")),Se.default.createElement("hr",null),Se.default.createElement("form",{onSubmit:y=>{y.preventDefault(),u({email:g})},...o},Se.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Se.default.createElement("label",{htmlFor:"email-input"},n("pages.forgotPassword.fields.email","Email")),Se.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:y=>C(y.target.value)}),Se.default.createElement("input",{type:"submit",disabled:f,value:n("pages.forgotPassword.buttons.submit","Send reset instructions")}),Se.default.createElement("br",null),e??Se.default.createElement("span",null,n("pages.register.buttons.haveAccount","Have an account? ")," ",P("/login",n("pages.login.signin","Sign in"))))));return Se.default.createElement("div",{...t},a?a(p,i):p)},"ForgotPasswordPage"),xe=Q(b("react")),Vl=s(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:o=void 0})=>{let i=re(),n=ve(),{mutate:l,isLoading:m}=_r({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy)}),[d,v]=(0,xe.useState)(""),[g,C]=(0,xe.useState)(""),u=xe.default.createElement("div",{...t},xe.default.createElement("h1",{style:{textAlign:"center"}},i("pages.updatePassword.title","Update Password")),xe.default.createElement("hr",null),xe.default.createElement("form",{onSubmit:f=>{f.preventDefault(),l({password:d,confirmPassword:g})},...a},xe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},xe.default.createElement("label",{htmlFor:"password-input"},i("pages.updatePassword.fields.password","New Password")),xe.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:d,onChange:f=>v(f.target.value)}),xe.default.createElement("label",{htmlFor:"confirm-password-input"},i("pages.updatePassword.fields.confirmPassword","Confirm New Password")),xe.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:g,onChange:f=>C(f.target.value)}),xe.default.createElement("input",{type:"submit",disabled:m,value:i("pages.updatePassword.buttons.submit","Update")}))));return xe.default.createElement("div",{...e},r?r(u,o):u)},"UpdatePasswordPage"),Yl=s(e=>{let{type:t}=e;return Pt.default.createElement(Pt.default.Fragment,null,s(()=>{switch(t){case"register":return Pt.default.createElement(Gl,{...e});case"forgotPassword":return Pt.default.createElement(Xl,{...e});case"updatePassword":return Pt.default.createElement(Vl,{...e});default:return Pt.default.createElement(_l,{...e})}},"renderView")())},"AuthPage"),Ee=Q(b("react")),Cn=s(()=>Ee.default.createElement(Ee.default.Fragment,null,Ee.default.createElement("h1",null,"Welcome on board"),Ee.default.createElement("p",null,"Your configuration is completed."),Ee.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Ee.default.createElement("code",null,"`resources`")," property of ",Ee.default.createElement("code",null,"`<Refine>`")),Ee.default.createElement("div",{style:{display:"flex",gap:8}},Ee.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Ee.default.createElement("button",null,"Documentation")),Ee.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Ee.default.createElement("button",null,"Examples")),Ee.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Ee.default.createElement("button",null,"Community")))),"ReadyPage"),ie=Q(b("react")),Jl=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],Zl=s(()=>{let e=xa("(max-width: 1010px)"),t=xa("(max-width: 650px)"),r=s(()=>t?"1, 280px":e?"2, 280px":"4, 1fr","getGridTemplateColumns"),a=s(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),o=s(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return ie.default.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},ie.default.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},ie.default.createElement("div",{style:{zIndex:2,position:"absolute",width:t?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),ie.default.createElement("div",{style:{height:t?"40px":"80px"}}),ie.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},ie.default.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:t?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:t?112:224,height:t?58:116}})),ie.default.createElement("div",{style:{height:t?"120px":e?"270px":"40vh",minHeight:t?"120px":"270px"}}),ie.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},ie.default.createElement("h1",{style:{fontSize:a(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),ie.default.createElement("h4",{style:{fontSize:o(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),ie.default.createElement("div",{style:{height:"64px"}}),ie.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},Jl.map(i=>ie.default.createElement(eu,{key:`welcome-page-${i.title}`,card:i})))))},"WelcomePage"),eu=s(({card:e})=>{let{title:t,description:r,iconUrl:a,link:o}=e,[i,n]=(0,ie.useState)(!1);return ie.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},ie.default.createElement("div",{style:{display:"flex",alignItems:"center"}},ie.default.createElement("a",{onPointerEnter:()=>n(!0),onPointerLeave:()=>n(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:o},ie.default.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${a})`}}),ie.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),ie.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...i&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},ie.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),ie.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),ne=Q(b("react")),qr=b("@tanstack/react-query"),tu=ee(),vo=Q(b("react")),ut=b("react"),ru="4.46.1",au=s(()=>{var e;let t=Vo(),r=(0,ut.useContext)(sr),a=(0,ut.useContext)(Nt),o=(0,ut.useContext)(Zr),i=(0,ut.useContext)(Yr),{i18nProvider:n}=(0,ut.useContext)(mt),l=(0,ut.useContext)(Jr),m=(0,ut.useContext)(At),{resources:d}=V(),v=Ce(),g=!!r.create||!!r.get||!!r.update,C=!!(a!=null&&a.publish)||!!(a!=null&&a.subscribe)||!!(a!=null&&a.unsubscribe),u=!!o.useHistory||!!o.Link||!!o.Prompt||!!o.useLocation||!!o.useParams,f=!!i,P=!!(n!=null&&n.changeLocale)||!!(n!=null&&n.getLocale)||!!(n!=null&&n.translate),p=!!l.close||!!l.open,y=!!m.can,c=(e=v==null?void 0:v.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:g,live:C,router:u,data:f,i18n:P,notification:p,accessControl:y},version:ru,resourceCount:d.length,projectId:c}},"useTelemetryData"),ou=s(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),nu=s(e=>{let t=new Image;t.src=e},"throughImage"),iu=s(e=>{fetch(e)},"throughFetch"),su=s(e=>{typeof Image<"u"?nu(e):typeof fetch<"u"&&iu(e)},"transport"),lu=s(()=>{let e=au(),t=vo.default.useRef(!1);return vo.default.useEffect(()=>{if(t.current)return;let r=ou(e);r&&(su(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),uu=s(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),po=Q(b("react")),du=s(e=>{let t=po.default.useRef(!1);po.default.useEffect(()=>{t.current===!1&&e&&uu(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),cu=s(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:o,notificationProvider:i,accessControlProvider:n,auditLogProvider:l,resources:m,DashboardPage:d,ReadyPage:v,LoginPage:g,catchAll:C,children:u,liveProvider:f,i18nProvider:P,Title:p,Layout:y,Sider:c,Header:E,Footer:L,OffLayoutArea:A,onLiveEvent:w,options:h})=>{let{optionsWithDefaults:q,disableTelemetryWithDefault:D,reactQueryWithDefaults:k}=$i({options:h}),N=an(()=>{var O;return k.clientConfig instanceof qr.QueryClient?k.clientConfig:new qr.QueryClient({...k.clientConfig,defaultOptions:{...k.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(O=k.clientConfig.defaultOptions)==null?void 0:O.queries}}})},[k.clientConfig]);(0,tu.useQuerySubscription)(N);let x=ne.default.useMemo(()=>typeof i=="function"?i:()=>i??{},[i])();if(du(o),a&&!o&&(m??[]).length===0)return v?ne.default.createElement(v,null):ne.default.createElement(Cn,null);let{RouterComponent:S=ne.default.Fragment}=o?{}:a??{};return ne.default.createElement(qr.QueryClientProvider,{client:N},ne.default.createElement(al,{...x},ne.default.createElement(Ui,{...e??{},isProvided:!!e},ne.default.createElement(Wi,{...t??{},isProvided:!!t},ne.default.createElement(Is,{...r},ne.default.createElement(Ks,{liveProvider:f},ne.default.createElement(Xs,{value:a&&!o?"legacy":"new"},ne.default.createElement(Ys,{router:o},ne.default.createElement(xl,{...a},ne.default.createElement(Gs,{resources:m??[]},ne.default.createElement(nl,{i18nProvider:P},ne.default.createElement(ql,{...n??{}},ne.default.createElement(Il,{...l??{}},ne.default.createElement(ys,null,ne.default.createElement(Ii,{mutationMode:q.mutationMode,warnWhenUnsavedChanges:q.warnWhenUnsavedChanges,syncWithLocation:q.syncWithLocation,Title:p,undoableTimeout:q.undoableTimeout,catchAll:C,DashboardPage:d,LoginPage:g,Layout:y,Sider:c,Footer:L,Header:E,OffLayoutArea:A,hasDashboard:!!d,liveMode:q.liveMode,onLiveEvent:w,options:q},ne.default.createElement(zi,null,ne.default.createElement(S,null,u,!D&&ne.default.createElement(lu,null),ne.default.createElement(Sn,null))))))))))))))))))},"Refine"),fo=b("react"),wn=s(({notification:e})=>{let t=re(),{notificationDispatch:r}=wt(),{open:a}=nt(),[o,i]=(0,fo.useState)(),n=s(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:pr(e.seconds)},`You have ${pr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:pr(e.seconds)}),e.seconds>0)){o&&clearTimeout(o);let l=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(l)}},"cancelNotification");return(0,fo.useEffect)(()=>{n()},[e]),null},"UndoableQueue"),er=Q(b("react")),mu=s(({children:e,Layout:t,Sider:r,Header:a,Title:o,Footer:i,OffLayoutArea:n})=>{let{Layout:l,Footer:m,Header:d,Sider:v,Title:g,OffLayoutArea:C}=Ce();return er.default.createElement(t??l,{Sider:r??v,Header:a??d,Footer:i??m,Title:o??g,OffLayoutArea:n??C},e,er.default.createElement(vu,null))},"LayoutWrapper"),vu=s(()=>{let{Prompt:e}=Ne(),t=re(),{warnWhen:r,setWarnWhen:a}=Kr(),o=s(i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue),"warnWhenListener");return(0,er.useEffect)(()=>(r&&window.addEventListener("beforeunload",o),window.removeEventListener("beforeunload",o)),[r]),er.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},"UnsavedPrompt"),Te=Q(b("react"));function Ln({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:o}){var i;let n=ve(),l=pe(),m=!!(n!=null&&n.isProvided),d=!!(n!=null&&n.isLegacy),v=l==="legacy",g=je(),C=Ie(),{useLocation:u}=Ne(),f=u(),{isFetching:P,isSuccess:p,data:{authenticated:y,redirectTo:c}={}}=or({v3LegacyAuthProviderCompatible:d}),E=m?d?p:y:!0;if(!m)return Te.default.createElement(Te.default.Fragment,null,r??null);if(P)return Te.default.createElement(Te.default.Fragment,null,o??null);if(E)return Te.default.createElement(Te.default.Fragment,null,r??null);{if(typeof a<"u")return Te.default.createElement(Te.default.Fragment,null,a??null);let L=d?typeof e=="string"?e:"/login":typeof e=="string"?e:c,A=`${v?f==null?void 0:f.pathname:g.pathname}`.replace(/(\?.*|#.*)$/,"");if(L)if(v){let w=t?`?to=${encodeURIComponent(A)}`:"";return Te.default.createElement(fu,{to:`${L}${w}`})}else return Te.default.createElement(pu,{config:{to:L,query:t?{to:(i=g.params)!=null&&i.to?g.params.to:C({to:A,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"}});return null}}s(Ln,"Authenticated");var pu=s(({config:e})=>{let t=Ie();return Te.default.useEffect(()=>{t(e)},[t,e]),null},"Redirect"),fu=s(({to:e})=>{let{replace:t}=$e();return Te.default.useEffect(()=>{t(e)},[t,e]),null},"RedirectLegacy"),gu=b("react"),Sn=s(()=>{let{useLocation:e}=Ne(),{checkAuth:t}=Ae(),r=e();return(0,gu.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),dt=Q(b("react")),yu=s(({resource:e,action:t,params:r,fallback:a,onUnauthorized:o,children:i,...n})=>{let{resource:l,id:m,action:d}=V(e),{identifier:v}=V(),g=s(()=>{let p=(r==null?void 0:r.id)??m;return e&&e!==v?r==null?void 0:r.id:p},"getDefaultId")(),C=e??(l==null?void 0:l.name),u=t??d??"",f=r??{id:g,resource:l},{data:P}=hn({resource:C,action:u,params:f});return(0,dt.useEffect)(()=>{o&&(P==null?void 0:P.can)===!1&&o({resource:C,action:u,reason:P==null?void 0:P.reason,params:f})},[P==null?void 0:P.can]),P!=null&&P.can?dt.default.isValidElement(i)?dt.default.cloneElement(i,n):dt.default.createElement(dt.default.Fragment,null,i):(P==null?void 0:P.can)===!1?dt.default.createElement(dt.default.Fragment,null,a??null):null},"CanAccess"),Y=Q(b("react")),hu=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `],Pu="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub",Eu=s(()=>((0,Y.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),hu.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),Y.default.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},Y.default.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26"}},Y.default.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},Y.default.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},Y.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},Y.default.createElement(Xt,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),Y.default.createElement(Xt,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),Y.default.createElement(go,{style:{position:"absolute",right:"10px"},id:"3"})),Y.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},Y.default.createElement(Xt,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),Y.default.createElement(Xt,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),Y.default.createElement(go,{style:{position:"absolute",right:"-70px"},id:"6"})))),Y.default.createElement(bu,{text:Pu})))),"GitHubBanner"),bu=s(({text:e})=>Y.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},Y.default.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},Y.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"),Y.default.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},e),Y.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"))),"Text"),Xt=s(({style:e,...t})=>Y.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},Y.default.createElement("circle",{cx:40,r:40,fill:`url(#${t.id}-a)`,fillOpacity:.5}),Y.default.createElement("defs",null,Y.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},Y.default.createElement("stop",{stopColor:"#47EBEB"}),Y.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),go=s(({style:e,...t})=>Y.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...t,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},Y.default.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${t.id}-a)`,fillOpacity:.5}),Y.default.createElement("defs",null,Y.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},Y.default.createElement("stop",{stopColor:"#47EBEB"}),Y.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig"),De=Q(b("react")),Cu=s(({status:e,elements:{success:t=De.default.createElement(Vt,{key:"autoSave.success",defaultMessage:"saved"}),error:r=De.default.createElement(Vt,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:a=De.default.createElement(Vt,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:o=De.default.createElement(Vt,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return De.default.createElement(De.default.Fragment,null,t);case"error":return De.default.createElement(De.default.Fragment,null,r);case"loading":return De.default.createElement(De.default.Fragment,null,a);default:return De.default.createElement(De.default.Fragment,null,o)}},"AutoSaveIndicator"),Vt=s(({key:e,defaultMessage:t})=>{let r=re();return De.default.createElement("span",null,r(e,t))},"Message")});var Nn=kt(ta()),Ye=b("react-router-dom");var pt=kt(b("react")),Lt=b("react-router-dom");var j=kt(b("react")),ae=b("react-router-dom"),G=kt(ta()),lr=({route:e})=>{let{catchAll:t}=(0,G.useRefineContext)(),{useParams:r}=(0,G.useRouterContext)(),{resources:a}=(0,G.useResource)(),{action:o,id:i}=r(),n=a.find(l=>l.route===e);if(n){let{list:l,create:m,edit:d,show:v,name:g,canCreate:C,canEdit:u,canShow:f,canDelete:P,options:p}=n,y=()=>console.error("`string` resource routes are not supported in legacy router. Please switch to the new router or assign Components to the resource routes."),c=()=>console.error("`Object` resource routes are not supported in legacy router. Please switch to the new router or assign Components to the resource routes."),E=(typeof l=="string"?y():typeof l=="object"?c():l)??(()=>null),L=(typeof m=="string"?y():typeof m=="object"?c():m)??(()=>null),A=(typeof d=="string"?y():typeof d=="object"?c():d)??(()=>null),w=(typeof v=="string"?y():typeof v=="object"?c():v)??(()=>null);return(()=>{switch(o){case void 0:return j.default.createElement(G.CanAccess,{resource:g,action:"list",fallback:t??j.default.createElement(G.ErrorComponent,null),params:{resource:n}},l?j.default.createElement(E,{name:g,canCreate:C,canEdit:u,canDelete:P,canShow:f,options:p}):t??j.default.createElement(G.ErrorComponent,null));case"create":case"clone":return j.default.createElement(G.CanAccess,{resource:g,action:"create",fallback:t??j.default.createElement(G.ErrorComponent,null),params:{id:i?decodeURIComponent(i):void 0,resource:n}},m?j.default.createElement(L,{name:g,canCreate:C,canEdit:u,canDelete:P,canShow:f,options:p}):t??j.default.createElement(G.ErrorComponent,null));case"edit":return j.default.createElement(G.CanAccess,{resource:g,action:"edit",params:{id:i?decodeURIComponent(i):void 0,resource:n},fallback:t??j.default.createElement(G.ErrorComponent,null)},d?j.default.createElement(A,{name:g,canCreate:C,canEdit:u,canDelete:P,canShow:f,options:p}):t??j.default.createElement(G.ErrorComponent,null));case"show":return j.default.createElement(G.CanAccess,{resource:g,action:"show",params:{id:i?decodeURIComponent(i):void 0,resource:n},fallback:t??j.default.createElement(G.ErrorComponent,null)},v?j.default.createElement(w,{name:g,canCreate:C,canEdit:u,canDelete:P,canShow:f,options:p}):t??j.default.createElement(G.ErrorComponent,null));default:return j.default.createElement(j.default.Fragment,null,t??j.default.createElement(G.ErrorComponent,null))}})()}return j.default.createElement(j.default.Fragment,null,t??j.default.createElement(G.ErrorComponent,null))},ur=({initialRoute:e})=>{let{resources:t}=(0,G.useResource)(),{catchAll:r,DashboardPage:a,LoginPage:o}=(0,G.useRefineContext)(),{routes:i}=(0,G.useRouterContext)(),n=(0,G.useActiveAuthProvider)(),{isFetching:l,isError:m,data:d}=(0,G.useIsAuthenticated)({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy),params:{type:"routeProvider"}}),v=(0,j.useMemo)(()=>n!=null&&n.isProvided?n!=null&&n.isLegacy?!(m||(d==null?void 0:d.error)):d==null?void 0:d.authenticated:!0,[d,m,n==null?void 0:n.isLegacy]);if(l)return j.default.createElement(ae.Routes,null,j.default.createElement(ae.Route,{path:"*",element:null}));let g=()=>{let{pathname:p,search:y}=location,c=`${p}${y}`;return j.default.createElement(ae.Navigate,{to:`/login?to=${encodeURIComponent(c)}`})},C=[];t.map(p=>{let y=j.default.createElement(ae.Route,{key:`${p.route}`,path:`${p.route}`,element:j.default.createElement(lr,{route:p.route})},j.default.createElement(ae.Route,{path:":action",element:j.default.createElement(lr,{route:p.route})},j.default.createElement(ae.Route,{path:":id",element:j.default.createElement(lr,{route:p.route})})));C.push(y)});let u=()=>{var p,y;return j.default.createElement(ae.Routes,null,[...i||[]].filter(c=>!c.layout).map((c,E)=>j.default.createElement(ae.Route,{key:`custom-route-${E}`,...c,element:c.element})),j.default.createElement(ae.Route,{path:"/",element:j.default.createElement(G.LayoutWrapper,null,j.default.createElement(ae.Outlet,null))},[...i||[]].filter(c=>c.layout).map((c,E)=>j.default.createElement(ae.Route,{key:`custom-route-${E}`,...c,element:c.element})),a?j.default.createElement(ae.Route,{index:!0,element:j.default.createElement(G.CanAccess,{resource:"dashboard",action:"list",fallback:r??j.default.createElement(G.ErrorComponent,null)},j.default.createElement(a,null))}):j.default.createElement(ae.Route,{index:!0,element:j.default.createElement(ae.Navigate,{to:e??`/${(y=(p=t.find(c=>c.list))==null?void 0:p.route)==null?void 0:y.replace(/^\//,"")}`})}),...[...C||[]],j.default.createElement(ae.Route,{path:"*",element:j.default.createElement(lr,{route:""})})))},f=()=>o?j.default.createElement(o,null):j.default.createElement(G.LoginPage,null);return v?u():(()=>j.default.createElement(ae.Routes,null,[...i||[]].map((p,y)=>j.default.createElement(ae.Route,{key:`custom-route-${y}`,...p})),j.default.createElement(ae.Route,{path:"/",element:f()}),j.default.createElement(ae.Route,{path:"/login",element:f()}),j.default.createElement(ae.Route,{path:"*",element:j.default.createElement(g,null)})))()};function Dn({children:e,...t}){return pt.default.createElement(Lt.BrowserRouter,{...t},pt.default.createElement(ur,{initialRoute:typeof this<"u"?this.initialRoute:void 0}),e)}function wu({children:e,...t}){return pt.default.createElement(Lt.MemoryRouter,{...t},pt.default.createElement(ur,{initialRoute:typeof this<"u"?this.initialRoute:void 0}),e)}function Lu({children:e,...t}){return pt.default.createElement(Lt.HashRouter,{...t},pt.default.createElement(ur,{initialRoute:typeof this<"u"?this.initialRoute:void 0}),e)}var St=kt(b("react")),kn=b("react-router-dom");function Su(e,t=!0){let{navigator:r}=St.default.useContext(kn.UNSAFE_NavigationContext);St.default.useEffect(()=>{if(!t)return;let a=r.go,o=r.push;return r.push=(...i)=>{e()!==!1&&o(...i)},r.go=(...i)=>{e()!==!1&&a(...i)},()=>{r.push=o,r.go=a}},[r,e,t])}function qn(e,t=!0,r,a=!1){let o=St.default.useCallback(n=>(n.preventDefault(),n.returnValue=e,n.returnValue),[e]);St.default.useEffect(()=>(t&&!a&&window.addEventListener("beforeunload",o),()=>{window.removeEventListener("beforeunload",o)}),[o,t,a]);let i=St.default.useCallback(()=>{let n=window.confirm(e);return n&&r&&r(),n},[e]);Su(i,t)}var Mn=({message:e,when:t,setWarnWhen:r})=>(qn(e,t,()=>{r==null||r(!1)},!0),null);var xu={useHistory:()=>{let e=(0,Ye.useNavigate)();return{push:e,replace:t=>{e(t,{replace:!0})},goBack:()=>{e(-1)}}},useLocation:Ye.useLocation,useParams:()=>{let e=(0,Ye.useParams)(),{pathname:t}=(0,Ye.useLocation)(),r=`/${Object.values(e).join("/")}`;return(0,Nn.handleUseParams)({...e,resource:Object.keys(e).length===0?t.substring(1):decodeURIComponent(t.substring(1)).replace(r,"")})},Prompt:Mn,Link:Ye.Link,RouterComponent:Dn},sd=xu;})();
//# sourceMappingURL=legacy.js.map